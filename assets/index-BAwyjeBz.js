(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function Gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vc={exports:{}},$s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function _S(){if(bm)return $s;bm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return $s.Fragment=e,$s.jsx=i,$s.jsxs=i,$s}var wm;function SS(){return wm||(wm=1,vc.exports=_S()),vc.exports}var w=SS(),_c={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function TS(){if(Am)return pe;Am=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,x={};function D(I,F,Q){this.props=I,this.context=F,this.refs=x,this.updater=Q||A}D.prototype.isReactComponent={},D.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},D.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function q(){}q.prototype=D.prototype;function U(I,F,Q){this.props=I,this.context=F,this.refs=x,this.updater=Q||A}var V=U.prototype=new q;V.constructor=U,R(V,D.prototype),V.isPureReactComponent=!0;var G=Array.isArray;function K(){}var J={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function X(I,F,Q){var ee=Q.ref;return{$$typeof:t,type:I,key:F,ref:ee!==void 0?ee:null,props:Q}}function re(I,F){return X(I.type,F,I.props)}function ye(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function se(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return F[Q]})}var ze=/\/+/g;function De(I,F){return typeof I=="object"&&I!==null&&I.key!=null?se(""+I.key):F.toString(36)}function Ze(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(K,K):(I.status="pending",I.then(function(F){I.status==="pending"&&(I.status="fulfilled",I.value=F)},function(F){I.status==="pending"&&(I.status="rejected",I.reason=F)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,F,Q,ee,he){var ve=typeof I;(ve==="undefined"||ve==="boolean")&&(I=null);var Ae=!1;if(I===null)Ae=!0;else switch(ve){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(I.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=I._init,H(Ae(I._payload),F,Q,ee,he)}}if(Ae)return he=he(I),Ae=ee===""?"."+De(I,0):ee,G(he)?(Q="",Ae!=null&&(Q=Ae.replace(ze,"$&/")+"/"),H(he,F,Q,"",function(vi){return vi})):he!=null&&(ye(he)&&(he=re(he,Q+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(ze,"$&/")+"/")+Ae)),F.push(he)),1;Ae=0;var ht=ee===""?".":ee+":";if(G(I))for(var je=0;je<I.length;je++)ee=I[je],ve=ht+De(ee,je),Ae+=H(ee,F,Q,ve,he);else if(je=E(I),typeof je=="function")for(I=je.call(I),je=0;!(ee=I.next()).done;)ee=ee.value,ve=ht+De(ee,je++),Ae+=H(ee,F,Q,ve,he);else if(ve==="object"){if(typeof I.then=="function")return H(Ze(I),F,Q,ee,he);throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function j(I,F,Q){if(I==null)return I;var ee=[],he=0;return H(I,ee,"","",function(ve){return F.call(Q,ve,he++)}),ee}function te(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var be=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ue={map:j,forEach:function(I,F,Q){j(I,function(){F.apply(this,arguments)},Q)},count:function(I){var F=0;return j(I,function(){F++}),F},toArray:function(I){return j(I,function(F){return F})||[]},only:function(I){if(!ye(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return pe.Activity=_,pe.Children=Ue,pe.Component=D,pe.Fragment=i,pe.Profiler=a,pe.PureComponent=U,pe.StrictMode=s,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,pe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},pe.cache=function(I){return function(){return I.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(I,F,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ee=R({},I.props),he=I.key;if(F!=null)for(ve in F.key!==void 0&&(he=""+F.key),F)!ne.call(F,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&F.ref===void 0||(ee[ve]=F[ve]);var ve=arguments.length-2;if(ve===1)ee.children=Q;else if(1<ve){for(var Ae=Array(ve),ht=0;ht<ve;ht++)Ae[ht]=arguments[ht+2];ee.children=Ae}return X(I.type,he,ee)},pe.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},pe.createElement=function(I,F,Q){var ee,he={},ve=null;if(F!=null)for(ee in F.key!==void 0&&(ve=""+F.key),F)ne.call(F,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=F[ee]);var Ae=arguments.length-2;if(Ae===1)he.children=Q;else if(1<Ae){for(var ht=Array(Ae),je=0;je<Ae;je++)ht[je]=arguments[je+2];he.children=ht}if(I&&I.defaultProps)for(ee in Ae=I.defaultProps,Ae)he[ee]===void 0&&(he[ee]=Ae[ee]);return X(I,ve,he)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(I){return{$$typeof:h,render:I}},pe.isValidElement=ye,pe.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:te}},pe.memo=function(I,F){return{$$typeof:p,type:I,compare:F===void 0?null:F}},pe.startTransition=function(I){var F=J.T,Q={};J.T=Q;try{var ee=I(),he=J.S;he!==null&&he(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(K,be)}catch(ve){be(ve)}finally{F!==null&&Q.types!==null&&(F.types=Q.types),J.T=F}},pe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},pe.use=function(I){return J.H.use(I)},pe.useActionState=function(I,F,Q){return J.H.useActionState(I,F,Q)},pe.useCallback=function(I,F){return J.H.useCallback(I,F)},pe.useContext=function(I){return J.H.useContext(I)},pe.useDebugValue=function(){},pe.useDeferredValue=function(I,F){return J.H.useDeferredValue(I,F)},pe.useEffect=function(I,F){return J.H.useEffect(I,F)},pe.useEffectEvent=function(I){return J.H.useEffectEvent(I)},pe.useId=function(){return J.H.useId()},pe.useImperativeHandle=function(I,F,Q){return J.H.useImperativeHandle(I,F,Q)},pe.useInsertionEffect=function(I,F){return J.H.useInsertionEffect(I,F)},pe.useLayoutEffect=function(I,F){return J.H.useLayoutEffect(I,F)},pe.useMemo=function(I,F){return J.H.useMemo(I,F)},pe.useOptimistic=function(I,F){return J.H.useOptimistic(I,F)},pe.useReducer=function(I,F,Q){return J.H.useReducer(I,F,Q)},pe.useRef=function(I){return J.H.useRef(I)},pe.useState=function(I){return J.H.useState(I)},pe.useSyncExternalStore=function(I,F,Q){return J.H.useSyncExternalStore(I,F,Q)},pe.useTransition=function(){return J.H.useTransition()},pe.version="19.2.4",pe}var Cm;function cd(){return Cm||(Cm=1,_c.exports=TS()),_c.exports}var Ke=cd();const ES=Gy(Ke);var Sc={exports:{}},Fs={},Tc={exports:{}},Ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function bS(){return Rm||(Rm=1,(function(t){function e(H,j){var te=H.length;H.push(j);e:for(;0<te;){var be=te-1>>>1,Ue=H[be];if(0<a(Ue,j))H[be]=j,H[te]=Ue,te=be;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var j=H[0],te=H.pop();if(te!==j){H[0]=te;e:for(var be=0,Ue=H.length,I=Ue>>>1;be<I;){var F=2*(be+1)-1,Q=H[F],ee=F+1,he=H[ee];if(0>a(Q,te))ee<Ue&&0>a(he,Q)?(H[be]=he,H[ee]=te,be=ee):(H[be]=Q,H[F]=te,be=F);else if(ee<Ue&&0>a(he,te))H[be]=he,H[ee]=te,be=ee;else break e}}return j}function a(H,j){var te=H.sortIndex-j.sortIndex;return te!==0?te:H.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],v=1,_=null,S=3,E=!1,A=!1,R=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(H){for(var j=i(p);j!==null;){if(j.callback===null)s(p);else if(j.startTime<=H)s(p),j.sortIndex=j.expirationTime,e(g,j);else break;j=i(p)}}function G(H){if(R=!1,V(H),!A)if(i(g)!==null)A=!0,K||(K=!0,se());else{var j=i(p);j!==null&&Ze(G,j.startTime-H)}}var K=!1,J=-1,ne=5,X=-1;function re(){return x?!0:!(t.unstable_now()-X<ne)}function ye(){if(x=!1,K){var H=t.unstable_now();X=H;var j=!0;try{e:{A=!1,R&&(R=!1,q(J),J=-1),E=!0;var te=S;try{t:{for(V(H),_=i(g);_!==null&&!(_.expirationTime>H&&re());){var be=_.callback;if(typeof be=="function"){_.callback=null,S=_.priorityLevel;var Ue=be(_.expirationTime<=H);if(H=t.unstable_now(),typeof Ue=="function"){_.callback=Ue,V(H),j=!0;break t}_===i(g)&&s(g),V(H)}else s(g);_=i(g)}if(_!==null)j=!0;else{var I=i(p);I!==null&&Ze(G,I.startTime-H),j=!1}}break e}finally{_=null,S=te,E=!1}j=void 0}}finally{j?se():K=!1}}}var se;if(typeof U=="function")se=function(){U(ye)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,De=ze.port2;ze.port1.onmessage=ye,se=function(){De.postMessage(null)}}else se=function(){D(ye,0)};function Ze(H,j){J=D(function(){H(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var te=S;S=j;try{return H()}finally{S=te}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=S;S=H;try{return j()}finally{S=te}},t.unstable_scheduleCallback=function(H,j,te){var be=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?be+te:be):te=be,H){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=te+Ue,H={id:v++,callback:j,priorityLevel:H,startTime:te,expirationTime:Ue,sortIndex:-1},te>be?(H.sortIndex=te,e(p,H),i(g)===null&&H===i(p)&&(R?(q(J),J=-1):R=!0,Ze(G,te-be))):(H.sortIndex=Ue,e(g,H),A||E||(A=!0,K||(K=!0,se()))),H},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(H){var j=S;return function(){var te=S;S=j;try{return H.apply(this,arguments)}finally{S=te}}}})(Ec)),Ec}var xm;function wS(){return xm||(xm=1,Tc.exports=bS()),Tc.exports}var bc={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function AS(){if(Nm)return Tt;Nm=1;var t=cd();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},Tt.flushSync=function(g){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=p,s.p=v,s.d.f()}},Tt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Tt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Tt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&s.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Tt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Tt.requestFormReset=function(g){s.d.r(g)},Tt.unstable_batchedUpdates=function(g,p){return g(p)},Tt.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},Tt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tt.version="19.2.4",Tt}var Im;function CS(){if(Im)return bc.exports;Im=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bc.exports=AS(),bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function RS(){if(Mm)return Fs;Mm=1;var t=wS(),e=cd(),i=CS();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,r=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(r=o.return),n=o.return;while(n)}return o.tag===3?r:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function h(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(s(188))}function p(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(s(188));return o!==n?null:n}for(var r=n,u=o;;){var m=r.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===r)return g(m),n;if(y===u)return g(m),o;y=y.sibling}throw Error(s(188))}if(r.return!==u.return)r=m,u=y;else{for(var T=!1,b=m.child;b;){if(b===r){T=!0,r=m,u=y;break}if(b===u){T=!0,u=m,r=y;break}b=b.sibling}if(!T){for(b=y.child;b;){if(b===r){T=!0,r=y,u=m;break}if(b===u){T=!0,u=y,r=m;break}b=b.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==u)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=ye&&n[ye]||n["@@iterator"],typeof n=="function"?n:null)}var ze=Symbol.for("react.client.reference");function De(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ze?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case D:return"Profiler";case x:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case U:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case V:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return o=n.displayName||null,o!==null?o:De(n.type)||"Memo";case ne:o=n._payload,n=n._init;try{return De(n(o))}catch{}}return null}var Ze=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},be=[],Ue=-1;function I(n){return{current:n}}function F(n){0>Ue||(n.current=be[Ue],be[Ue]=null,Ue--)}function Q(n,o){Ue++,be[Ue]=n.current,n.current=o}var ee=I(null),he=I(null),ve=I(null),Ae=I(null);function ht(n,o){switch(Q(ve,o),Q(he,n),Q(ee,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Jp(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Jp(o),n=Yp(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(ee),Q(ee,n)}function je(){F(ee),F(he),F(ve)}function vi(n){n.memoizedState!==null&&Q(Ae,n);var o=ee.current,r=Yp(o,n.type);o!==r&&(Q(he,n),Q(ee,r))}function Y(n){he.current===n&&(F(ee),F(he)),Ae.current===n&&(F(Ae),Hs._currentValue=te)}var Ie,Le;function ue(n){if(Ie===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);Ie=o&&o[1]||"",Le=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+n+Le}var Me=!1;function bt(n,o){if(!n||Me)return"";Me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(L){var P=L}Reflect.construct(n,[],$)}else{try{$.call()}catch(L){P=L}n.call($.prototype)}}else{try{throw Error()}catch(L){P=L}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(L){if(L&&P&&typeof L.stack=="string")return[L.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],b=y[1];if(T&&b){var C=T.split(`
`),O=b.split(`
`);for(m=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;m<O.length&&!O[m].includes("DetermineComponentFrameRoot");)m++;if(u===C.length||m===O.length)for(u=C.length-1,m=O.length-1;1<=u&&0<=m&&C[u]!==O[m];)m--;for(;1<=u&&0<=m;u--,m--)if(C[u]!==O[m]){if(u!==1||m!==1)do if(u--,m--,0>m||C[u]!==O[m]){var B=`
`+C[u].replace(" at new "," at ");return n.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",n.displayName)),B}while(1<=u&&0<=m);break}}}finally{Me=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?ue(r):""}function xt(n,o){switch(n.tag){case 26:case 27:case 5:return ue(n.type);case 16:return ue("Lazy");case 13:return n.child!==o&&o!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return bt(n.type,!1);case 11:return bt(n.type.render,!1);case 1:return bt(n.type,!0);case 31:return ue("Activity");default:return""}}function lr(n){try{var o="",r=null;do o+=xt(n,r),r=n,n=n.return;while(n);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Xo=Object.prototype.hasOwnProperty,Qo=t.unstable_scheduleCallback,sl=t.unstable_cancelCallback,Qv=t.unstable_shouldYield,Wv=t.unstable_requestPaint,Pt=t.unstable_now,Zv=t.unstable_getCurrentPriorityLevel,bd=t.unstable_ImmediatePriority,wd=t.unstable_UserBlockingPriority,ur=t.unstable_NormalPriority,e0=t.unstable_LowPriority,Ad=t.unstable_IdlePriority,t0=t.log,n0=t.unstable_setDisableYieldValue,Wo=null,Lt=null;function $n(n){if(typeof t0=="function"&&n0(n),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Wo,n)}catch{}}var qt=Math.clz32?Math.clz32:s0,i0=Math.log,o0=Math.LN2;function s0(n){return n>>>=0,n===0?32:31-(i0(n)/o0|0)|0}var cr=256,dr=262144,fr=4194304;function _i(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hr(n,o,r){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~y,u!==0?m=_i(u):(T&=b,T!==0?m=_i(T):r||(r=b&~n,r!==0&&(m=_i(r))))):(b=u&~y,b!==0?m=_i(b):T!==0?m=_i(T):r||(r=u&~n,r!==0&&(m=_i(r)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,r=o&-o,y>=r||y===32&&(r&4194048)!==0)?o:m}function Zo(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function r0(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cd(){var n=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),n}function rl(n){for(var o=[],r=0;31>r;r++)o.push(n);return o}function es(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function a0(n,o,r,u,m,y){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,O=n.hiddenUpdates;for(r=T&~r;0<r;){var B=31-qt(r),$=1<<B;b[B]=0,C[B]=-1;var P=O[B];if(P!==null)for(O[B]=null,B=0;B<P.length;B++){var L=P[B];L!==null&&(L.lane&=-536870913)}r&=~$}u!==0&&Rd(n,u,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~o))}function Rd(n,o,r){n.pendingLanes|=o,n.suspendedLanes&=~o;var u=31-qt(o);n.entangledLanes|=o,n.entanglements[u]=n.entanglements[u]|1073741824|r&261930}function xd(n,o){var r=n.entangledLanes|=o;for(n=n.entanglements;r;){var u=31-qt(r),m=1<<u;m&o|n[u]&o&&(n[u]|=o),r&=~m}}function Nd(n,o){var r=o&-o;return r=(r&42)!==0?1:al(r),(r&(n.suspendedLanes|o))!==0?0:r}function al(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ll(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Id(){var n=j.p;return n!==0?n:(n=window.event,n===void 0?32:gm(n.type))}function Md(n,o){var r=j.p;try{return j.p=n,o()}finally{j.p=r}}var Fn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Fn,Nt="__reactProps$"+Fn,Fi="__reactContainer$"+Fn,ul="__reactEvents$"+Fn,l0="__reactListeners$"+Fn,u0="__reactHandles$"+Fn,Dd="__reactResources$"+Fn,ts="__reactMarker$"+Fn;function cl(n){delete n[pt],delete n[Nt],delete n[ul],delete n[l0],delete n[u0]}function Ji(n){var o=n[pt];if(o)return o;for(var r=n.parentNode;r;){if(o=r[Fi]||r[pt]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(n=em(n);n!==null;){if(r=n[pt])return r;n=em(n)}return o}n=r,r=n.parentNode}return null}function Yi(n){if(n=n[pt]||n[Fi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function ns(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function Ki(n){var o=n[Dd];return o||(o=n[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ut(n){n[ts]=!0}var Ud=new Set,kd={};function Si(n,o){ji(n,o),ji(n+"Capture",o)}function ji(n,o){for(kd[n]=o,n=0;n<o.length;n++)Ud.add(o[n])}var c0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Pd={};function d0(n){return Xo.call(Pd,n)?!0:Xo.call(Od,n)?!1:c0.test(n)?Pd[n]=!0:(Od[n]=!0,!1)}function pr(n,o,r){if(d0(o))if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+r)}}function mr(n,o,r){if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+r)}}function Tn(n,o,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(o,r,""+u)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ld(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function f0(n,o,r){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){r=""+T,y.call(this,T)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function dl(n){if(!n._valueTracker){var o=Ld(n)?"checked":"value";n._valueTracker=f0(n,o,""+n[o])}}function qd(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var r=o.getValue(),u="";return n&&(u=Ld(n)?n.checked?"true":"false":n.value),n=u,n!==r?(o.setValue(n),!0):!1}function gr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var h0=/[\n"\\]/g;function jt(n){return n.replace(h0,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fl(n,o,r,u,m,y,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),o!=null?T==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Kt(o)):n.value!==""+Kt(o)&&(n.value=""+Kt(o)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),o!=null?hl(n,T,Kt(o)):r!=null?hl(n,T,Kt(r)):u!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Kt(b):n.removeAttribute("name")}function Gd(n,o,r,u,m,y,T,b){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){dl(n);return}r=r!=null?""+Kt(r):"",o=o!=null?""+Kt(o):r,b||o===n.value||(n.value=o),n.defaultValue=o}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),dl(n)}function hl(n,o,r){o==="number"&&gr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Xi(n,o,r,u){if(n=n.options,o){o={};for(var m=0;m<r.length;m++)o["$"+r[m]]=!0;for(r=0;r<n.length;r++)m=o.hasOwnProperty("$"+n[r].value),n[r].selected!==m&&(n[r].selected=m),m&&u&&(n[r].defaultSelected=!0)}else{for(r=""+Kt(r),o=null,m=0;m<n.length;m++){if(n[m].value===r){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Hd(n,o,r){if(o!=null&&(o=""+Kt(o),o!==n.value&&(n.value=o),r==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=r!=null?""+Kt(r):""}function Bd(n,o,r,u){if(o==null){if(u!=null){if(r!=null)throw Error(s(92));if(Ze(u)){if(1<u.length)throw Error(s(93));u=u[0]}r=u}r==null&&(r=""),o=r}r=Kt(o),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u),dl(n)}function Qi(n,o){if(o){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=o;return}}n.textContent=o}var p0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vd(n,o,r){var u=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":u?n.setProperty(o,r):typeof r!="number"||r===0||p0.has(o)?o==="float"?n.cssFloat=r:n[o]=(""+r).trim():n[o]=r+"px"}function zd(n,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in o)u=o[m],o.hasOwnProperty(m)&&r[m]!==u&&Vd(n,m,u)}else for(var y in o)o.hasOwnProperty(y)&&Vd(n,y,o[y])}function pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(n){return g0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function En(){}var ml=null;function gl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wi=null,Zi=null;function $d(n){var o=Yi(n);if(o&&(n=o.stateNode)){var r=n[Nt]||null;e:switch(n=o.stateNode,o.type){case"input":if(fl(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+jt(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var u=r[o];if(u!==n&&u.form===n.form){var m=u[Nt]||null;if(!m)throw Error(s(90));fl(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<r.length;o++)u=r[o],u.form===n.form&&qd(u)}break e;case"textarea":Hd(n,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&Xi(n,!!r.multiple,o,!1)}}}var yl=!1;function Fd(n,o,r){if(yl)return n(o,r);yl=!0;try{var u=n(o);return u}finally{if(yl=!1,(Wi!==null||Zi!==null)&&(oa(),Wi&&(o=Wi,n=Zi,Zi=Wi=null,$d(o),n)))for(o=0;o<n.length;o++)$d(n[o])}}function is(n,o){var r=n.stateNode;if(r===null)return null;var u=r[Nt]||null;if(u===null)return null;r=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(bn)try{var os={};Object.defineProperty(os,"passive",{get:function(){vl=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{vl=!1}var Jn=null,_l=null,vr=null;function Jd(){if(vr)return vr;var n,o=_l,r=o.length,u,m="value"in Jn?Jn.value:Jn.textContent,y=m.length;for(n=0;n<r&&o[n]===m[n];n++);var T=r-n;for(u=1;u<=T&&o[r-u]===m[y-u];u++);return vr=m.slice(n,1<u?1-u:void 0)}function _r(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Sr(){return!0}function Yd(){return!1}function It(n){function o(r,u,m,y,T){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(r=n[b],this[b]=r?r(y):y[b]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sr:Yd,this.isPropagationStopped=Yd,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=It(Ti),ss=_({},Ti,{view:0,detail:0}),y0=It(ss),Sl,Tl,rs,Er=_({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rs&&(rs&&n.type==="mousemove"?(Sl=n.screenX-rs.screenX,Tl=n.screenY-rs.screenY):Tl=Sl=0,rs=n),Sl)},movementY:function(n){return"movementY"in n?n.movementY:Tl}}),Kd=It(Er),v0=_({},Er,{dataTransfer:0}),_0=It(v0),S0=_({},ss,{relatedTarget:0}),El=It(S0),T0=_({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=It(T0),b0=_({},Ti,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),w0=It(b0),A0=_({},Ti,{data:0}),jd=It(A0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N0(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=x0[n])?!!o[n]:!1}function bl(){return N0}var I0=_({},ss,{key:function(n){if(n.key){var o=C0[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=_r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?R0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(n){return n.type==="keypress"?_r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),M0=It(I0),D0=_({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=It(D0),U0=_({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),k0=It(U0),O0=_({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=It(O0),L0=_({},Er,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=It(L0),G0=_({},Ti,{newState:0,oldState:0}),H0=It(G0),B0=[9,13,27,32],wl=bn&&"CompositionEvent"in window,as=null;bn&&"documentMode"in document&&(as=document.documentMode);var V0=bn&&"TextEvent"in window&&!as,Qd=bn&&(!wl||as&&8<as&&11>=as),Wd=" ",Zd=!1;function ef(n,o){switch(n){case"keyup":return B0.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var eo=!1;function z0(n,o){switch(n){case"compositionend":return tf(o);case"keypress":return o.which!==32?null:(Zd=!0,Wd);case"textInput":return n=o.data,n===Wd&&Zd?null:n;default:return null}}function $0(n,o){if(eo)return n==="compositionend"||!wl&&ef(n,o)?(n=Jd(),vr=_l=Jn=null,eo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qd&&o.locale!=="ko"?null:o.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nf(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!F0[n.type]:o==="textarea"}function of(n,o,r,u){Wi?Zi?Zi.push(u):Zi=[u]:Wi=u,o=da(o,"onChange"),0<o.length&&(r=new Tr("onChange","change",null,r,u),n.push({event:r,listeners:o}))}var ls=null,us=null;function J0(n){Hp(n,0)}function br(n){var o=ns(n);if(qd(o))return n}function sf(n,o){if(n==="change")return o}var rf=!1;if(bn){var Al;if(bn){var Cl="oninput"in document;if(!Cl){var af=document.createElement("div");af.setAttribute("oninput","return;"),Cl=typeof af.oninput=="function"}Al=Cl}else Al=!1;rf=Al&&(!document.documentMode||9<document.documentMode)}function lf(){ls&&(ls.detachEvent("onpropertychange",uf),us=ls=null)}function uf(n){if(n.propertyName==="value"&&br(us)){var o=[];of(o,us,n,gl(n)),Fd(J0,o)}}function Y0(n,o,r){n==="focusin"?(lf(),ls=o,us=r,ls.attachEvent("onpropertychange",uf)):n==="focusout"&&lf()}function K0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return br(us)}function j0(n,o){if(n==="click")return br(o)}function X0(n,o){if(n==="input"||n==="change")return br(o)}function Q0(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Gt=typeof Object.is=="function"?Object.is:Q0;function cs(n,o){if(Gt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var r=Object.keys(n),u=Object.keys(o);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Xo.call(o,m)||!Gt(n[m],o[m]))return!1}return!0}function cf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function df(n,o){var r=cf(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=o&&u>=o)return{node:r,offset:o-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cf(r)}}function ff(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?ff(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function hf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=gr(n.document);o instanceof n.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)n=o.contentWindow;else break;o=gr(n.document)}return o}function Rl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var W0=bn&&"documentMode"in document&&11>=document.documentMode,to=null,xl=null,ds=null,Nl=!1;function pf(n,o,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nl||to==null||to!==gr(u)||(u=to,"selectionStart"in u&&Rl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ds&&cs(ds,u)||(ds=u,u=da(xl,"onSelect"),0<u.length&&(o=new Tr("onSelect","select",null,o,r),n.push({event:o,listeners:u}),o.target=to)))}function Ei(n,o){var r={};return r[n.toLowerCase()]=o.toLowerCase(),r["Webkit"+n]="webkit"+o,r["Moz"+n]="moz"+o,r}var no={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Il={},mf={};bn&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function bi(n){if(Il[n])return Il[n];if(!no[n])return n;var o=no[n],r;for(r in o)if(o.hasOwnProperty(r)&&r in mf)return Il[n]=o[r];return n}var gf=bi("animationend"),yf=bi("animationiteration"),vf=bi("animationstart"),Z0=bi("transitionrun"),e_=bi("transitionstart"),t_=bi("transitioncancel"),_f=bi("transitionend"),Sf=new Map,Ml="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ml.push("scrollEnd");function ln(n,o){Sf.set(n,o),Si(o,[n])}var wr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Xt=[],io=0,Dl=0;function Ar(){for(var n=io,o=Dl=io=0;o<n;){var r=Xt[o];Xt[o++]=null;var u=Xt[o];Xt[o++]=null;var m=Xt[o];Xt[o++]=null;var y=Xt[o];if(Xt[o++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}y!==0&&Tf(r,m,y)}}function Cr(n,o,r,u){Xt[io++]=n,Xt[io++]=o,Xt[io++]=r,Xt[io++]=u,Dl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ul(n,o,r,u){return Cr(n,o,r,u),Rr(n)}function wi(n,o){return Cr(n,null,null,o),Rr(n)}function Tf(n,o,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var m=!1,y=n.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&o!==null&&(m=31-qt(r),n=y.hiddenUpdates,u=n[m],u===null?n[m]=[o]:u.push(o),o.lane=r|536870912),y):null}function Rr(n){if(50<Us)throw Us=0,Vu=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var oo={};function n_(n,o,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(n,o,r,u){return new n_(n,o,r,u)}function kl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wn(n,o){var r=n.alternate;return r===null?(r=Ht(n.tag,o,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=o,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,o=n.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Ef(n,o){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,o=r.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function xr(n,o,r,u,m,y){var T=0;if(u=n,typeof n=="function")kl(n)&&(T=1);else if(typeof n=="string")T=aS(n,r,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case X:return n=Ht(31,r,o,m),n.elementType=X,n.lanes=y,n;case R:return Ai(r.children,m,y,o);case x:T=8,m|=24;break;case D:return n=Ht(12,r,o,m|2),n.elementType=D,n.lanes=y,n;case G:return n=Ht(13,r,o,m),n.elementType=G,n.lanes=y,n;case K:return n=Ht(19,r,o,m),n.elementType=K,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:T=10;break e;case q:T=9;break e;case V:T=11;break e;case J:T=14;break e;case ne:T=16,u=null;break e}T=29,r=Error(s(130,n===null?"null":typeof n,"")),u=null}return o=Ht(T,r,o,m),o.elementType=n,o.type=u,o.lanes=y,o}function Ai(n,o,r,u){return n=Ht(7,n,u,o),n.lanes=r,n}function Ol(n,o,r){return n=Ht(6,n,null,o),n.lanes=r,n}function bf(n){var o=Ht(18,null,null,0);return o.stateNode=n,o}function Pl(n,o,r){return o=Ht(4,n.children!==null?n.children:[],n.key,o),o.lanes=r,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var wf=new WeakMap;function Qt(n,o){if(typeof n=="object"&&n!==null){var r=wf.get(n);return r!==void 0?r:(o={value:n,source:o,stack:lr(o)},wf.set(n,o),o)}return{value:n,source:o,stack:lr(o)}}var so=[],ro=0,Nr=null,fs=0,Wt=[],Zt=0,Yn=null,yn=1,vn="";function An(n,o){so[ro++]=fs,so[ro++]=Nr,Nr=n,fs=o}function Af(n,o,r){Wt[Zt++]=yn,Wt[Zt++]=vn,Wt[Zt++]=Yn,Yn=n;var u=yn;n=vn;var m=32-qt(u)-1;u&=~(1<<m),r+=1;var y=32-qt(o)+m;if(30<y){var T=m-m%5;y=(u&(1<<T)-1).toString(32),u>>=T,m-=T,yn=1<<32-qt(o)+m|r<<m|u,vn=y+n}else yn=1<<y|r<<m|u,vn=n}function Ll(n){n.return!==null&&(An(n,1),Af(n,1,0))}function ql(n){for(;n===Nr;)Nr=so[--ro],so[ro]=null,fs=so[--ro],so[ro]=null;for(;n===Yn;)Yn=Wt[--Zt],Wt[Zt]=null,vn=Wt[--Zt],Wt[Zt]=null,yn=Wt[--Zt],Wt[Zt]=null}function Cf(n,o){Wt[Zt++]=yn,Wt[Zt++]=vn,Wt[Zt++]=Yn,yn=o.id,vn=o.overflow,Yn=n}var mt=null,$e=null,we=!1,Kn=null,en=!1,Gl=Error(s(519));function jn(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hs(Qt(o,n)),Gl}function Rf(n){var o=n.stateNode,r=n.type,u=n.memoizedProps;switch(o[pt]=n,o[Nt]=u,r){case"dialog":Se("cancel",o),Se("close",o);break;case"iframe":case"object":case"embed":Se("load",o);break;case"video":case"audio":for(r=0;r<Os.length;r++)Se(Os[r],o);break;case"source":Se("error",o);break;case"img":case"image":case"link":Se("error",o),Se("load",o);break;case"details":Se("toggle",o);break;case"input":Se("invalid",o),Gd(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Se("invalid",o);break;case"textarea":Se("invalid",o),Bd(o,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||u.suppressHydrationWarning===!0||$p(o.textContent,r)?(u.popover!=null&&(Se("beforetoggle",o),Se("toggle",o)),u.onScroll!=null&&Se("scroll",o),u.onScrollEnd!=null&&Se("scrollend",o),u.onClick!=null&&(o.onclick=En),o=!0):o=!1,o||jn(n,!0)}function xf(n){for(mt=n.return;mt;)switch(mt.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:mt=mt.return}}function ao(n){if(n!==mt)return!1;if(!we)return xf(n),we=!0,!1;var o=n.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||ic(n.type,n.memoizedProps)),r=!r),r&&$e&&jn(n),xf(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=Zp(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=Zp(n)}else o===27?(o=$e,ui(n.type)?(n=lc,lc=null,$e=n):$e=o):$e=mt?nn(n.stateNode.nextSibling):null;return!0}function Ci(){$e=mt=null,we=!1}function Hl(){var n=Kn;return n!==null&&(kt===null?kt=n:kt.push.apply(kt,n),Kn=null),n}function hs(n){Kn===null?Kn=[n]:Kn.push(n)}var Bl=I(null),Ri=null,Cn=null;function Xn(n,o,r){Q(Bl,o._currentValue),o._currentValue=r}function Rn(n){n._currentValue=Bl.current,F(Bl)}function Vl(n,o,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),n===r)break;n=n.return}}function zl(n,o,r,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var b=y;y=m;for(var C=0;C<o.length;C++)if(b.context===o[C]){y.lanes|=r,b=y.alternate,b!==null&&(b.lanes|=r),Vl(y.return,r,n),u||(T=null);break e}y=b.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=r,y=T.alternate,y!==null&&(y.lanes|=r),Vl(T,r,n),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===n){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function lo(n,o,r,u){n=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=m.type;Gt(m.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(m===Ae.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Hs):n=[Hs])}m=m.return}n!==null&&zl(o,n,r,u),o.flags|=262144}function Ir(n){for(n=n.firstContext;n!==null;){if(!Gt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xi(n){Ri=n,Cn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gt(n){return Nf(Ri,n)}function Mr(n,o){return Ri===null&&xi(n),Nf(n,o)}function Nf(n,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},Cn===null){if(n===null)throw Error(s(308));Cn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Cn=Cn.next=o;return r}var i_=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){o.aborted=!0,n.forEach(function(r){return r()})}},o_=t.unstable_scheduleCallback,s_=t.unstable_NormalPriority,nt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $l(){return{controller:new i_,data:new Map,refCount:0}}function ps(n){n.refCount--,n.refCount===0&&o_(s_,function(){n.controller.abort()})}var ms=null,Fl=0,uo=0,co=null;function r_(n,o){if(ms===null){var r=ms=[];Fl=0,uo=Ku(),co={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Fl++,o.then(If,If),o}function If(){if(--Fl===0&&ms!==null){co!==null&&(co.status="fulfilled");var n=ms;ms=null,uo=0,co=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function a_(n,o){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return n.then(function(){u.status="fulfilled",u.value=o;for(var m=0;m<r.length;m++)(0,r[m])(o)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var Mf=H.S;H.S=function(n,o){pp=Pt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&r_(n,o),Mf!==null&&Mf(n,o)};var Ni=I(null);function Jl(){var n=Ni.current;return n!==null?n:Be.pooledCache}function Dr(n,o){o===null?Q(Ni,Ni.current):Q(Ni,o.pool)}function Df(){var n=Jl();return n===null?null:{parent:nt._currentValue,pool:n}}var fo=Error(s(460)),Yl=Error(s(474)),Ur=Error(s(542)),kr={then:function(){}};function Uf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function kf(n,o,r){switch(r=n[r],r===void 0?n.push(o):r!==o&&(o.then(En,En),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Pf(n),n;default:if(typeof o.status=="string")o.then(En,En);else{if(n=Be,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(u){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=u}},function(u){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Pf(n),n}throw Mi=o,fo}}function Ii(n){try{var o=n._init;return o(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Mi=r,fo):r}}var Mi=null;function Of(){if(Mi===null)throw Error(s(459));var n=Mi;return Mi=null,n}function Pf(n){if(n===fo||n===Ur)throw Error(s(483))}var ho=null,gs=0;function Or(n){var o=gs;return gs+=1,ho===null&&(ho=[]),kf(ho,n,o)}function ys(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Pr(n,o){throw o.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Lf(n){function o(M,N){if(n){var k=M.deletions;k===null?(M.deletions=[N],M.flags|=16):k.push(N)}}function r(M,N){if(!n)return null;for(;N!==null;)o(M,N),N=N.sibling;return null}function u(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function m(M,N){return M=wn(M,N),M.index=0,M.sibling=null,M}function y(M,N,k){return M.index=k,n?(k=M.alternate,k!==null?(k=k.index,k<N?(M.flags|=67108866,N):k):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function T(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function b(M,N,k,z){return N===null||N.tag!==6?(N=Ol(k,M.mode,z),N.return=M,N):(N=m(N,k),N.return=M,N)}function C(M,N,k,z){var ae=k.type;return ae===R?B(M,N,k.props.children,z,k.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&Ii(ae)===N.type)?(N=m(N,k.props),ys(N,k),N.return=M,N):(N=xr(k.type,k.key,k.props,null,M.mode,z),ys(N,k),N.return=M,N)}function O(M,N,k,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Pl(k,M.mode,z),N.return=M,N):(N=m(N,k.children||[]),N.return=M,N)}function B(M,N,k,z,ae){return N===null||N.tag!==7?(N=Ai(k,M.mode,z,ae),N.return=M,N):(N=m(N,k),N.return=M,N)}function $(M,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ol(""+N,M.mode,k),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return k=xr(N.type,N.key,N.props,null,M.mode,k),ys(k,N),k.return=M,k;case A:return N=Pl(N,M.mode,k),N.return=M,N;case ne:return N=Ii(N),$(M,N,k)}if(Ze(N)||se(N))return N=Ai(N,M.mode,k,null),N.return=M,N;if(typeof N.then=="function")return $(M,Or(N),k);if(N.$$typeof===U)return $(M,Mr(M,N),k);Pr(M,N)}return null}function P(M,N,k,z){var ae=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ae!==null?null:b(M,N,""+k,z);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===ae?C(M,N,k,z):null;case A:return k.key===ae?O(M,N,k,z):null;case ne:return k=Ii(k),P(M,N,k,z)}if(Ze(k)||se(k))return ae!==null?null:B(M,N,k,z,null);if(typeof k.then=="function")return P(M,N,Or(k),z);if(k.$$typeof===U)return P(M,N,Mr(M,k),z);Pr(M,k)}return null}function L(M,N,k,z,ae){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return M=M.get(k)||null,b(N,M,""+z,ae);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return M=M.get(z.key===null?k:z.key)||null,C(N,M,z,ae);case A:return M=M.get(z.key===null?k:z.key)||null,O(N,M,z,ae);case ne:return z=Ii(z),L(M,N,k,z,ae)}if(Ze(z)||se(z))return M=M.get(k)||null,B(N,M,z,ae,null);if(typeof z.then=="function")return L(M,N,k,Or(z),ae);if(z.$$typeof===U)return L(M,N,k,Mr(N,z),ae);Pr(N,z)}return null}function Z(M,N,k,z){for(var ae=null,Ce=null,ie=N,ge=N=0,Ee=null;ie!==null&&ge<k.length;ge++){ie.index>ge?(Ee=ie,ie=null):Ee=ie.sibling;var Re=P(M,ie,k[ge],z);if(Re===null){ie===null&&(ie=Ee);break}n&&ie&&Re.alternate===null&&o(M,ie),N=y(Re,N,ge),Ce===null?ae=Re:Ce.sibling=Re,Ce=Re,ie=Ee}if(ge===k.length)return r(M,ie),we&&An(M,ge),ae;if(ie===null){for(;ge<k.length;ge++)ie=$(M,k[ge],z),ie!==null&&(N=y(ie,N,ge),Ce===null?ae=ie:Ce.sibling=ie,Ce=ie);return we&&An(M,ge),ae}for(ie=u(ie);ge<k.length;ge++)Ee=L(ie,M,ge,k[ge],z),Ee!==null&&(n&&Ee.alternate!==null&&ie.delete(Ee.key===null?ge:Ee.key),N=y(Ee,N,ge),Ce===null?ae=Ee:Ce.sibling=Ee,Ce=Ee);return n&&ie.forEach(function(pi){return o(M,pi)}),we&&An(M,ge),ae}function le(M,N,k,z){if(k==null)throw Error(s(151));for(var ae=null,Ce=null,ie=N,ge=N=0,Ee=null,Re=k.next();ie!==null&&!Re.done;ge++,Re=k.next()){ie.index>ge?(Ee=ie,ie=null):Ee=ie.sibling;var pi=P(M,ie,Re.value,z);if(pi===null){ie===null&&(ie=Ee);break}n&&ie&&pi.alternate===null&&o(M,ie),N=y(pi,N,ge),Ce===null?ae=pi:Ce.sibling=pi,Ce=pi,ie=Ee}if(Re.done)return r(M,ie),we&&An(M,ge),ae;if(ie===null){for(;!Re.done;ge++,Re=k.next())Re=$(M,Re.value,z),Re!==null&&(N=y(Re,N,ge),Ce===null?ae=Re:Ce.sibling=Re,Ce=Re);return we&&An(M,ge),ae}for(ie=u(ie);!Re.done;ge++,Re=k.next())Re=L(ie,M,ge,Re.value,z),Re!==null&&(n&&Re.alternate!==null&&ie.delete(Re.key===null?ge:Re.key),N=y(Re,N,ge),Ce===null?ae=Re:Ce.sibling=Re,Ce=Re);return n&&ie.forEach(function(vS){return o(M,vS)}),we&&An(M,ge),ae}function He(M,N,k,z){if(typeof k=="object"&&k!==null&&k.type===R&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var ae=k.key;N!==null;){if(N.key===ae){if(ae=k.type,ae===R){if(N.tag===7){r(M,N.sibling),z=m(N,k.props.children),z.return=M,M=z;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ne&&Ii(ae)===N.type){r(M,N.sibling),z=m(N,k.props),ys(z,k),z.return=M,M=z;break e}r(M,N);break}else o(M,N);N=N.sibling}k.type===R?(z=Ai(k.props.children,M.mode,z,k.key),z.return=M,M=z):(z=xr(k.type,k.key,k.props,null,M.mode,z),ys(z,k),z.return=M,M=z)}return T(M);case A:e:{for(ae=k.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(M,N.sibling),z=m(N,k.children||[]),z.return=M,M=z;break e}else{r(M,N);break}else o(M,N);N=N.sibling}z=Pl(k,M.mode,z),z.return=M,M=z}return T(M);case ne:return k=Ii(k),He(M,N,k,z)}if(Ze(k))return Z(M,N,k,z);if(se(k)){if(ae=se(k),typeof ae!="function")throw Error(s(150));return k=ae.call(k),le(M,N,k,z)}if(typeof k.then=="function")return He(M,N,Or(k),z);if(k.$$typeof===U)return He(M,N,Mr(M,k),z);Pr(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(M,N.sibling),z=m(N,k),z.return=M,M=z):(r(M,N),z=Ol(k,M.mode,z),z.return=M,M=z),T(M)):r(M,N)}return function(M,N,k,z){try{gs=0;var ae=He(M,N,k,z);return ho=null,ae}catch(ie){if(ie===fo||ie===Ur)throw ie;var Ce=Ht(29,ie,null,M.mode);return Ce.lanes=z,Ce.return=M,Ce}finally{}}}var Di=Lf(!0),qf=Lf(!1),Qn=!1;function Kl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jl(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(n,o,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ne&2)!==0){var m=u.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),u.pending=o,o=Rr(n),Tf(n,null,r),o}return Cr(n,u,o,r),Rr(n)}function vs(n,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var u=o.lanes;u&=n.pendingLanes,r|=u,o.lanes=r,xd(n,r)}}function Xl(n,o){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,r=r.next}while(r!==null);y===null?m=y=o:y=y.next=o}else m=y=o;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=o:n.next=o,r.lastBaseUpdate=o}var Ql=!1;function _s(){if(Ql){var n=co;if(n!==null)throw n}}function Ss(n,o,r,u){Ql=!1;var m=n.updateQueue;Qn=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,b=m.shared.pending;if(b!==null){m.shared.pending=null;var C=b,O=C.next;C.next=null,T===null?y=O:T.next=O,T=C;var B=n.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==T&&(b===null?B.firstBaseUpdate=O:b.next=O,B.lastBaseUpdate=C))}if(y!==null){var $=m.baseState;T=0,B=O=C=null,b=y;do{var P=b.lane&-536870913,L=P!==b.lane;if(L?(Te&P)===P:(u&P)===P){P!==0&&P===uo&&(Ql=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Z=n,le=b;P=o;var He=r;switch(le.tag){case 1:if(Z=le.payload,typeof Z=="function"){$=Z.call(He,$,P);break e}$=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=le.payload,P=typeof Z=="function"?Z.call(He,$,P):Z,P==null)break e;$=_({},$,P);break e;case 2:Qn=!0}}P=b.callback,P!==null&&(n.flags|=64,L&&(n.flags|=8192),L=m.callbacks,L===null?m.callbacks=[P]:L.push(P))}else L={lane:P,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(O=B=L,C=$):B=B.next=L,T|=P;if(b=b.next,b===null){if(b=m.shared.pending,b===null)break;L=b,b=L.next,L.next=null,m.lastBaseUpdate=L,m.shared.pending=null}}while(!0);B===null&&(C=$),m.baseState=C,m.firstBaseUpdate=O,m.lastBaseUpdate=B,y===null&&(m.shared.lanes=0),oi|=T,n.lanes=T,n.memoizedState=$}}function Gf(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function Hf(n,o){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Gf(r[n],o)}var po=I(null),Lr=I(0);function Bf(n,o){n=Pn,Q(Lr,n),Q(po,o),Pn=n|o.baseLanes}function Wl(){Q(Lr,Pn),Q(po,po.current)}function Zl(){Pn=Lr.current,F(po),F(Lr)}var Bt=I(null),tn=null;function ei(n){var o=n.alternate;Q(et,et.current&1),Q(Bt,n),tn===null&&(o===null||po.current!==null||o.memoizedState!==null)&&(tn=n)}function eu(n){Q(et,et.current),Q(Bt,n),tn===null&&(tn=n)}function Vf(n){n.tag===22?(Q(et,et.current),Q(Bt,n),tn===null&&(tn=n)):ti()}function ti(){Q(et,et.current),Q(Bt,Bt.current)}function Vt(n){F(Bt),tn===n&&(tn=null),F(et)}var et=I(0);function qr(n){for(var o=n;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||rc(r)||ac(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xn=0,me=null,qe=null,it=null,Gr=!1,mo=!1,Ui=!1,Hr=0,Ts=0,go=null,l_=0;function Xe(){throw Error(s(321))}function tu(n,o){if(o===null)return!1;for(var r=0;r<o.length&&r<n.length;r++)if(!Gt(n[r],o[r]))return!1;return!0}function nu(n,o,r,u,m,y){return xn=y,me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=n===null||n.memoizedState===null?Ah:yu,Ui=!1,y=r(u,m),Ui=!1,mo&&(y=$f(o,r,u,m)),zf(n),y}function zf(n){H.H=ws;var o=qe!==null&&qe.next!==null;if(xn=0,it=qe=me=null,Gr=!1,Ts=0,go=null,o)throw Error(s(300));n===null||ot||(n=n.dependencies,n!==null&&Ir(n)&&(ot=!0))}function $f(n,o,r,u){me=n;var m=0;do{if(mo&&(go=null),Ts=0,mo=!1,25<=m)throw Error(s(301));if(m+=1,it=qe=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=Ch,y=o(r,u)}while(mo);return y}function u_(){var n=H.H,o=n.useState()[0];return o=typeof o.then=="function"?Es(o):o,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(me.flags|=1024),o}function iu(){var n=Hr!==0;return Hr=0,n}function ou(n,o,r){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~r}function su(n){if(Gr){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Gr=!1}xn=0,it=qe=me=null,mo=!1,Ts=Hr=0,go=null}function wt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?me.memoizedState=it=n:it=it.next=n,it}function tt(){if(qe===null){var n=me.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var o=it===null?me.memoizedState:it.next;if(o!==null)it=o,qe=n;else{if(n===null)throw me.alternate===null?Error(s(467)):Error(s(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},it===null?me.memoizedState=it=n:it=it.next=n}return it}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Es(n){var o=Ts;return Ts+=1,go===null&&(go=[]),n=kf(go,n,o),o=me,(it===null?o.memoizedState:it.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?Ah:yu),n}function Vr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Es(n);if(n.$$typeof===U)return gt(n)}throw Error(s(438,String(n)))}function ru(n){var o=null,r=me.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var u=me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=Br(),me.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(n),u=0;u<n;u++)r[u]=re;return o.index++,r}function Nn(n,o){return typeof o=="function"?o(n):o}function zr(n){var o=tt();return au(o,qe,n)}function au(n,o,r){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var m=n.baseQueue,y=u.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}o.baseQueue=m=y,u.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{o=m.next;var b=T=null,C=null,O=o,B=!1;do{var $=O.lane&-536870913;if($!==O.lane?(Te&$)===$:(xn&$)===$){var P=O.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),$===uo&&(B=!0);else if((xn&P)===P){O=O.next,P===uo&&(B=!0);continue}else $={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(b=C=$,T=y):C=C.next=$,me.lanes|=P,oi|=P;$=O.action,Ui&&r(y,$),y=O.hasEagerState?O.eagerState:r(y,$)}else P={lane:$,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(b=C=P,T=y):C=C.next=P,me.lanes|=$,oi|=$;O=O.next}while(O!==null&&O!==o);if(C===null?T=y:C.next=b,!Gt(y,n.memoizedState)&&(ot=!0,B&&(r=co,r!==null)))throw r;n.memoizedState=y,n.baseState=T,n.baseQueue=C,u.lastRenderedState=y}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function lu(n){var o=tt(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var u=r.dispatch,m=r.pending,y=o.memoizedState;if(m!==null){r.pending=null;var T=m=m.next;do y=n(y,T.action),T=T.next;while(T!==m);Gt(y,o.memoizedState)||(ot=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),r.lastRenderedState=y}return[y,u]}function Ff(n,o,r){var u=me,m=tt(),y=we;if(y){if(r===void 0)throw Error(s(407));r=r()}else r=o();var T=!Gt((qe||m).memoizedState,r);if(T&&(m.memoizedState=r,ot=!0),m=m.queue,du(Kf.bind(null,u,m,n),[n]),m.getSnapshot!==o||T||it!==null&&it.memoizedState.tag&1){if(u.flags|=2048,yo(9,{destroy:void 0},Yf.bind(null,u,m,r,o),null),Be===null)throw Error(s(349));y||(xn&127)!==0||Jf(u,o,r)}return r}function Jf(n,o,r){n.flags|=16384,n={getSnapshot:o,value:r},o=me.updateQueue,o===null?(o=Br(),me.updateQueue=o,o.stores=[n]):(r=o.stores,r===null?o.stores=[n]:r.push(n))}function Yf(n,o,r,u){o.value=r,o.getSnapshot=u,jf(o)&&Xf(n)}function Kf(n,o,r){return r(function(){jf(o)&&Xf(n)})}function jf(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!Gt(n,r)}catch{return!0}}function Xf(n){var o=wi(n,2);o!==null&&Ot(o,n,2)}function uu(n){var o=wt();if(typeof n=="function"){var r=n;if(n=r(),Ui){$n(!0);try{r()}finally{$n(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},o}function Qf(n,o,r,u){return n.baseState=r,au(n,qe,typeof u=="function"?u:Nn)}function c_(n,o,r,u,m){if(Jr(n))throw Error(s(485));if(n=o.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};H.T!==null?r(!0):y.isTransition=!1,u(y),r=o.pending,r===null?(y.next=o.pending=y,Wf(o,y)):(y.next=r.next,o.pending=r.next=y)}}function Wf(n,o){var r=o.action,u=o.payload,m=n.state;if(o.isTransition){var y=H.T,T={};H.T=T;try{var b=r(m,u),C=H.S;C!==null&&C(T,b),Zf(n,o,b)}catch(O){cu(n,o,O)}finally{y!==null&&T.types!==null&&(y.types=T.types),H.T=y}}else try{y=r(m,u),Zf(n,o,y)}catch(O){cu(n,o,O)}}function Zf(n,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){eh(n,o,u)},function(u){return cu(n,o,u)}):eh(n,o,r)}function eh(n,o,r){o.status="fulfilled",o.value=r,th(o),n.state=r,o=n.pending,o!==null&&(r=o.next,r===o?n.pending=null:(r=r.next,o.next=r,Wf(n,r)))}function cu(n,o,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=r,th(o),o=o.next;while(o!==u)}n.action=null}function th(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function nh(n,o){return o}function ih(n,o){if(we){var r=Be.formState;if(r!==null){e:{var u=me;if(we){if($e){t:{for(var m=$e,y=en;m.nodeType!==8;){if(!y){m=null;break t}if(m=nn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){$e=nn(m.nextSibling),u=m.data==="F!";break e}}jn(u)}u=!1}u&&(o=r[0])}}return r=wt(),r.memoizedState=r.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:o},r.queue=u,r=Eh.bind(null,me,u),u.dispatch=r,u=uu(!1),y=gu.bind(null,me,!1,u.queue),u=wt(),m={state:o,dispatch:null,action:n,pending:null},u.queue=m,r=c_.bind(null,me,m,y,r),m.dispatch=r,u.memoizedState=n,[o,r,!1]}function oh(n){var o=tt();return sh(o,qe,n)}function sh(n,o,r){if(o=au(n,o,nh)[0],n=zr(Nn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Es(o)}catch(T){throw T===fo?Ur:T}else u=o;o=tt();var m=o.queue,y=m.dispatch;return r!==o.memoizedState&&(me.flags|=2048,yo(9,{destroy:void 0},d_.bind(null,m,r),null)),[u,y,n]}function d_(n,o){n.action=o}function rh(n){var o=tt(),r=qe;if(r!==null)return sh(o,r,n);tt(),o=o.memoizedState,r=tt();var u=r.queue.dispatch;return r.memoizedState=n,[o,u,!1]}function yo(n,o,r,u){return n={tag:n,create:r,deps:u,inst:o,next:null},o=me.updateQueue,o===null&&(o=Br(),me.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,o.lastEffect=n),n}function ah(){return tt().memoizedState}function $r(n,o,r,u){var m=wt();me.flags|=n,m.memoizedState=yo(1|o,{destroy:void 0},r,u===void 0?null:u)}function Fr(n,o,r,u){var m=tt();u=u===void 0?null:u;var y=m.memoizedState.inst;qe!==null&&u!==null&&tu(u,qe.memoizedState.deps)?m.memoizedState=yo(o,y,r,u):(me.flags|=n,m.memoizedState=yo(1|o,y,r,u))}function lh(n,o){$r(8390656,8,n,o)}function du(n,o){Fr(2048,8,n,o)}function f_(n){me.flags|=4;var o=me.updateQueue;if(o===null)o=Br(),me.updateQueue=o,o.events=[n];else{var r=o.events;r===null?o.events=[n]:r.push(n)}}function uh(n){var o=tt().memoizedState;return f_({ref:o,nextImpl:n}),function(){if((Ne&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function ch(n,o){return Fr(4,2,n,o)}function dh(n,o){return Fr(4,4,n,o)}function fh(n,o){if(typeof o=="function"){n=n();var r=o(n);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function hh(n,o,r){r=r!=null?r.concat([n]):null,Fr(4,4,fh.bind(null,o,n),r)}function fu(){}function ph(n,o){var r=tt();o=o===void 0?null:o;var u=r.memoizedState;return o!==null&&tu(o,u[1])?u[0]:(r.memoizedState=[n,o],n)}function mh(n,o){var r=tt();o=o===void 0?null:o;var u=r.memoizedState;if(o!==null&&tu(o,u[1]))return u[0];if(u=n(),Ui){$n(!0);try{n()}finally{$n(!1)}}return r.memoizedState=[u,o],u}function hu(n,o,r){return r===void 0||(xn&1073741824)!==0&&(Te&261930)===0?n.memoizedState=o:(n.memoizedState=r,n=gp(),me.lanes|=n,oi|=n,r)}function gh(n,o,r,u){return Gt(r,o)?r:po.current!==null?(n=hu(n,r,u),Gt(n,o)||(ot=!0),n):(xn&42)===0||(xn&1073741824)!==0&&(Te&261930)===0?(ot=!0,n.memoizedState=r):(n=gp(),me.lanes|=n,oi|=n,o)}function yh(n,o,r,u,m){var y=j.p;j.p=y!==0&&8>y?y:8;var T=H.T,b={};H.T=b,gu(n,!1,o,r);try{var C=m(),O=H.S;if(O!==null&&O(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var B=a_(C,u);bs(n,o,B,Ft(n))}else bs(n,o,u,Ft(n))}catch($){bs(n,o,{then:function(){},status:"rejected",reason:$},Ft())}finally{j.p=y,T!==null&&b.types!==null&&(T.types=b.types),H.T=T}}function h_(){}function pu(n,o,r,u){if(n.tag!==5)throw Error(s(476));var m=vh(n).queue;yh(n,m,o,te,r===null?h_:function(){return _h(n),r(u)})}function vh(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:te},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function _h(n){var o=vh(n);o.next===null&&(o=n.alternate.memoizedState),bs(n,o.next.queue,{},Ft())}function mu(){return gt(Hs)}function Sh(){return tt().memoizedState}function Th(){return tt().memoizedState}function p_(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var r=Ft();n=Wn(r);var u=Zn(o,n,r);u!==null&&(Ot(u,o,r),vs(u,o,r)),o={cache:$l()},n.payload=o;return}o=o.return}}function m_(n,o,r){var u=Ft();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Jr(n)?bh(o,r):(r=Ul(n,o,r,u),r!==null&&(Ot(r,n,u),wh(r,o,u)))}function Eh(n,o,r){var u=Ft();bs(n,o,r,u)}function bs(n,o,r,u){var m={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jr(n))bh(o,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,b=y(T,r);if(m.hasEagerState=!0,m.eagerState=b,Gt(b,T))return Cr(n,o,m,0),Be===null&&Ar(),!1}catch{}finally{}if(r=Ul(n,o,m,u),r!==null)return Ot(r,n,u),wh(r,o,u),!0}return!1}function gu(n,o,r,u){if(u={lane:2,revertLane:Ku(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jr(n)){if(o)throw Error(s(479))}else o=Ul(n,r,u,2),o!==null&&Ot(o,n,2)}function Jr(n){var o=n.alternate;return n===me||o!==null&&o===me}function bh(n,o){mo=Gr=!0;var r=n.pending;r===null?o.next=o:(o.next=r.next,r.next=o),n.pending=o}function wh(n,o,r){if((r&4194048)!==0){var u=o.lanes;u&=n.pendingLanes,r|=u,o.lanes=r,xd(n,r)}}var ws={readContext:gt,use:Vr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};ws.useEffectEvent=Xe;var Ah={readContext:gt,use:Vr,useCallback:function(n,o){return wt().memoizedState=[n,o===void 0?null:o],n},useContext:gt,useEffect:lh,useImperativeHandle:function(n,o,r){r=r!=null?r.concat([n]):null,$r(4194308,4,fh.bind(null,o,n),r)},useLayoutEffect:function(n,o){return $r(4194308,4,n,o)},useInsertionEffect:function(n,o){$r(4,2,n,o)},useMemo:function(n,o){var r=wt();o=o===void 0?null:o;var u=n();if(Ui){$n(!0);try{n()}finally{$n(!1)}}return r.memoizedState=[u,o],u},useReducer:function(n,o,r){var u=wt();if(r!==void 0){var m=r(o);if(Ui){$n(!0);try{r(o)}finally{$n(!1)}}}else m=o;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=m_.bind(null,me,n),[u.memoizedState,n]},useRef:function(n){var o=wt();return n={current:n},o.memoizedState=n},useState:function(n){n=uu(n);var o=n.queue,r=Eh.bind(null,me,o);return o.dispatch=r,[n.memoizedState,r]},useDebugValue:fu,useDeferredValue:function(n,o){var r=wt();return hu(r,n,o)},useTransition:function(){var n=uu(!1);return n=yh.bind(null,me,n.queue,!0,!1),wt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,r){var u=me,m=wt();if(we){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),Be===null)throw Error(s(349));(Te&127)!==0||Jf(u,o,r)}m.memoizedState=r;var y={value:r,getSnapshot:o};return m.queue=y,lh(Kf.bind(null,u,y,n),[n]),u.flags|=2048,yo(9,{destroy:void 0},Yf.bind(null,u,y,r,o),null),r},useId:function(){var n=wt(),o=Be.identifierPrefix;if(we){var r=vn,u=yn;r=(u&~(1<<32-qt(u)-1)).toString(32)+r,o="_"+o+"R_"+r,r=Hr++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=l_++,o="_"+o+"r_"+r.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:mu,useFormState:ih,useActionState:ih,useOptimistic:function(n){var o=wt();o.memoizedState=o.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=gu.bind(null,me,!0,r),r.dispatch=o,[n,o]},useMemoCache:ru,useCacheRefresh:function(){return wt().memoizedState=p_.bind(null,me)},useEffectEvent:function(n){var o=wt(),r={impl:n};return o.memoizedState=r,function(){if((Ne&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},yu={readContext:gt,use:Vr,useCallback:ph,useContext:gt,useEffect:du,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:zr,useRef:ah,useState:function(){return zr(Nn)},useDebugValue:fu,useDeferredValue:function(n,o){var r=tt();return gh(r,qe.memoizedState,n,o)},useTransition:function(){var n=zr(Nn)[0],o=tt().memoizedState;return[typeof n=="boolean"?n:Es(n),o]},useSyncExternalStore:Ff,useId:Sh,useHostTransitionStatus:mu,useFormState:oh,useActionState:oh,useOptimistic:function(n,o){var r=tt();return Qf(r,qe,n,o)},useMemoCache:ru,useCacheRefresh:Th};yu.useEffectEvent=uh;var Ch={readContext:gt,use:Vr,useCallback:ph,useContext:gt,useEffect:du,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:mh,useReducer:lu,useRef:ah,useState:function(){return lu(Nn)},useDebugValue:fu,useDeferredValue:function(n,o){var r=tt();return qe===null?hu(r,n,o):gh(r,qe.memoizedState,n,o)},useTransition:function(){var n=lu(Nn)[0],o=tt().memoizedState;return[typeof n=="boolean"?n:Es(n),o]},useSyncExternalStore:Ff,useId:Sh,useHostTransitionStatus:mu,useFormState:rh,useActionState:rh,useOptimistic:function(n,o){var r=tt();return qe!==null?Qf(r,qe,n,o):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:ru,useCacheRefresh:Th};Ch.useEffectEvent=uh;function vu(n,o,r,u){o=n.memoizedState,r=r(u,o),r=r==null?o:_({},o,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var _u={enqueueSetState:function(n,o,r){n=n._reactInternals;var u=Ft(),m=Wn(u);m.payload=o,r!=null&&(m.callback=r),o=Zn(n,m,u),o!==null&&(Ot(o,n,u),vs(o,n,u))},enqueueReplaceState:function(n,o,r){n=n._reactInternals;var u=Ft(),m=Wn(u);m.tag=1,m.payload=o,r!=null&&(m.callback=r),o=Zn(n,m,u),o!==null&&(Ot(o,n,u),vs(o,n,u))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var r=Ft(),u=Wn(r);u.tag=2,o!=null&&(u.callback=o),o=Zn(n,u,r),o!==null&&(Ot(o,n,r),vs(o,n,r))}};function Rh(n,o,r,u,m,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,T):o.prototype&&o.prototype.isPureReactComponent?!cs(r,u)||!cs(m,y):!0}function xh(n,o,r,u){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,u),o.state!==n&&_u.enqueueReplaceState(o,o.state,null)}function ki(n,o){var r=o;if("ref"in o){r={};for(var u in o)u!=="ref"&&(r[u]=o[u])}if(n=n.defaultProps){r===o&&(r=_({},r));for(var m in n)r[m]===void 0&&(r[m]=n[m])}return r}function Nh(n){wr(n)}function Ih(n){console.error(n)}function Mh(n){wr(n)}function Yr(n,o){try{var r=n.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function Dh(n,o,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Su(n,o,r){return r=Wn(r),r.tag=3,r.payload={element:null},r.callback=function(){Yr(n,o)},r}function Uh(n){return n=Wn(n),n.tag=3,n}function kh(n,o,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;n.payload=function(){return m(y)},n.callback=function(){Dh(o,r,u)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Dh(o,r,u),typeof m!="function"&&(si===null?si=new Set([this]):si.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function g_(n,o,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=r.alternate,o!==null&&lo(o,r,m,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return tn===null?sa():r.alternate===null&&Qe===0&&(Qe=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===kr?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([u]):o.add(u),Fu(n,u,m)),!1;case 22:return r.flags|=65536,u===kr?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([u]):r.add(u)),Fu(n,u,m)),!1}throw Error(s(435,r.tag))}return Fu(n,u,m),sa(),!1}if(we)return o=Bt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,u!==Gl&&(n=Error(s(422),{cause:u}),hs(Qt(n,r)))):(u!==Gl&&(o=Error(s(423),{cause:u}),hs(Qt(o,r))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Qt(u,r),m=Su(n.stateNode,u,m),Xl(n,m),Qe!==4&&(Qe=2)),!1;var y=Error(s(520),{cause:u});if(y=Qt(y,r),Ds===null?Ds=[y]:Ds.push(y),Qe!==4&&(Qe=2),o===null)return!0;u=Qt(u,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,n=m&-m,r.lanes|=n,n=Su(r.stateNode,u,n),Xl(r,n),!1;case 1:if(o=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(si===null||!si.has(y))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Uh(m),kh(m,n,r,u),Xl(r,m),!1}r=r.return}while(r!==null);return!1}var Tu=Error(s(461)),ot=!1;function yt(n,o,r,u){o.child=n===null?qf(o,null,r,u):Di(o,n.child,r,u)}function Oh(n,o,r,u,m){r=r.render;var y=o.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return xi(o),u=nu(n,o,r,T,y,m),b=iu(),n!==null&&!ot?(ou(n,o,m),In(n,o,m)):(we&&b&&Ll(o),o.flags|=1,yt(n,o,u,m),o.child)}function Ph(n,o,r,u,m){if(n===null){var y=r.type;return typeof y=="function"&&!kl(y)&&y.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=y,Lh(n,o,y,u,m)):(n=xr(r.type,null,u,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!Nu(n,m)){var T=y.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(T,u)&&n.ref===o.ref)return In(n,o,m)}return o.flags|=1,n=wn(y,u),n.ref=o.ref,n.return=o,o.child=n}function Lh(n,o,r,u,m){if(n!==null){var y=n.memoizedProps;if(cs(y,u)&&n.ref===o.ref)if(ot=!1,o.pendingProps=u=y,Nu(n,m))(n.flags&131072)!==0&&(ot=!0);else return o.lanes=n.lanes,In(n,o,m)}return Eu(n,o,r,u,m)}function qh(n,o,r,u){var m=u.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,n!==null){for(u=o.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,o.child=null;return Gh(n,o,y,r,u)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Dr(o,y!==null?y.cachePool:null),y!==null?Bf(o,y):Wl(),Vf(o);else return u=o.lanes=536870912,Gh(n,o,y!==null?y.baseLanes|r:r,r,u)}else y!==null?(Dr(o,y.cachePool),Bf(o,y),ti(),o.memoizedState=null):(n!==null&&Dr(o,null),Wl(),ti());return yt(n,o,m,r),o.child}function As(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Gh(n,o,r,u,m){var y=Jl();return y=y===null?null:{parent:nt._currentValue,pool:y},o.memoizedState={baseLanes:r,cachePool:y},n!==null&&Dr(o,null),Wl(),Vf(o),n!==null&&lo(n,o,u,!0),o.childLanes=m,null}function Kr(n,o){return o=Xr({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Hh(n,o,r){return Di(o,n.child,null,r),n=Kr(o,o.pendingProps),n.flags|=2,Vt(o),o.memoizedState=null,n}function y_(n,o,r){var u=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(we){if(u.mode==="hidden")return n=Kr(o,u),o.lanes=536870912,As(null,n);if(eu(o),(n=$e)?(n=Wp(n,en),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Yn!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=bf(n),r.return=o,o.child=r,mt=o,$e=null)):n=null,n===null)throw jn(o);return o.lanes=536870912,null}return Kr(o,u)}var y=n.memoizedState;if(y!==null){var T=y.dehydrated;if(eu(o),m)if(o.flags&256)o.flags&=-257,o=Hh(n,o,r);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(ot||lo(n,o,r,!1),m=(r&n.childLanes)!==0,ot||m){if(u=Be,u!==null&&(T=Nd(u,r),T!==0&&T!==y.retryLane))throw y.retryLane=T,wi(n,T),Ot(u,n,T),Tu;sa(),o=Hh(n,o,r)}else n=y.treeContext,$e=nn(T.nextSibling),mt=o,we=!0,Kn=null,en=!1,n!==null&&Cf(o,n),o=Kr(o,u),o.flags|=4096;return o}return n=wn(n.child,{mode:u.mode,children:u.children}),n.ref=o.ref,o.child=n,n.return=o,n}function jr(n,o){var r=o.ref;if(r===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(o.flags|=4194816)}}function Eu(n,o,r,u,m){return xi(o),r=nu(n,o,r,u,void 0,m),u=iu(),n!==null&&!ot?(ou(n,o,m),In(n,o,m)):(we&&u&&Ll(o),o.flags|=1,yt(n,o,r,m),o.child)}function Bh(n,o,r,u,m,y){return xi(o),o.updateQueue=null,r=$f(o,u,r,m),zf(n),u=iu(),n!==null&&!ot?(ou(n,o,y),In(n,o,y)):(we&&u&&Ll(o),o.flags|=1,yt(n,o,r,y),o.child)}function Vh(n,o,r,u,m){if(xi(o),o.stateNode===null){var y=oo,T=r.contextType;typeof T=="object"&&T!==null&&(y=gt(T)),y=new r(u,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=_u,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=u,y.state=o.memoizedState,y.refs={},Kl(o),T=r.contextType,y.context=typeof T=="object"&&T!==null?gt(T):oo,y.state=o.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(vu(o,r,T,u),y.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&_u.enqueueReplaceState(y,y.state,null),Ss(o,u,y,m),_s(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(n===null){y=o.stateNode;var b=o.memoizedProps,C=ki(r,b);y.props=C;var O=y.context,B=r.contextType;T=oo,typeof B=="object"&&B!==null&&(T=gt(B));var $=r.getDerivedStateFromProps;B=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function",b=o.pendingProps!==b,B||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b||O!==T)&&xh(o,y,u,T),Qn=!1;var P=o.memoizedState;y.state=P,Ss(o,u,y,m),_s(),O=o.memoizedState,b||P!==O||Qn?(typeof $=="function"&&(vu(o,r,$,u),O=o.memoizedState),(C=Qn||Rh(o,r,C,u,P,O,T))?(B||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=O),y.props=u,y.state=O,y.context=T,u=C):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{y=o.stateNode,jl(n,o),T=o.memoizedProps,B=ki(r,T),y.props=B,$=o.pendingProps,P=y.context,O=r.contextType,C=oo,typeof O=="object"&&O!==null&&(C=gt(O)),b=r.getDerivedStateFromProps,(O=typeof b=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==$||P!==C)&&xh(o,y,u,C),Qn=!1,P=o.memoizedState,y.state=P,Ss(o,u,y,m),_s();var L=o.memoizedState;T!==$||P!==L||Qn||n!==null&&n.dependencies!==null&&Ir(n.dependencies)?(typeof b=="function"&&(vu(o,r,b,u),L=o.memoizedState),(B=Qn||Rh(o,r,B,u,P,L,C)||n!==null&&n.dependencies!==null&&Ir(n.dependencies))?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,L,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,L,C)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=L),y.props=u,y.state=L,y.context=C,u=B):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(o.flags|=1024),u=!1)}return y=u,jr(n,o),u=(o.flags&128)!==0,y||u?(y=o.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&u?(o.child=Di(o,n.child,null,m),o.child=Di(o,null,r,m)):yt(n,o,r,m),o.memoizedState=y.state,n=o.child):n=In(n,o,m),n}function zh(n,o,r,u){return Ci(),o.flags|=256,yt(n,o,r,u),o.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wu(n){return{baseLanes:n,cachePool:Df()}}function Au(n,o,r){return n=n!==null?n.childLanes&~r:0,o&&(n|=$t),n}function $h(n,o,r){var u=o.pendingProps,m=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(et.current&2)!==0),T&&(m=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,n===null){if(we){if(m?ei(o):ti(),(n=$e)?(n=Wp(n,en),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Yn!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},r=bf(n),r.return=o,o.child=r,mt=o,$e=null)):n=null,n===null)throw jn(o);return ac(n)?o.lanes=32:o.lanes=536870912,null}var b=u.children;return u=u.fallback,m?(ti(),m=o.mode,b=Xr({mode:"hidden",children:b},m),u=Ai(u,m,r,null),b.return=o,u.return=o,b.sibling=u,o.child=b,u=o.child,u.memoizedState=wu(r),u.childLanes=Au(n,T,r),o.memoizedState=bu,As(null,u)):(ei(o),Cu(o,b))}var C=n.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(y)o.flags&256?(ei(o),o.flags&=-257,o=Ru(n,o,r)):o.memoizedState!==null?(ti(),o.child=n.child,o.flags|=128,o=null):(ti(),b=u.fallback,m=o.mode,u=Xr({mode:"visible",children:u.children},m),b=Ai(b,m,r,null),b.flags|=2,u.return=o,b.return=o,u.sibling=b,o.child=u,Di(o,n.child,null,r),u=o.child,u.memoizedState=wu(r),u.childLanes=Au(n,T,r),o.memoizedState=bu,o=As(null,u));else if(ei(o),ac(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var O=T.dgst;T=O,u=Error(s(419)),u.stack="",u.digest=T,hs({value:u,source:null,stack:null}),o=Ru(n,o,r)}else if(ot||lo(n,o,r,!1),T=(r&n.childLanes)!==0,ot||T){if(T=Be,T!==null&&(u=Nd(T,r),u!==0&&u!==C.retryLane))throw C.retryLane=u,wi(n,u),Ot(T,n,u),Tu;rc(b)||sa(),o=Ru(n,o,r)}else rc(b)?(o.flags|=192,o.child=n.child,o=null):(n=C.treeContext,$e=nn(b.nextSibling),mt=o,we=!0,Kn=null,en=!1,n!==null&&Cf(o,n),o=Cu(o,u.children),o.flags|=4096);return o}return m?(ti(),b=u.fallback,m=o.mode,C=n.child,O=C.sibling,u=wn(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,O!==null?b=wn(O,b):(b=Ai(b,m,r,null),b.flags|=2),b.return=o,u.return=o,u.sibling=b,o.child=u,As(null,u),u=o.child,b=n.child.memoizedState,b===null?b=wu(r):(m=b.cachePool,m!==null?(C=nt._currentValue,m=m.parent!==C?{parent:C,pool:C}:m):m=Df(),b={baseLanes:b.baseLanes|r,cachePool:m}),u.memoizedState=b,u.childLanes=Au(n,T,r),o.memoizedState=bu,As(n.child,u)):(ei(o),r=n.child,n=r.sibling,r=wn(r,{mode:"visible",children:u.children}),r.return=o,r.sibling=null,n!==null&&(T=o.deletions,T===null?(o.deletions=[n],o.flags|=16):T.push(n)),o.child=r,o.memoizedState=null,r)}function Cu(n,o){return o=Xr({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Xr(n,o){return n=Ht(22,n,null,o),n.lanes=0,n}function Ru(n,o,r){return Di(o,n.child,null,r),n=Cu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Fh(n,o,r){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o),Vl(n.return,o,r)}function xu(n,o,r,u,m,y){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m,treeForkCount:y}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=r,T.tailMode=m,T.treeForkCount=y)}function Jh(n,o,r){var u=o.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var T=et.current,b=(T&2)!==0;if(b?(T=T&1|2,o.flags|=128):T&=1,Q(et,T),yt(n,o,u,r),u=we?fs:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Fh(n,r,o);else if(n.tag===19)Fh(n,r,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(r=o.child,m=null;r!==null;)n=r.alternate,n!==null&&qr(n)===null&&(m=r),r=r.sibling;r=m,r===null?(m=o.child,o.child=null):(m=r.sibling,r.sibling=null),xu(o,!1,m,r,y,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&qr(n)===null){o.child=m;break}n=m.sibling,m.sibling=r,r=m,m=n}xu(o,!0,r,null,y,u);break;case"together":xu(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function In(n,o,r){if(n!==null&&(o.dependencies=n.dependencies),oi|=o.lanes,(r&o.childLanes)===0)if(n!==null){if(lo(n,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,r=wn(n,n.pendingProps),o.child=r,r.return=o;n.sibling!==null;)n=n.sibling,r=r.sibling=wn(n,n.pendingProps),r.return=o;r.sibling=null}return o.child}function Nu(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Ir(n)))}function v_(n,o,r){switch(o.tag){case 3:ht(o,o.stateNode.containerInfo),Xn(o,nt,n.memoizedState.cache),Ci();break;case 27:case 5:vi(o);break;case 4:ht(o,o.stateNode.containerInfo);break;case 10:Xn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,eu(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(ei(o),o.flags|=128,null):(r&o.child.childLanes)!==0?$h(n,o,r):(ei(o),n=In(n,o,r),n!==null?n.sibling:null);ei(o);break;case 19:var m=(n.flags&128)!==0;if(u=(r&o.childLanes)!==0,u||(lo(n,o,r,!1),u=(r&o.childLanes)!==0),m){if(u)return Jh(n,o,r);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(et,et.current),u)break;return null;case 22:return o.lanes=0,qh(n,o,r,o.pendingProps);case 24:Xn(o,nt,n.memoizedState.cache)}return In(n,o,r)}function Yh(n,o,r){if(n!==null)if(n.memoizedProps!==o.pendingProps)ot=!0;else{if(!Nu(n,r)&&(o.flags&128)===0)return ot=!1,v_(n,o,r);ot=(n.flags&131072)!==0}else ot=!1,we&&(o.flags&1048576)!==0&&Af(o,fs,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(n=Ii(o.elementType),o.type=n,typeof n=="function")kl(n)?(u=ki(n,u),o.tag=1,o=Vh(null,o,n,u,r)):(o.tag=0,o=Eu(null,o,n,u,r));else{if(n!=null){var m=n.$$typeof;if(m===V){o.tag=11,o=Oh(null,o,n,u,r);break e}else if(m===J){o.tag=14,o=Ph(null,o,n,u,r);break e}}throw o=De(n)||n,Error(s(306,o,""))}}return o;case 0:return Eu(n,o,o.type,o.pendingProps,r);case 1:return u=o.type,m=ki(u,o.pendingProps),Vh(n,o,u,m,r);case 3:e:{if(ht(o,o.stateNode.containerInfo),n===null)throw Error(s(387));u=o.pendingProps;var y=o.memoizedState;m=y.element,jl(n,o),Ss(o,u,null,r);var T=o.memoizedState;if(u=T.cache,Xn(o,nt,u),u!==y.cache&&zl(o,[nt],r,!0),_s(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=zh(n,o,u,r);break e}else if(u!==m){m=Qt(Error(s(424)),o),hs(m),o=zh(n,o,u,r);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=nn(n.firstChild),mt=o,we=!0,Kn=null,en=!0,r=qf(o,null,u,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ci(),u===m){o=In(n,o,r);break e}yt(n,o,u,r)}o=o.child}return o;case 26:return jr(n,o),n===null?(r=om(o.type,null,o.pendingProps,null))?o.memoizedState=r:we||(r=o.type,n=o.pendingProps,u=fa(ve.current).createElement(r),u[pt]=o,u[Nt]=n,vt(u,r,n),ut(u),o.stateNode=u):o.memoizedState=om(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return vi(o),n===null&&we&&(u=o.stateNode=tm(o.type,o.pendingProps,ve.current),mt=o,en=!0,m=$e,ui(o.type)?(lc=m,$e=nn(u.firstChild)):$e=m),yt(n,o,o.pendingProps.children,r),jr(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&we&&((m=u=$e)&&(u=K_(u,o.type,o.pendingProps,en),u!==null?(o.stateNode=u,mt=o,$e=nn(u.firstChild),en=!1,m=!0):m=!1),m||jn(o)),vi(o),m=o.type,y=o.pendingProps,T=n!==null?n.memoizedProps:null,u=y.children,ic(m,y)?u=null:T!==null&&ic(m,T)&&(o.flags|=32),o.memoizedState!==null&&(m=nu(n,o,u_,null,null,r),Hs._currentValue=m),jr(n,o),yt(n,o,u,r),o.child;case 6:return n===null&&we&&((n=r=$e)&&(r=j_(r,o.pendingProps,en),r!==null?(o.stateNode=r,mt=o,$e=null,n=!0):n=!1),n||jn(o)),null;case 13:return $h(n,o,r);case 4:return ht(o,o.stateNode.containerInfo),u=o.pendingProps,n===null?o.child=Di(o,null,u,r):yt(n,o,u,r),o.child;case 11:return Oh(n,o,o.type,o.pendingProps,r);case 7:return yt(n,o,o.pendingProps,r),o.child;case 8:return yt(n,o,o.pendingProps.children,r),o.child;case 12:return yt(n,o,o.pendingProps.children,r),o.child;case 10:return u=o.pendingProps,Xn(o,o.type,u.value),yt(n,o,u.children,r),o.child;case 9:return m=o.type._context,u=o.pendingProps.children,xi(o),m=gt(m),u=u(m),o.flags|=1,yt(n,o,u,r),o.child;case 14:return Ph(n,o,o.type,o.pendingProps,r);case 15:return Lh(n,o,o.type,o.pendingProps,r);case 19:return Jh(n,o,r);case 31:return y_(n,o,r);case 22:return qh(n,o,r,o.pendingProps);case 24:return xi(o),u=gt(nt),n===null?(m=Jl(),m===null&&(m=Be,y=$l(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=r),m=y),o.memoizedState={parent:u,cache:m},Kl(o),Xn(o,nt,m)):((n.lanes&r)!==0&&(jl(n,o),Ss(o,null,null,r),_s()),m=n.memoizedState,y=o.memoizedState,m.parent!==u?(m={parent:u,cache:u},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Xn(o,nt,u)):(u=y.cache,Xn(o,nt,u),u!==m.cache&&zl(o,[nt],r,!0))),yt(n,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Mn(n){n.flags|=4}function Iu(n,o,r,u,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Sp())n.flags|=8192;else throw Mi=kr,Yl}else n.flags&=-16777217}function Kh(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!um(o))if(Sp())n.flags|=8192;else throw Mi=kr,Yl}function Qr(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Cd():536870912,n.lanes|=o,To|=o)}function Cs(n,o){if(!we)switch(n.tailMode){case"hidden":o=n.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Fe(n){var o=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(o)for(var m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=r,o}function __(n,o,r){var u=o.pendingProps;switch(ql(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(o),null;case 1:return Fe(o),null;case 3:return r=o.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Rn(nt),je(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ao(o)?Mn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hl())),Fe(o),null;case 26:var m=o.type,y=o.memoizedState;return n===null?(Mn(o),y!==null?(Fe(o),Kh(o,y)):(Fe(o),Iu(o,m,null,u,r))):y?y!==n.memoizedState?(Mn(o),Fe(o),Kh(o,y)):(Fe(o),o.flags&=-16777217):(n=n.memoizedProps,n!==u&&Mn(o),Fe(o),Iu(o,m,n,u,r)),null;case 27:if(Y(o),r=ve.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Mn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return Fe(o),null}n=ee.current,ao(o)?Rf(o):(n=tm(m,u,r),o.stateNode=n,Mn(o))}return Fe(o),null;case 5:if(Y(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Mn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return Fe(o),null}if(y=ee.current,ao(o))Rf(o);else{var T=fa(ve.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(m,{is:u.is}):T.createElement(m)}}y[pt]=o,y[Nt]=u;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=y;e:switch(vt(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Mn(o)}}return Fe(o),Iu(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,r),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==u&&Mn(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(n=ve.current,ao(o)){if(n=o.stateNode,r=o.memoizedProps,u=null,m=mt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[pt]=o,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||$p(n.nodeValue,r)),n||jn(o,!0)}else n=fa(n).createTextNode(u),n[pt]=o,o.stateNode=n}return Fe(o),null;case 31:if(r=o.memoizedState,n===null||n.memoizedState!==null){if(u=ao(o),r!==null){if(n===null){if(!u)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[pt]=o}else Ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Fe(o),n=!1}else r=Hl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return o.flags&256?(Vt(o),o):(Vt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Fe(o),null;case 13:if(u=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ao(o),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[pt]=o}else Ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Fe(o),m=!1}else m=Hl(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Vt(o),o):(Vt(o),null)}return Vt(o),(o.flags&128)!==0?(o.lanes=r,o):(r=u!==null,n=n!==null&&n.memoizedState!==null,r&&(u=o.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),r!==n&&r&&(o.child.flags|=8192),Qr(o,o.updateQueue),Fe(o),null);case 4:return je(),n===null&&Wu(o.stateNode.containerInfo),Fe(o),null;case 10:return Rn(o.type),Fe(o),null;case 19:if(F(et),u=o.memoizedState,u===null)return Fe(o),null;if(m=(o.flags&128)!==0,y=u.rendering,y===null)if(m)Cs(u,!1);else{if(Qe!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=qr(n),y!==null){for(o.flags|=128,Cs(u,!1),n=y.updateQueue,o.updateQueue=n,Qr(o,n),o.subtreeFlags=0,n=r,r=o.child;r!==null;)Ef(r,n),r=r.sibling;return Q(et,et.current&1|2),we&&An(o,u.treeForkCount),o.child}n=n.sibling}u.tail!==null&&Pt()>na&&(o.flags|=128,m=!0,Cs(u,!1),o.lanes=4194304)}else{if(!m)if(n=qr(y),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,Qr(o,n),Cs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!we)return Fe(o),null}else 2*Pt()-u.renderingStartTime>na&&r!==536870912&&(o.flags|=128,m=!0,Cs(u,!1),o.lanes=4194304);u.isBackwards?(y.sibling=o.child,o.child=y):(n=u.last,n!==null?n.sibling=y:o.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Pt(),n.sibling=null,r=et.current,Q(et,m?r&1|2:r&1),we&&An(o,u.treeForkCount),n):(Fe(o),null);case 22:case 23:return Vt(o),Zl(),u=o.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(r&536870912)!==0&&(o.flags&128)===0&&(Fe(o),o.subtreeFlags&6&&(o.flags|=8192)):Fe(o),r=o.updateQueue,r!==null&&Qr(o,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==r&&(o.flags|=2048),n!==null&&F(Ni),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),Rn(nt),Fe(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function S_(n,o){switch(ql(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Rn(nt),je(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Y(o),null;case 31:if(o.memoizedState!==null){if(Vt(o),o.alternate===null)throw Error(s(340));Ci()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Vt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ci()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return F(et),null;case 4:return je(),null;case 10:return Rn(o.type),null;case 22:case 23:return Vt(o),Zl(),n!==null&&F(Ni),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Rn(nt),null;case 25:return null;default:return null}}function jh(n,o){switch(ql(o),o.tag){case 3:Rn(nt),je();break;case 26:case 27:case 5:Y(o);break;case 4:je();break;case 31:o.memoizedState!==null&&Vt(o);break;case 13:Vt(o);break;case 19:F(et);break;case 10:Rn(o.type);break;case 22:case 23:Vt(o),Zl(),n!==null&&F(Ni);break;case 24:Rn(nt)}}function Rs(n,o){try{var r=o.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&n)===n){u=void 0;var y=r.create,T=r.inst;u=y(),T.destroy=u}r=r.next}while(r!==m)}}catch(b){Oe(o,o.return,b)}}function ni(n,o,r){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&n)===n){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,m=o;var C=r,O=b;try{O()}catch(B){Oe(m,C,B)}}}u=u.next}while(u!==y)}}catch(B){Oe(o,o.return,B)}}function Xh(n){var o=n.updateQueue;if(o!==null){var r=n.stateNode;try{Hf(o,r)}catch(u){Oe(n,n.return,u)}}}function Qh(n,o,r){r.props=ki(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){Oe(n,o,u)}}function xs(n,o){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(m){Oe(n,o,m)}}function _n(n,o){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){Oe(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){Oe(n,o,m)}else r.current=null}function Wh(n){var o=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){Oe(n,n.return,m)}}function Mu(n,o,r){try{var u=n.stateNode;V_(u,n.type,r,o),u[Nt]=o}catch(m){Oe(n,n.return,m)}}function Zh(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ui(n.type)||n.tag===4}function Du(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uu(n,o,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(n),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=En));else if(u!==4&&(u===27&&ui(n.type)&&(r=n.stateNode,o=null),n=n.child,n!==null))for(Uu(n,o,r),n=n.sibling;n!==null;)Uu(n,o,r),n=n.sibling}function Wr(n,o,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?r.insertBefore(n,o):r.appendChild(n);else if(u!==4&&(u===27&&ui(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Wr(n,o,r),n=n.sibling;n!==null;)Wr(n,o,r),n=n.sibling}function ep(n){var o=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);vt(o,u,r),o[pt]=n,o[Nt]=r}catch(y){Oe(n,n.return,y)}}var Dn=!1,st=!1,ku=!1,tp=typeof WeakSet=="function"?WeakSet:Set,ct=null;function T_(n,o){if(n=n.containerInfo,tc=_a,n=hf(n),Rl(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var T=0,b=-1,C=-1,O=0,B=0,$=n,P=null;t:for(;;){for(var L;$!==r||m!==0&&$.nodeType!==3||(b=T+m),$!==y||u!==0&&$.nodeType!==3||(C=T+u),$.nodeType===3&&(T+=$.nodeValue.length),(L=$.firstChild)!==null;)P=$,$=L;for(;;){if($===n)break t;if(P===r&&++O===m&&(b=T),P===y&&++B===u&&(C=T),(L=$.nextSibling)!==null)break;$=P,P=$.parentNode}$=L}r=b===-1||C===-1?null:{start:b,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(nc={focusedElem:n,selectionRange:r},_a=!1,ct=o;ct!==null;)if(o=ct,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ct=n;else for(;ct!==null;){switch(o=ct,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)m=n[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,r=o,m=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var Z=ki(r.type,m);n=u.getSnapshotBeforeUpdate(Z,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(le){Oe(r,r.return,le)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,r=n.nodeType,r===9)sc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,ct=n;break}ct=o.return}}function np(n,o,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:kn(n,r),u&4&&Rs(5,r);break;case 1:if(kn(n,r),u&4)if(n=r.stateNode,o===null)try{n.componentDidMount()}catch(T){Oe(r,r.return,T)}else{var m=ki(r.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Oe(r,r.return,T)}}u&64&&Xh(r),u&512&&xs(r,r.return);break;case 3:if(kn(n,r),u&64&&(n=r.updateQueue,n!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{Hf(n,o)}catch(T){Oe(r,r.return,T)}}break;case 27:o===null&&u&4&&ep(r);case 26:case 5:kn(n,r),o===null&&u&4&&Wh(r),u&512&&xs(r,r.return);break;case 12:kn(n,r);break;case 31:kn(n,r),u&4&&sp(n,r);break;case 13:kn(n,r),u&4&&rp(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=I_.bind(null,r),X_(n,r))));break;case 22:if(u=r.memoizedState!==null||Dn,!u){o=o!==null&&o.memoizedState!==null||st,m=Dn;var y=st;Dn=u,(st=o)&&!y?On(n,r,(r.subtreeFlags&8772)!==0):kn(n,r),Dn=m,st=y}break;case 30:break;default:kn(n,r)}}function ip(n){var o=n.alternate;o!==null&&(n.alternate=null,ip(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&cl(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,Mt=!1;function Un(n,o,r){for(r=r.child;r!==null;)op(n,o,r),r=r.sibling}function op(n,o,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Wo,r)}catch{}switch(r.tag){case 26:st||_n(r,o),Un(n,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:st||_n(r,o);var u=Ye,m=Mt;ui(r.type)&&(Ye=r.stateNode,Mt=!1),Un(n,o,r),Ls(r.stateNode),Ye=u,Mt=m;break;case 5:st||_n(r,o);case 6:if(u=Ye,m=Mt,Ye=null,Un(n,o,r),Ye=u,Mt=m,Ye!==null)if(Mt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(y){Oe(r,o,y)}else try{Ye.removeChild(r.stateNode)}catch(y){Oe(r,o,y)}break;case 18:Ye!==null&&(Mt?(n=Ye,Xp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),No(n)):Xp(Ye,r.stateNode));break;case 4:u=Ye,m=Mt,Ye=r.stateNode.containerInfo,Mt=!0,Un(n,o,r),Ye=u,Mt=m;break;case 0:case 11:case 14:case 15:ni(2,r,o),st||ni(4,r,o),Un(n,o,r);break;case 1:st||(_n(r,o),u=r.stateNode,typeof u.componentWillUnmount=="function"&&Qh(r,o,u)),Un(n,o,r);break;case 21:Un(n,o,r);break;case 22:st=(u=st)||r.memoizedState!==null,Un(n,o,r),st=u;break;default:Un(n,o,r)}}function sp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{No(n)}catch(r){Oe(o,o.return,r)}}}function rp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{No(n)}catch(r){Oe(o,o.return,r)}}function E_(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new tp),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new tp),o;default:throw Error(s(435,n.tag))}}function Zr(n,o){var r=E_(n);o.forEach(function(u){if(!r.has(u)){r.add(u);var m=M_.bind(null,n,u);u.then(m,m)}})}function Dt(n,o){var r=o.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],y=n,T=o,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(ui(b.type)){Ye=b.stateNode,Mt=!1;break e}break;case 5:Ye=b.stateNode,Mt=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,Mt=!0;break e}b=b.return}if(Ye===null)throw Error(s(160));op(y,T,m),Ye=null,Mt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ap(o,n),o=o.sibling}var un=null;function ap(n,o){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dt(o,n),Ut(n),u&4&&(ni(3,n,n.return),Rs(3,n),ni(5,n,n.return));break;case 1:Dt(o,n),Ut(n),u&512&&(st||r===null||_n(r,r.return)),u&64&&Dn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=un;if(Dt(o,n),Ut(n),u&512&&(st||r===null||_n(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ts]||y[pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),vt(y,u,r),y[pt]=n,ut(y),u=y;break e;case"link":var T=am("link","href",m).get(u+(r.href||""));if(T){for(var b=0;b<T.length;b++)if(y=T[b],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(b,1);break t}}y=m.createElement(u),vt(y,u,r),m.head.appendChild(y);break;case"meta":if(T=am("meta","content",m).get(u+(r.content||""))){for(b=0;b<T.length;b++)if(y=T[b],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(b,1);break t}}y=m.createElement(u),vt(y,u,r),m.head.appendChild(y);break;default:throw Error(s(468,u))}y[pt]=n,ut(y),u=y}n.stateNode=u}else lm(m,n.type,n.stateNode);else n.stateNode=rm(m,u,n.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?lm(m,n.type,n.stateNode):rm(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Mu(n,n.memoizedProps,r.memoizedProps)}break;case 27:Dt(o,n),Ut(n),u&512&&(st||r===null||_n(r,r.return)),r!==null&&u&4&&Mu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Dt(o,n),Ut(n),u&512&&(st||r===null||_n(r,r.return)),n.flags&32){m=n.stateNode;try{Qi(m,"")}catch(Z){Oe(n,n.return,Z)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Mu(n,m,r!==null?r.memoizedProps:m)),u&1024&&(ku=!0);break;case 6:if(Dt(o,n),Ut(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(Z){Oe(n,n.return,Z)}}break;case 3:if(ma=null,m=un,un=ha(o.containerInfo),Dt(o,n),un=m,Ut(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{No(o.containerInfo)}catch(Z){Oe(n,n.return,Z)}ku&&(ku=!1,lp(n));break;case 4:u=un,un=ha(n.stateNode.containerInfo),Dt(o,n),Ut(n),un=u;break;case 12:Dt(o,n),Ut(n);break;case 31:Dt(o,n),Ut(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 13:Dt(o,n),Ut(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ta=Pt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 22:m=n.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,O=Dn,B=st;if(Dn=O||m,st=B||C,Dt(o,n),st=B,Dn=O,Ut(n),u&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(r===null||C||Dn||st||Oi(n)),r=null,o=n;;){if(o.tag===5||o.tag===26){if(r===null){C=r=o;try{if(y=C.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=C.stateNode;var $=C.memoizedProps.style,P=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(Z){Oe(C,C.return,Z)}}}else if(o.tag===6){if(r===null){C=o;try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(Z){Oe(C,C.return,Z)}}}else if(o.tag===18){if(r===null){C=o;try{var L=C.stateNode;m?Qp(L,!0):Qp(C.stateNode,!1)}catch(Z){Oe(C,C.return,Z)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Zr(n,r))));break;case 19:Dt(o,n),Ut(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zr(n,u)));break;case 30:break;case 21:break;default:Dt(o,n),Ut(n)}}function Ut(n){var o=n.flags;if(o&2){try{for(var r,u=n.return;u!==null;){if(Zh(u)){r=u;break}u=u.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var m=r.stateNode,y=Du(n);Wr(n,y,m);break;case 5:var T=r.stateNode;r.flags&32&&(Qi(T,""),r.flags&=-33);var b=Du(n);Wr(n,b,T);break;case 3:case 4:var C=r.stateNode.containerInfo,O=Du(n);Uu(n,O,C);break;default:throw Error(s(161))}}catch(B){Oe(n,n.return,B)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function lp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;lp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function kn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)np(n,o.alternate,o),o=o.sibling}function Oi(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:ni(4,o,o.return),Oi(o);break;case 1:_n(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&Qh(o,o.return,r),Oi(o);break;case 27:Ls(o.stateNode);case 26:case 5:_n(o,o.return),Oi(o);break;case 22:o.memoizedState===null&&Oi(o);break;case 30:Oi(o);break;default:Oi(o)}n=n.sibling}}function On(n,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,m=n,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:On(m,y,r),Rs(4,y);break;case 1:if(On(m,y,r),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(O){Oe(u,u.return,O)}if(u=y,m=u.updateQueue,m!==null){var b=u.stateNode;try{var C=m.shared.hiddenCallbacks;if(C!==null)for(m.shared.hiddenCallbacks=null,m=0;m<C.length;m++)Gf(C[m],b)}catch(O){Oe(u,u.return,O)}}r&&T&64&&Xh(y),xs(y,y.return);break;case 27:ep(y);case 26:case 5:On(m,y,r),r&&u===null&&T&4&&Wh(y),xs(y,y.return);break;case 12:On(m,y,r);break;case 31:On(m,y,r),r&&T&4&&sp(m,y);break;case 13:On(m,y,r),r&&T&4&&rp(m,y);break;case 22:y.memoizedState===null&&On(m,y,r),xs(y,y.return);break;case 30:break;default:On(m,y,r)}o=o.sibling}}function Ou(n,o){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&ps(r))}function Pu(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ps(n))}function cn(n,o,r,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)up(n,o,r,u),o=o.sibling}function up(n,o,r,u){var m=o.flags;switch(o.tag){case 0:case 11:case 15:cn(n,o,r,u),m&2048&&Rs(9,o);break;case 1:cn(n,o,r,u);break;case 3:cn(n,o,r,u),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&ps(n)));break;case 12:if(m&2048){cn(n,o,r,u),n=o.stateNode;try{var y=o.memoizedProps,T=y.id,b=y.onPostCommit;typeof b=="function"&&b(T,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Oe(o,o.return,C)}}else cn(n,o,r,u);break;case 31:cn(n,o,r,u);break;case 13:cn(n,o,r,u);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?cn(n,o,r,u):Ns(n,o):y._visibility&2?cn(n,o,r,u):(y._visibility|=2,vo(n,o,r,u,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Ou(T,o);break;case 24:cn(n,o,r,u),m&2048&&Pu(o.alternate,o);break;default:cn(n,o,r,u)}}function vo(n,o,r,u,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,T=o,b=r,C=u,O=T.flags;switch(T.tag){case 0:case 11:case 15:vo(y,T,b,C,m),Rs(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?vo(y,T,b,C,m):Ns(y,T):(B._visibility|=2,vo(y,T,b,C,m)),m&&O&2048&&Ou(T.alternate,T);break;case 24:vo(y,T,b,C,m),m&&O&2048&&Pu(T.alternate,T);break;default:vo(y,T,b,C,m)}o=o.sibling}}function Ns(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=n,u=o,m=u.flags;switch(u.tag){case 22:Ns(r,u),m&2048&&Ou(u.alternate,u);break;case 24:Ns(r,u),m&2048&&Pu(u.alternate,u);break;default:Ns(r,u)}o=o.sibling}}var Is=8192;function _o(n,o,r){if(n.subtreeFlags&Is)for(n=n.child;n!==null;)cp(n,o,r),n=n.sibling}function cp(n,o,r){switch(n.tag){case 26:_o(n,o,r),n.flags&Is&&n.memoizedState!==null&&lS(r,un,n.memoizedState,n.memoizedProps);break;case 5:_o(n,o,r);break;case 3:case 4:var u=un;un=ha(n.stateNode.containerInfo),_o(n,o,r),un=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Is,Is=16777216,_o(n,o,r),Is=u):_o(n,o,r));break;default:_o(n,o,r)}}function dp(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Ms(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var u=o[r];ct=u,hp(u,n)}dp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(n),n=n.sibling}function fp(n){switch(n.tag){case 0:case 11:case 15:Ms(n),n.flags&2048&&ni(9,n,n.return);break;case 3:Ms(n);break;case 12:Ms(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,ea(n)):Ms(n);break;default:Ms(n)}}function ea(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var u=o[r];ct=u,hp(u,n)}dp(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:ni(8,o,o.return),ea(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,ea(o));break;default:ea(o)}n=n.sibling}}function hp(n,o){for(;ct!==null;){var r=ct;switch(r.tag){case 0:case 11:case 15:ni(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ps(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,ct=u;else e:for(r=n;ct!==null;){u=ct;var m=u.sibling,y=u.return;if(ip(u),u===r){ct=null;break e}if(m!==null){m.return=y,ct=m;break e}ct=y}}}var b_={getCacheForType:function(n){var o=gt(nt),r=o.data.get(n);return r===void 0&&(r=n(),o.data.set(n,r)),r},cacheSignal:function(){return gt(nt).controller.signal}},w_=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Be=null,_e=null,Te=0,ke=0,zt=null,ii=!1,So=!1,Lu=!1,Pn=0,Qe=0,oi=0,Pi=0,qu=0,$t=0,To=0,Ds=null,kt=null,Gu=!1,ta=0,pp=0,na=1/0,ia=null,si=null,at=0,ri=null,Eo=null,Ln=0,Hu=0,Bu=null,mp=null,Us=0,Vu=null;function Ft(){return(Ne&2)!==0&&Te!==0?Te&-Te:H.T!==null?Ku():Id()}function gp(){if($t===0)if((Te&536870912)===0||we){var n=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),$t=n}else $t=536870912;return n=Bt.current,n!==null&&(n.flags|=32),$t}function Ot(n,o,r){(n===Be&&(ke===2||ke===9)||n.cancelPendingCommit!==null)&&(bo(n,0),ai(n,Te,$t,!1)),es(n,r),((Ne&2)===0||n!==Be)&&(n===Be&&((Ne&2)===0&&(Pi|=r),Qe===4&&ai(n,Te,$t,!1)),Sn(n))}function yp(n,o,r){if((Ne&6)!==0)throw Error(s(327));var u=!r&&(o&127)===0&&(o&n.expiredLanes)===0||Zo(n,o),m=u?R_(n,o):$u(n,o,!0),y=u;do{if(m===0){So&&!u&&ai(n,o,0,!1);break}else{if(r=n.current.alternate,y&&!A_(r)){m=$u(n,o,!1),y=!1;continue}if(m===2){if(y=o,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var b=n;m=Ds;var C=b.current.memoizedState.isDehydrated;if(C&&(bo(b,T).flags|=256),T=$u(b,T,!1),T!==2){if(Lu&&!C){b.errorRecoveryDisabledLanes|=y,Pi|=y,m=4;break e}y=kt,kt=m,y!==null&&(kt===null?kt=y:kt.push.apply(kt,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){bo(n,0),ai(n,o,0,!0);break}e:{switch(u=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:ai(u,o,$t,!ii);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(m=ta+300-Pt(),10<m)){if(ai(u,o,$t,!ii),hr(u,0,!0)!==0)break e;Ln=o,u.timeoutHandle=Kp(vp.bind(null,u,r,kt,ia,Gu,o,$t,Pi,To,ii,y,"Throttled",-0,0),m);break e}vp(u,r,kt,ia,Gu,o,$t,Pi,To,ii,y,null,-0,0)}}break}while(!0);Sn(n)}function vp(n,o,r,u,m,y,T,b,C,O,B,$,P,L){if(n.timeoutHandle=-1,$=o.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},cp(o,y,$);var Z=(y&62914560)===y?ta-Pt():(y&4194048)===y?pp-Pt():0;if(Z=uS($,Z),Z!==null){Ln=y,n.cancelPendingCommit=Z(Cp.bind(null,n,o,y,r,u,m,T,b,C,B,$,null,P,L)),ai(n,y,T,!O);return}}Cp(n,o,y,r,u,m,T,b,C)}function A_(n){for(var o=n;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],y=m.getSnapshot;m=m.value;try{if(!Gt(y(),m))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ai(n,o,r,u){o&=~qu,o&=~Pi,n.suspendedLanes|=o,n.pingedLanes&=~o,u&&(n.warmLanes|=o),u=n.expirationTimes;for(var m=o;0<m;){var y=31-qt(m),T=1<<y;u[y]=-1,m&=~T}r!==0&&Rd(n,r,o)}function oa(){return(Ne&6)===0?(ks(0),!1):!0}function zu(){if(_e!==null){if(ke===0)var n=_e.return;else n=_e,Cn=Ri=null,su(n),ho=null,gs=0,n=_e;for(;n!==null;)jh(n.alternate,n),n=n.return;_e=null}}function bo(n,o){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,F_(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Ln=0,zu(),Be=n,_e=r=wn(n.current,null),Te=o,ke=0,zt=null,ii=!1,So=Zo(n,o),Lu=!1,To=$t=qu=Pi=oi=Qe=0,kt=Ds=null,Gu=!1,(o&8)!==0&&(o|=o&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=o;0<u;){var m=31-qt(u),y=1<<m;o|=n[m],u&=~y}return Pn=o,Ar(),r}function _p(n,o){me=null,H.H=ws,o===fo||o===Ur?(o=Of(),ke=3):o===Yl?(o=Of(),ke=4):ke=o===Tu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zt=o,_e===null&&(Qe=1,Yr(n,Qt(o,n.current)))}function Sp(){var n=Bt.current;return n===null?!0:(Te&4194048)===Te?tn===null:(Te&62914560)===Te||(Te&536870912)!==0?n===tn:!1}function Tp(){var n=H.H;return H.H=ws,n===null?ws:n}function Ep(){var n=H.A;return H.A=b_,n}function sa(){Qe=4,ii||(Te&4194048)!==Te&&Bt.current!==null||(So=!0),(oi&134217727)===0&&(Pi&134217727)===0||Be===null||ai(Be,Te,$t,!1)}function $u(n,o,r){var u=Ne;Ne|=2;var m=Tp(),y=Ep();(Be!==n||Te!==o)&&(ia=null,bo(n,o)),o=!1;var T=Qe;e:do try{if(ke!==0&&_e!==null){var b=_e,C=zt;switch(ke){case 8:zu(),T=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(o=!0);var O=ke;if(ke=0,zt=null,wo(n,b,C,O),r&&So){T=0;break e}break;default:O=ke,ke=0,zt=null,wo(n,b,C,O)}}C_(),T=Qe;break}catch(B){_p(n,B)}while(!0);return o&&n.shellSuspendCounter++,Cn=Ri=null,Ne=u,H.H=m,H.A=y,_e===null&&(Be=null,Te=0,Ar()),T}function C_(){for(;_e!==null;)bp(_e)}function R_(n,o){var r=Ne;Ne|=2;var u=Tp(),m=Ep();Be!==n||Te!==o?(ia=null,na=Pt()+500,bo(n,o)):So=Zo(n,o);e:do try{if(ke!==0&&_e!==null){o=_e;var y=zt;t:switch(ke){case 1:ke=0,zt=null,wo(n,o,y,1);break;case 2:case 9:if(Uf(y)){ke=0,zt=null,wp(o);break}o=function(){ke!==2&&ke!==9||Be!==n||(ke=7),Sn(n)},y.then(o,o);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Uf(y)?(ke=0,zt=null,wp(o)):(ke=0,zt=null,wo(n,o,y,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var b=_e;if(T?um(T):b.stateNode.complete){ke=0,zt=null;var C=b.sibling;if(C!==null)_e=C;else{var O=b.return;O!==null?(_e=O,ra(O)):_e=null}break t}}ke=0,zt=null,wo(n,o,y,5);break;case 6:ke=0,zt=null,wo(n,o,y,6);break;case 8:zu(),Qe=6;break e;default:throw Error(s(462))}}x_();break}catch(B){_p(n,B)}while(!0);return Cn=Ri=null,H.H=u,H.A=m,Ne=r,_e!==null?0:(Be=null,Te=0,Ar(),Qe)}function x_(){for(;_e!==null&&!Qv();)bp(_e)}function bp(n){var o=Yh(n.alternate,n,Pn);n.memoizedProps=n.pendingProps,o===null?ra(n):_e=o}function wp(n){var o=n,r=o.alternate;switch(o.tag){case 15:case 0:o=Bh(r,o,o.pendingProps,o.type,void 0,Te);break;case 11:o=Bh(r,o,o.pendingProps,o.type.render,o.ref,Te);break;case 5:su(o);default:jh(r,o),o=_e=Ef(o,Pn),o=Yh(r,o,Pn)}n.memoizedProps=n.pendingProps,o===null?ra(n):_e=o}function wo(n,o,r,u){Cn=Ri=null,su(o),ho=null,gs=0;var m=o.return;try{if(g_(n,m,o,r,Te)){Qe=1,Yr(n,Qt(r,n.current)),_e=null;return}}catch(y){if(m!==null)throw _e=m,y;Qe=1,Yr(n,Qt(r,n.current)),_e=null;return}o.flags&32768?(we||u===1?n=!0:So||(Te&536870912)!==0?n=!1:(ii=n=!0,(u===2||u===9||u===3||u===6)&&(u=Bt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ap(o,n)):ra(o)}function ra(n){var o=n;do{if((o.flags&32768)!==0){Ap(o,ii);return}n=o.return;var r=__(o.alternate,o,Pn);if(r!==null){_e=r;return}if(o=o.sibling,o!==null){_e=o;return}_e=o=n}while(o!==null);Qe===0&&(Qe=5)}function Ap(n,o){do{var r=S_(n.alternate,n);if(r!==null){r.flags&=32767,_e=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(n=n.sibling,n!==null)){_e=n;return}_e=n=r}while(n!==null);Qe=6,_e=null}function Cp(n,o,r,u,m,y,T,b,C){n.cancelPendingCommit=null;do aa();while(at!==0);if((Ne&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(y=o.lanes|o.childLanes,y|=Dl,a0(n,r,y,T,b,C),n===Be&&(_e=Be=null,Te=0),Eo=o,ri=n,Ln=r,Hu=y,Bu=m,mp=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,D_(ur,function(){return Mp(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=j.p,j.p=2,T=Ne,Ne|=4;try{T_(n,o,r)}finally{Ne=T,j.p=m,H.T=u}}at=1,Rp(),xp(),Np()}}function Rp(){if(at===1){at=0;var n=ri,o=Eo,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var u=j.p;j.p=2;var m=Ne;Ne|=4;try{ap(o,n);var y=nc,T=hf(n.containerInfo),b=y.focusedElem,C=y.selectionRange;if(T!==b&&b&&b.ownerDocument&&ff(b.ownerDocument.documentElement,b)){if(C!==null&&Rl(b)){var O=C.start,B=C.end;if(B===void 0&&(B=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(B,b.value.length);else{var $=b.ownerDocument||document,P=$&&$.defaultView||window;if(P.getSelection){var L=P.getSelection(),Z=b.textContent.length,le=Math.min(C.start,Z),He=C.end===void 0?le:Math.min(C.end,Z);!L.extend&&le>He&&(T=He,He=le,le=T);var M=df(b,le),N=df(b,He);if(M&&N&&(L.rangeCount!==1||L.anchorNode!==M.node||L.anchorOffset!==M.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var k=$.createRange();k.setStart(M.node,M.offset),L.removeAllRanges(),le>He?(L.addRange(k),L.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),L.addRange(k))}}}}for($=[],L=b;L=L.parentNode;)L.nodeType===1&&$.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var z=$[b];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}_a=!!tc,nc=tc=null}finally{Ne=m,j.p=u,H.T=r}}n.current=o,at=2}}function xp(){if(at===2){at=0;var n=ri,o=Eo,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var u=j.p;j.p=2;var m=Ne;Ne|=4;try{np(n,o.alternate,o)}finally{Ne=m,j.p=u,H.T=r}}at=3}}function Np(){if(at===4||at===3){at=0,Wv();var n=ri,o=Eo,r=Ln,u=mp;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?at=5:(at=0,Eo=ri=null,Ip(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(si=null),ll(r),o=o.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Wo,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=H.T,m=j.p,j.p=2,H.T=null;try{for(var y=n.onRecoverableError,T=0;T<u.length;T++){var b=u[T];y(b.value,{componentStack:b.stack})}}finally{H.T=o,j.p=m}}(Ln&3)!==0&&aa(),Sn(n),m=n.pendingLanes,(r&261930)!==0&&(m&42)!==0?n===Vu?Us++:(Us=0,Vu=n):Us=0,ks(0)}}function Ip(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,ps(o)))}function aa(){return Rp(),xp(),Np(),Mp()}function Mp(){if(at!==5)return!1;var n=ri,o=Hu;Hu=0;var r=ll(Ln),u=H.T,m=j.p;try{j.p=32>r?32:r,H.T=null,r=Bu,Bu=null;var y=ri,T=Ln;if(at=0,Eo=ri=null,Ln=0,(Ne&6)!==0)throw Error(s(331));var b=Ne;if(Ne|=4,fp(y.current),up(y,y.current,T,r),Ne=b,ks(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Wo,y)}catch{}return!0}finally{j.p=m,H.T=u,Ip(n,o)}}function Dp(n,o,r){o=Qt(r,o),o=Su(n.stateNode,o,2),n=Zn(n,o,2),n!==null&&(es(n,2),Sn(n))}function Oe(n,o,r){if(n.tag===3)Dp(n,n,r);else for(;o!==null;){if(o.tag===3){Dp(o,n,r);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(si===null||!si.has(u))){n=Qt(r,n),r=Uh(2),u=Zn(o,r,2),u!==null&&(kh(r,u,o,n),es(u,2),Sn(u));break}}o=o.return}}function Fu(n,o,r){var u=n.pingCache;if(u===null){u=n.pingCache=new w_;var m=new Set;u.set(o,m)}else m=u.get(o),m===void 0&&(m=new Set,u.set(o,m));m.has(r)||(Lu=!0,m.add(r),n=N_.bind(null,n,o,r),o.then(n,n))}function N_(n,o,r){var u=n.pingCache;u!==null&&u.delete(o),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Be===n&&(Te&r)===r&&(Qe===4||Qe===3&&(Te&62914560)===Te&&300>Pt()-ta?(Ne&2)===0&&bo(n,0):qu|=r,To===Te&&(To=0)),Sn(n)}function Up(n,o){o===0&&(o=Cd()),n=wi(n,o),n!==null&&(es(n,o),Sn(n))}function I_(n){var o=n.memoizedState,r=0;o!==null&&(r=o.retryLane),Up(n,r)}function M_(n,o){var r=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),Up(n,r)}function D_(n,o){return Qo(n,o)}var la=null,Ao=null,Ju=!1,ua=!1,Yu=!1,li=0;function Sn(n){n!==Ao&&n.next===null&&(Ao===null?la=Ao=n:Ao=Ao.next=n),ua=!0,Ju||(Ju=!0,k_())}function ks(n,o){if(!Yu&&ua){Yu=!0;do for(var r=!1,u=la;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var T=u.suspendedLanes,b=u.pingedLanes;y=(1<<31-qt(42|n)+1)-1,y&=m&~(T&~b),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,Lp(u,y))}else y=Te,y=hr(u,u===Be?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Zo(u,y)||(r=!0,Lp(u,y));u=u.next}while(r);Yu=!1}}function U_(){kp()}function kp(){ua=Ju=!1;var n=0;li!==0&&$_()&&(n=li);for(var o=Pt(),r=null,u=la;u!==null;){var m=u.next,y=Op(u,o);y===0?(u.next=null,r===null?la=m:r.next=m,m===null&&(Ao=r)):(r=u,(n!==0||(y&3)!==0)&&(ua=!0)),u=m}at!==0&&at!==5||ks(n),li!==0&&(li=0)}function Op(n,o){for(var r=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-qt(y),b=1<<T,C=m[T];C===-1?((b&r)===0||(b&u)!==0)&&(m[T]=r0(b,o)):C<=o&&(n.expiredLanes|=b),y&=~b}if(o=Be,r=Te,r=hr(n,n===o?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===o&&(ke===2||ke===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&sl(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Zo(n,r)){if(o=r&-r,o===n.callbackPriority)return o;switch(u!==null&&sl(u),ll(r)){case 2:case 8:r=wd;break;case 32:r=ur;break;case 268435456:r=Ad;break;default:r=ur}return u=Pp.bind(null,n),r=Qo(r,u),n.callbackPriority=o,n.callbackNode=r,o}return u!==null&&u!==null&&sl(u),n.callbackPriority=2,n.callbackNode=null,2}function Pp(n,o){if(at!==0&&at!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(aa()&&n.callbackNode!==r)return null;var u=Te;return u=hr(n,n===Be?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(yp(n,u,o),Op(n,Pt()),n.callbackNode!=null&&n.callbackNode===r?Pp.bind(null,n):null)}function Lp(n,o){if(aa())return null;yp(n,o,!0)}function k_(){J_(function(){(Ne&6)!==0?Qo(bd,U_):kp()})}function Ku(){if(li===0){var n=uo;n===0&&(n=cr,cr<<=1,(cr&261888)===0&&(cr=256)),li=n}return li}function qp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yr(""+n)}function Gp(n,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,n.id&&r.setAttribute("form",n.id),o.parentNode.insertBefore(r,o),n=new FormData(n),r.parentNode.removeChild(r),n}function O_(n,o,r,u,m){if(o==="submit"&&r&&r.stateNode===m){var y=qp((m[Nt]||null).action),T=u.submitter;T&&(o=(o=T[Nt]||null)?qp(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var b=new Tr("action","action",null,u,m);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(li!==0){var C=T?Gp(m,T):new FormData(m);pu(r,{pending:!0,data:C,method:m.method,action:y},null,C)}}else typeof y=="function"&&(b.preventDefault(),C=T?Gp(m,T):new FormData(m),pu(r,{pending:!0,data:C,method:m.method,action:y},y,C))},currentTarget:m}]})}}for(var ju=0;ju<Ml.length;ju++){var Xu=Ml[ju],P_=Xu.toLowerCase(),L_=Xu[0].toUpperCase()+Xu.slice(1);ln(P_,"on"+L_)}ln(gf,"onAnimationEnd"),ln(yf,"onAnimationIteration"),ln(vf,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(Z0,"onTransitionRun"),ln(e_,"onTransitionStart"),ln(t_,"onTransitionCancel"),ln(_f,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Os));function Hp(n,o){o=(o&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],m=u.event;u=u.listeners;e:{var y=void 0;if(o)for(var T=u.length-1;0<=T;T--){var b=u[T],C=b.instance,O=b.currentTarget;if(b=b.listener,C!==y&&m.isPropagationStopped())break e;y=b,m.currentTarget=O;try{y(m)}catch(B){wr(B)}m.currentTarget=null,y=C}else for(T=0;T<u.length;T++){if(b=u[T],C=b.instance,O=b.currentTarget,b=b.listener,C!==y&&m.isPropagationStopped())break e;y=b,m.currentTarget=O;try{y(m)}catch(B){wr(B)}m.currentTarget=null,y=C}}}}function Se(n,o){var r=o[ul];r===void 0&&(r=o[ul]=new Set);var u=n+"__bubble";r.has(u)||(Bp(o,n,2,!1),r.add(u))}function Qu(n,o,r){var u=0;o&&(u|=4),Bp(r,n,u,o)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Wu(n){if(!n[ca]){n[ca]=!0,Ud.forEach(function(r){r!=="selectionchange"&&(q_.has(r)||Qu(r,!1,n),Qu(r,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[ca]||(o[ca]=!0,Qu("selectionchange",!1,o))}}function Bp(n,o,r,u){switch(gm(o)){case 2:var m=fS;break;case 8:m=hS;break;default:m=hc}r=m.bind(null,o,r,n),m=void 0,!vl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(o,r,{capture:!0,passive:m}):n.addEventListener(o,r,!0):m!==void 0?n.addEventListener(o,r,{passive:m}):n.addEventListener(o,r,!1)}function Zu(n,o,r,u,m){var y=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===m)break;if(T===4)for(T=u.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;b!==null;){if(T=Ji(b),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){u=y=T;continue e}b=b.parentNode}}u=u.return}Fd(function(){var O=y,B=gl(r),$=[];e:{var P=Sf.get(n);if(P!==void 0){var L=Tr,Z=n;switch(n){case"keypress":if(_r(r)===0)break e;case"keydown":case"keyup":L=M0;break;case"focusin":Z="focus",L=El;break;case"focusout":Z="blur",L=El;break;case"beforeblur":case"afterblur":L=El;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=k0;break;case gf:case yf:case vf:L=E0;break;case _f:L=P0;break;case"scroll":case"scrollend":L=y0;break;case"wheel":L=q0;break;case"copy":case"cut":case"paste":L=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Xd;break;case"toggle":case"beforetoggle":L=H0}var le=(o&4)!==0,He=!le&&(n==="scroll"||n==="scrollend"),M=le?P!==null?P+"Capture":null:P;le=[];for(var N=O,k;N!==null;){var z=N;if(k=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||k===null||M===null||(z=is(N,M),z!=null&&le.push(Ps(N,z,k))),He)break;N=N.return}0<le.length&&(P=new L(P,Z,null,r,B),$.push({event:P,listeners:le}))}}if((o&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",L=n==="mouseout"||n==="pointerout",P&&r!==ml&&(Z=r.relatedTarget||r.fromElement)&&(Ji(Z)||Z[Fi]))break e;if((L||P)&&(P=B.window===B?B:(P=B.ownerDocument)?P.defaultView||P.parentWindow:window,L?(Z=r.relatedTarget||r.toElement,L=O,Z=Z?Ji(Z):null,Z!==null&&(He=l(Z),le=Z.tag,Z!==He||le!==5&&le!==27&&le!==6)&&(Z=null)):(L=null,Z=O),L!==Z)){if(le=Kd,z="onMouseLeave",M="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(le=Xd,z="onPointerLeave",M="onPointerEnter",N="pointer"),He=L==null?P:ns(L),k=Z==null?P:ns(Z),P=new le(z,N+"leave",L,r,B),P.target=He,P.relatedTarget=k,z=null,Ji(B)===O&&(le=new le(M,N+"enter",Z,r,B),le.target=k,le.relatedTarget=He,z=le),He=z,L&&Z)t:{for(le=G_,M=L,N=Z,k=0,z=M;z;z=le(z))k++;z=0;for(var ae=N;ae;ae=le(ae))z++;for(;0<k-z;)M=le(M),k--;for(;0<z-k;)N=le(N),z--;for(;k--;){if(M===N||N!==null&&M===N.alternate){le=M;break t}M=le(M),N=le(N)}le=null}else le=null;L!==null&&Vp($,P,L,le,!1),Z!==null&&He!==null&&Vp($,He,Z,le,!0)}}e:{if(P=O?ns(O):window,L=P.nodeName&&P.nodeName.toLowerCase(),L==="select"||L==="input"&&P.type==="file")var Ce=sf;else if(nf(P))if(rf)Ce=X0;else{Ce=K0;var ie=Y0}else L=P.nodeName,!L||L.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&pl(O.elementType)&&(Ce=sf):Ce=j0;if(Ce&&(Ce=Ce(n,O))){of($,Ce,r,B);break e}ie&&ie(n,P,O),n==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&hl(P,"number",P.value)}switch(ie=O?ns(O):window,n){case"focusin":(nf(ie)||ie.contentEditable==="true")&&(to=ie,xl=O,ds=null);break;case"focusout":ds=xl=to=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,pf($,r,B);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":pf($,r,B)}var ge;if(wl)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else eo?ef(n,r)&&(Ee="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ee="onCompositionStart");Ee&&(Qd&&r.locale!=="ko"&&(eo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&eo&&(ge=Jd()):(Jn=B,_l="value"in Jn?Jn.value:Jn.textContent,eo=!0)),ie=da(O,Ee),0<ie.length&&(Ee=new jd(Ee,n,null,r,B),$.push({event:Ee,listeners:ie}),ge?Ee.data=ge:(ge=tf(r),ge!==null&&(Ee.data=ge)))),(ge=V0?z0(n,r):$0(n,r))&&(Ee=da(O,"onBeforeInput"),0<Ee.length&&(ie=new jd("onBeforeInput","beforeinput",null,r,B),$.push({event:ie,listeners:Ee}),ie.data=ge)),O_($,n,O,r,B)}Hp($,o)})}function Ps(n,o,r){return{instance:n,listener:o,currentTarget:r}}function da(n,o){for(var r=o+"Capture",u=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=is(n,r),m!=null&&u.unshift(Ps(n,m,y)),m=is(n,o),m!=null&&u.push(Ps(n,m,y))),n.tag===3)return u;n=n.return}return[]}function G_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vp(n,o,r,u,m){for(var y=o._reactName,T=[];r!==null&&r!==u;){var b=r,C=b.alternate,O=b.stateNode;if(b=b.tag,C!==null&&C===u)break;b!==5&&b!==26&&b!==27||O===null||(C=O,m?(O=is(r,y),O!=null&&T.unshift(Ps(r,O,C))):m||(O=is(r,y),O!=null&&T.push(Ps(r,O,C)))),r=r.return}T.length!==0&&n.push({event:o,listeners:T})}var H_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function zp(n){return(typeof n=="string"?n:""+n).replace(H_,`
`).replace(B_,"")}function $p(n,o){return o=zp(o),zp(n)===o}function Ge(n,o,r,u,m,y){switch(r){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||Qi(n,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&Qi(n,""+u);break;case"className":mr(n,"class",u);break;case"tabIndex":mr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(n,r,u);break;case"style":zd(n,u,y);break;case"data":if(o!=="object"){mr(n,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=yr(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(o!=="input"&&Ge(n,o,"name",m.name,m,null),Ge(n,o,"formEncType",m.formEncType,m,null),Ge(n,o,"formMethod",m.formMethod,m,null),Ge(n,o,"formTarget",m.formTarget,m,null)):(Ge(n,o,"encType",m.encType,m,null),Ge(n,o,"method",m.method,m,null),Ge(n,o,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=yr(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=En);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=yr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Se("beforetoggle",n),Se("toggle",n),pr(n,"popover",u);break;case"xlinkActuate":Tn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Tn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Tn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Tn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Tn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Tn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=m0.get(r)||r,pr(n,r,u))}}function ec(n,o,r,u,m,y){switch(r){case"style":zd(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof u=="string"?Qi(n,u):(typeof u=="number"||typeof u=="bigint")&&Qi(n,""+u);break;case"onScroll":u!=null&&Se("scroll",n);break;case"onScrollEnd":u!=null&&Se("scrollend",n);break;case"onClick":u!=null&&(n.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),o=r.slice(2,m?r.length-7:void 0),y=n[Nt]||null,y=y!=null?y[r]:null,typeof y=="function"&&n.removeEventListener(o,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(o,u,m);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):pr(n,r,u)}}}function vt(n,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var u=!1,m=!1,y;for(y in r)if(r.hasOwnProperty(y)){var T=r[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ge(n,o,y,T,r,null)}}m&&Ge(n,o,"srcSet",r.srcSet,r,null),u&&Ge(n,o,"src",r.src,r,null);return;case"input":Se("invalid",n);var b=y=T=m=null,C=null,O=null;for(u in r)if(r.hasOwnProperty(u)){var B=r[u];if(B!=null)switch(u){case"name":m=B;break;case"type":T=B;break;case"checked":C=B;break;case"defaultChecked":O=B;break;case"value":y=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,o));break;default:Ge(n,o,u,B,r,null)}}Gd(n,y,b,C,O,T,m,!1);return;case"select":Se("invalid",n),u=T=y=null;for(m in r)if(r.hasOwnProperty(m)&&(b=r[m],b!=null))switch(m){case"value":y=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Ge(n,o,m,b,r,null)}o=y,r=T,n.multiple=!!u,o!=null?Xi(n,!!u,o,!1):r!=null&&Xi(n,!!u,r,!0);return;case"textarea":Se("invalid",n),y=m=u=null;for(T in r)if(r.hasOwnProperty(T)&&(b=r[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":m=b;break;case"children":y=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ge(n,o,T,b,r,null)}Bd(n,u,m,y);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(u=r[C],u!=null))switch(C){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ge(n,o,C,u,r,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(u=0;u<Os.length;u++)Se(Os[u],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ge(n,o,O,u,r,null)}return;default:if(pl(o)){for(B in r)r.hasOwnProperty(B)&&(u=r[B],u!==void 0&&ec(n,o,B,u,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(u=r[b],u!=null&&Ge(n,o,b,u,r,null))}function V_(n,o,r,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,b=null,C=null,O=null,B=null;for(L in r){var $=r[L];if(r.hasOwnProperty(L)&&$!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":C=$;default:u.hasOwnProperty(L)||Ge(n,o,L,null,u,$)}}for(var P in u){var L=u[P];if($=r[P],u.hasOwnProperty(P)&&(L!=null||$!=null))switch(P){case"type":y=L;break;case"name":m=L;break;case"checked":O=L;break;case"defaultChecked":B=L;break;case"value":T=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,o));break;default:L!==$&&Ge(n,o,P,L,u,$)}}fl(n,T,b,C,O,B,y,m);return;case"select":L=T=b=P=null;for(y in r)if(C=r[y],r.hasOwnProperty(y)&&C!=null)switch(y){case"value":break;case"multiple":L=C;default:u.hasOwnProperty(y)||Ge(n,o,y,null,u,C)}for(m in u)if(y=u[m],C=r[m],u.hasOwnProperty(m)&&(y!=null||C!=null))switch(m){case"value":P=y;break;case"defaultValue":b=y;break;case"multiple":T=y;default:y!==C&&Ge(n,o,m,y,u,C)}o=b,r=T,u=L,P!=null?Xi(n,!!r,P,!1):!!u!=!!r&&(o!=null?Xi(n,!!r,o,!0):Xi(n,!!r,r?[]:"",!1));return;case"textarea":L=P=null;for(b in r)if(m=r[b],r.hasOwnProperty(b)&&m!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(n,o,b,null,u,m)}for(T in u)if(m=u[T],y=r[T],u.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":P=m;break;case"defaultValue":L=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Ge(n,o,T,m,u,y)}Hd(n,P,L);return;case"option":for(var Z in r)if(P=r[Z],r.hasOwnProperty(Z)&&P!=null&&!u.hasOwnProperty(Z))switch(Z){case"selected":n.selected=!1;break;default:Ge(n,o,Z,null,u,P)}for(C in u)if(P=u[C],L=r[C],u.hasOwnProperty(C)&&P!==L&&(P!=null||L!=null))switch(C){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ge(n,o,C,P,u,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)P=r[le],r.hasOwnProperty(le)&&P!=null&&!u.hasOwnProperty(le)&&Ge(n,o,le,null,u,P);for(O in u)if(P=u[O],L=r[O],u.hasOwnProperty(O)&&P!==L&&(P!=null||L!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,o));break;default:Ge(n,o,O,P,u,L)}return;default:if(pl(o)){for(var He in r)P=r[He],r.hasOwnProperty(He)&&P!==void 0&&!u.hasOwnProperty(He)&&ec(n,o,He,void 0,u,P);for(B in u)P=u[B],L=r[B],!u.hasOwnProperty(B)||P===L||P===void 0&&L===void 0||ec(n,o,B,P,u,L);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!u.hasOwnProperty(M)&&Ge(n,o,M,null,u,P);for($ in u)P=u[$],L=r[$],!u.hasOwnProperty($)||P===L||P==null&&L==null||Ge(n,o,$,P,u,L)}function Fp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var m=r[u],y=m.transferSize,T=m.initiatorType,b=m.duration;if(y&&b&&Fp(T)){for(T=0,b=m.responseEnd,u+=1;u<r.length;u++){var C=r[u],O=C.startTime;if(O>b)break;var B=C.transferSize,$=C.initiatorType;B&&Fp($)&&(C=C.responseEnd,T+=B*(C<b?1:(b-O)/(C-O)))}if(--u,o+=8*(y+T)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var tc=null,nc=null;function fa(n){return n.nodeType===9?n:n.ownerDocument}function Jp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function ic(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var oc=null;function $_(){var n=window.event;return n&&n.type==="popstate"?n===oc?!1:(oc=n,!0):(oc=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(n){return jp.resolve(null).then(n).catch(Y_)}:Kp;function Y_(n){setTimeout(function(){throw n})}function ui(n){return n==="head"}function Xp(n,o){var r=o,u=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(u===0){n.removeChild(m),No(o);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")Ls(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,Ls(r);for(var y=r.firstChild;y;){var T=y.nextSibling,b=y.nodeName;y[ts]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=T}}else r==="body"&&Ls(n.ownerDocument.body);r=m}while(r);No(o)}function Qp(n,o){var r=n;n=0;do{var u=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=u}while(r)}function sc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sc(r),cl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function K_(n,o,r,u){for(;n.nodeType===1;){var m=r;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ts])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=nn(n.nextSibling),n===null)break}return null}function j_(n,o,r){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=nn(n.nextSibling),n===null))return null;return n}function Wp(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=nn(n.nextSibling),n===null))return null;return n}function rc(n){return n.data==="$?"||n.data==="$~"}function ac(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function X_(n,o){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||r.readyState!=="loading")o();else{var u=function(){o(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function nn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var lc=null;function Zp(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(o===0)return nn(n.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}n=n.nextSibling}return null}function em(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return n;o--}else r!=="/$"&&r!=="/&"||o++}n=n.previousSibling}return null}function tm(n,o,r){switch(o=fa(r),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ls(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);cl(n)}var on=new Map,nm=new Set;function ha(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qn=j.d;j.d={f:Q_,r:W_,D:Z_,C:eS,L:tS,m:nS,X:oS,S:iS,M:sS};function Q_(){var n=qn.f(),o=oa();return n||o}function W_(n){var o=Yi(n);o!==null&&o.tag===5&&o.type==="form"?_h(o):qn.r(n)}var Co=typeof document>"u"?null:document;function im(n,o,r){var u=Co;if(u&&typeof o=="string"&&o){var m=jt(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),nm.has(m)||(nm.add(m),n={rel:n,crossOrigin:r,href:o},u.querySelector(m)===null&&(o=u.createElement("link"),vt(o,"link",n),ut(o),u.head.appendChild(o)))}}function Z_(n){qn.D(n),im("dns-prefetch",n,null)}function eS(n,o){qn.C(n,o),im("preconnect",n,o)}function tS(n,o,r){qn.L(n,o,r);var u=Co;if(u&&n&&o){var m='link[rel="preload"][as="'+jt(o)+'"]';o==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+jt(r.imageSizes)+'"]')):m+='[href="'+jt(n)+'"]';var y=m;switch(o){case"style":y=Ro(n);break;case"script":y=xo(n)}on.has(y)||(n=_({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:n,as:o},r),on.set(y,n),u.querySelector(m)!==null||o==="style"&&u.querySelector(qs(y))||o==="script"&&u.querySelector(Gs(y))||(o=u.createElement("link"),vt(o,"link",n),ut(o),u.head.appendChild(o)))}}function nS(n,o){qn.m(n,o);var r=Co;if(r&&n){var u=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(n)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xo(n)}if(!on.has(y)&&(n=_({rel:"modulepreload",href:n},o),on.set(y,n),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Gs(y)))return}u=r.createElement("link"),vt(u,"link",n),ut(u),r.head.appendChild(u)}}}function iS(n,o,r){qn.S(n,o,r);var u=Co;if(u&&n){var m=Ki(u).hoistableStyles,y=Ro(n);o=o||"default";var T=m.get(y);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(qs(y)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":o},r),(r=on.get(y))&&uc(n,r);var C=T=u.createElement("link");ut(C),vt(C,"link",n),C._p=new Promise(function(O,B){C.onload=O,C.onerror=B}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,pa(T,o,u)}T={type:"stylesheet",instance:T,count:1,state:b},m.set(y,T)}}}function oS(n,o){qn.X(n,o);var r=Co;if(r&&n){var u=Ki(r).hoistableScripts,m=xo(n),y=u.get(m);y||(y=r.querySelector(Gs(m)),y||(n=_({src:n,async:!0},o),(o=on.get(m))&&cc(n,o),y=r.createElement("script"),ut(y),vt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function sS(n,o){qn.M(n,o);var r=Co;if(r&&n){var u=Ki(r).hoistableScripts,m=xo(n),y=u.get(m);y||(y=r.querySelector(Gs(m)),y||(n=_({src:n,async:!0,type:"module"},o),(o=on.get(m))&&cc(n,o),y=r.createElement("script"),ut(y),vt(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function om(n,o,r,u){var m=(m=ve.current)?ha(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=Ro(r.href),r=Ki(m).hoistableStyles,u=r.get(o),u||(u={type:"style",instance:null,count:0,state:null},r.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Ro(r.href);var y=Ki(m).hoistableStyles,T=y.get(n);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=m.querySelector(qs(n)))&&!y._p&&(T.instance=y,T.state.loading=5),on.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},on.set(n,r),y||rS(m,n,r,T.state))),o&&u===null)throw Error(s(528,""));return T}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=xo(r),r=Ki(m).hoistableScripts,u=r.get(o),u||(u={type:"script",instance:null,count:0,state:null},r.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ro(n){return'href="'+jt(n)+'"'}function qs(n){return'link[rel="stylesheet"]['+n+"]"}function sm(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function rS(n,o,r,u){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=n.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),vt(o,"link",r),ut(o),n.head.appendChild(o))}function xo(n){return'[src="'+jt(n)+'"]'}function Gs(n){return"script[async]"+n}function rm(n,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var u=n.querySelector('style[data-href~="'+jt(r.href)+'"]');if(u)return o.instance=u,ut(u),u;var m=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ut(u),vt(u,"style",m),pa(u,r.precedence,n),o.instance=u;case"stylesheet":m=Ro(r.href);var y=n.querySelector(qs(m));if(y)return o.state.loading|=4,o.instance=y,ut(y),y;u=sm(r),(m=on.get(m))&&uc(u,m),y=(n.ownerDocument||n).createElement("link"),ut(y);var T=y;return T._p=new Promise(function(b,C){T.onload=b,T.onerror=C}),vt(y,"link",u),o.state.loading|=4,pa(y,r.precedence,n),o.instance=y;case"script":return y=xo(r.src),(m=n.querySelector(Gs(y)))?(o.instance=m,ut(m),m):(u=r,(m=on.get(y))&&(u=_({},r),cc(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),ut(m),vt(m,"link",u),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,pa(u,r.precedence,n));return o.instance}function pa(n,o,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===o)y=b;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(n,o.firstChild))}function uc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function cc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var ma=null;function am(n,o,r){if(ma===null){var u=new Map,m=ma=new Map;m.set(r,u)}else m=ma,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),m=0;m<r.length;m++){var y=r[m];if(!(y[ts]||y[pt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=n+T;var b=u.get(T);b?b.push(y):u.set(T,[y])}}return u}function lm(n,o,r){n=n.ownerDocument||n,n.head.insertBefore(r,o==="title"?n.querySelector("head > title"):null)}function aS(n,o,r){if(r===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function um(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function lS(n,o,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Ro(u.href),y=o.querySelector(qs(m));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=ga.bind(n),o.then(n,n)),r.state.loading|=4,r.instance=y,ut(y);return}y=o.ownerDocument||o,u=sm(u),(m=on.get(m))&&uc(u,m),y=y.createElement("link"),ut(y);var T=y;T._p=new Promise(function(b,C){T.onload=b,T.onerror=C}),vt(y,"link",u),r.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=ga.bind(n),o.addEventListener("load",r),o.addEventListener("error",r))}}var dc=0;function uS(n,o){return n.stylesheets&&n.count===0&&va(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var u=setTimeout(function(){if(n.stylesheets&&va(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&dc===0&&(dc=62500*z_());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&va(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>dc?50:800)+o);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ya=null;function va(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ya=new Map,o.forEach(cS,n),ya=null,ga.call(n))}function cS(n,o){if(!(o.state.loading&4)){var r=ya.get(n);if(r)var u=r.get(null);else{r=new Map,ya.set(n,r);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),u=T)}u&&r.set(null,u)}m=o.instance,T=m.getAttribute("data-precedence"),y=r.get(T)||u,y===u&&r.set(null,m),r.set(T,m),this.count++,u=ga.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var Hs={$$typeof:U,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function dS(n,o,r,u,m,y,T,b,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.hiddenUpdates=rl(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cm(n,o,r,u,m,y,T,b,C,O,B,$){return n=new dS(n,o,r,T,C,O,B,$,b),o=1,y===!0&&(o|=24),y=Ht(3,null,null,o),n.current=y,y.stateNode=n,o=$l(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:o},Kl(y),n}function dm(n){return n?(n=oo,n):oo}function fm(n,o,r,u,m,y){m=dm(m),u.context===null?u.context=m:u.pendingContext=m,u=Wn(o),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=Zn(n,u,o),r!==null&&(Ot(r,n,o),vs(r,n,o))}function hm(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<o?r:o}}function fc(n,o){hm(n,o),(n=n.alternate)&&hm(n,o)}function pm(n){if(n.tag===13||n.tag===31){var o=wi(n,67108864);o!==null&&Ot(o,n,67108864),fc(n,67108864)}}function mm(n){if(n.tag===13||n.tag===31){var o=Ft();o=al(o);var r=wi(n,o);r!==null&&Ot(r,n,o),fc(n,o)}}var _a=!0;function fS(n,o,r,u){var m=H.T;H.T=null;var y=j.p;try{j.p=2,hc(n,o,r,u)}finally{j.p=y,H.T=m}}function hS(n,o,r,u){var m=H.T;H.T=null;var y=j.p;try{j.p=8,hc(n,o,r,u)}finally{j.p=y,H.T=m}}function hc(n,o,r,u){if(_a){var m=pc(u);if(m===null)Zu(n,o,u,Sa,r),ym(n,u);else if(mS(m,n,o,r,u))u.stopPropagation();else if(ym(n,u),o&4&&-1<pS.indexOf(n)){for(;m!==null;){var y=Yi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=_i(y.pendingLanes);if(T!==0){var b=y;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var C=1<<31-qt(T);b.entanglements[1]|=C,T&=~C}Sn(y),(Ne&6)===0&&(na=Pt()+500,ks(0))}}break;case 31:case 13:b=wi(y,2),b!==null&&Ot(b,y,2),oa(),fc(y,2)}if(y=pc(u),y===null&&Zu(n,o,u,Sa,r),y===m)break;m=y}m!==null&&u.stopPropagation()}else Zu(n,o,u,null,r)}}function pc(n){return n=gl(n),mc(n)}var Sa=null;function mc(n){if(Sa=null,n=Ji(n),n!==null){var o=l(n);if(o===null)n=null;else{var r=o.tag;if(r===13){if(n=c(o),n!==null)return n;n=null}else if(r===31){if(n=h(o),n!==null)return n;n=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Sa=n,null}function gm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zv()){case bd:return 2;case wd:return 8;case ur:case e0:return 32;case Ad:return 268435456;default:return 32}default:return 32}}var gc=!1,ci=null,di=null,fi=null,Bs=new Map,Vs=new Map,hi=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(n,o){switch(n){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Bs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(o.pointerId)}}function zs(n,o,r,u,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Yi(o),o!==null&&pm(o)),n):(n.eventSystemFlags|=u,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function mS(n,o,r,u,m){switch(o){case"focusin":return ci=zs(ci,n,o,r,u,m),!0;case"dragenter":return di=zs(di,n,o,r,u,m),!0;case"mouseover":return fi=zs(fi,n,o,r,u,m),!0;case"pointerover":var y=m.pointerId;return Bs.set(y,zs(Bs.get(y)||null,n,o,r,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Vs.set(y,zs(Vs.get(y)||null,n,o,r,u,m)),!0}return!1}function vm(n){var o=Ji(n.target);if(o!==null){var r=l(o);if(r!==null){if(o=r.tag,o===13){if(o=c(r),o!==null){n.blockedOn=o,Md(n.priority,function(){mm(r)});return}}else if(o===31){if(o=h(r),o!==null){n.blockedOn=o,Md(n.priority,function(){mm(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ta(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var r=pc(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);ml=u,r.target.dispatchEvent(u),ml=null}else return o=Yi(r),o!==null&&pm(o),n.blockedOn=r,!1;o.shift()}return!0}function _m(n,o,r){Ta(n)&&r.delete(o)}function gS(){gc=!1,ci!==null&&Ta(ci)&&(ci=null),di!==null&&Ta(di)&&(di=null),fi!==null&&Ta(fi)&&(fi=null),Bs.forEach(_m),Vs.forEach(_m)}function Ea(n,o){n.blockedOn===o&&(n.blockedOn=null,gc||(gc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gS)))}var ba=null;function Sm(n){ba!==n&&(ba=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ba===n&&(ba=null);for(var o=0;o<n.length;o+=3){var r=n[o],u=n[o+1],m=n[o+2];if(typeof u!="function"){if(mc(u||r)===null)continue;break}var y=Yi(r);y!==null&&(n.splice(o,3),o-=3,pu(y,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function No(n){function o(C){return Ea(C,n)}ci!==null&&Ea(ci,n),di!==null&&Ea(di,n),fi!==null&&Ea(fi,n),Bs.forEach(o),Vs.forEach(o);for(var r=0;r<hi.length;r++){var u=hi[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)vm(r),r.blockedOn===null&&hi.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],y=r[u+1],T=m[Nt]||null;if(typeof y=="function")T||Sm(r);else if(T){var b=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Nt]||null)b=T.formAction;else if(mc(m)!==null)continue}else b=T.action;typeof b=="function"?r[u+1]=b:(r.splice(u,3),u-=3),Sm(r)}}}function Tm(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function yc(n){this._internalRoot=n}wa.prototype.render=yc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,u=Ft();fm(r,u,n,o,null,null)},wa.prototype.unmount=yc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;fm(n.current,2,null,n,null,null),oa(),o[Fi]=null}};function wa(n){this._internalRoot=n}wa.prototype.unstable_scheduleHydration=function(n){if(n){var o=Id();n={blockedOn:null,target:n,priority:o};for(var r=0;r<hi.length&&o!==0&&o<hi[r].priority;r++);hi.splice(r,0,n),r===0&&vm(n)}};var Em=e.version;if(Em!=="19.2.4")throw Error(s(527,Em,"19.2.4"));j.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var yS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Wo=Aa.inject(yS),Lt=Aa}catch{}}return Fs.createRoot=function(n,o){if(!a(n))throw Error(s(299));var r=!1,u="",m=Nh,y=Ih,T=Mh;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=cm(n,1,!1,null,null,r,u,null,m,y,T,Tm),n[Fi]=o.current,Wu(n),new yc(o)},Fs.hydrateRoot=function(n,o,r){if(!a(n))throw Error(s(299));var u=!1,m="",y=Nh,T=Ih,b=Mh,C=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),o=cm(n,1,!0,o,r??null,u,m,C,y,T,b,Tm),o.context=dm(null),r=o.current,u=Ft(),u=al(u),m=Wn(u),m.callback=null,Zn(r,m,u),r=u,o.current.lanes=r,es(o,r),Sn(o),n[Fi]=o.current,Wu(n),new wa(o)},Fs.version="19.2.4",Fs}var Dm;function xS(){if(Dm)return Sc.exports;Dm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sc.exports=RS(),Sc.exports}var NS=xS();const IS=Gy(NS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=t=>{const e=DS(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var US={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Ke.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},g)=>Ke.createElement("svg",{ref:g,...US,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:Hy("lucide",a),...!l&&!kS(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>Ke.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const i=Ke.forwardRef(({className:s,...a},l)=>Ke.createElement(OS,{ref:l,iconNode:e,className:Hy(`lucide-${MS(Um(t))}`,`lucide-${t}`,s),...a}));return i.displayName=Um(t),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LS=Pe("activity",PS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GS=Pe("arrow-left",qS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],km=Pe("bot",HS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],VS=Pe("calendar-clock",BS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$S=Pe("chart-column",zS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wc=Pe("circle-check",FS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],YS=Pe("circle-pause",JS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jS=Pe("circle-play",KS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],QS=Pe("clock",XS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ac=Pe("folder-open",WS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],eT=Pe("folder",ZS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Om=Pe("layers",tT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],iT=Pe("layout-dashboard",nT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],sT=Pe("lightbulb",oT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],aT=Pe("menu",rT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],uT=Pe("panel-right-close",lT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pm=Pe("plus",cT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],fT=Pe("rocket",dT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pT=Pe("send",hT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lc=Pe("settings",mT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yT=Pe("shield-alert",gT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],By=Pe("sparkles",vT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ST=Pe("target",_T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qc=Pe("trash-2",TT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bT=Pe("trending-down",ET);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],AT=Pe("trending-up",wT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RT=Pe("user",CT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NT=Pe("users",xT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cc=Pe("x",IT);var dt=(t=>(t.TODO="A Fazer",t.DOING="Fazendo",t.TESTING="Testes",t.DEPLOY_DEV="Deploy Dev",t.DEPLOY_PROD="Deploy Prod",t))(dt||{});const MT=({timeline:t,tasks:e,insights:i})=>{const s=e.length,a=e.filter(v=>v.column===dt.DEPLOY_DEV||v.column===dt.DEPLOY_PROD).length,l=e.filter(v=>v.column===dt.DEPLOY_PROD).length,c=s===0?0:Math.round(a/s*100),h=s===0?0:Math.round(l/s*100);let g=0;t&&(g=Math.min(100,Math.round(t.currentWeek/t.totalWeeks*100)));let p=100;if(t&&s>0){const v=c-g;v<-20?p=60:v<-10?p=80:v<0&&(p=90)}return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-brand-surface p-6 rounded-xl border border-brand-light shadow-lg relative overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"text-gray-300 text-sm font-medium flex items-center gap-2",children:[w.jsx(VS,{size:16})," Cronograma"]}),w.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:t?`${t.totalWeeks} Semanas`:"--"}),w.jsx("p",{className:"text-xs text-brand-green mt-1",children:t?`Semana Atual: ${t.currentWeek}`:"Prazo: --/--"})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("span",{className:"text-xs text-gray-400 mb-1",children:"SADE DO PROJETO"}),w.jsx("span",{className:`text-2xl font-black ${p>=90?"text-brand-green":p>=70?"text-yellow-500":"text-red-500"}`,children:p})]})]}),w.jsxs("div",{className:"mt-4",children:[w.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[w.jsx("span",{children:"Tempo Decorrido"}),w.jsxs("span",{children:[g,"%"]})]}),w.jsx("div",{className:"w-full bg-brand-base h-2 rounded-full border border-brand-light/30",children:w.jsx("div",{className:"bg-brand-green h-2 rounded-full transition-all duration-500",style:{width:`${g}%`}})})]})]}),w.jsxs("div",{className:"bg-brand-surface p-6 rounded-xl border border-brand-light shadow-lg",children:[w.jsx("div",{className:"flex justify-between items-start mb-6",children:w.jsxs("h3",{className:"text-gray-300 text-sm font-medium flex items-center gap-2",children:[w.jsx(fT,{size:16})," Status de Entrega"]})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-end mb-2",children:[w.jsx("span",{className:"text-sm text-gray-300",children:"Progresso Dev"}),w.jsxs("span",{className:"text-xl font-bold text-white",children:[c,"%"]})]}),w.jsx("div",{className:"w-full bg-brand-base h-2 rounded-full border border-brand-light/30",children:w.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-500",style:{width:`${c}%`}})})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-end mb-2",children:[w.jsx("span",{className:"text-sm text-gray-300",children:"Progresso Produo"}),w.jsxs("span",{className:"text-xl font-bold text-brand-green",children:[h,"%"]})]}),w.jsx("div",{className:"w-full bg-brand-base h-2 rounded-full border border-brand-light/30",children:w.jsx("div",{className:"bg-brand-green h-2 rounded-full transition-all duration-500",style:{width:`${h}%`}})})]})]})]}),w.jsxs("div",{className:"bg-brand-surface p-6 rounded-xl border border-brand-light shadow-lg relative",children:[w.jsx("div",{className:"flex justify-between items-start mb-4",children:w.jsxs("h3",{className:"text-gray-300 text-sm font-medium flex items-center gap-2",children:[w.jsx(sT,{size:16})," Insights IA"]})}),w.jsx("div",{className:"space-y-3",children:i.length>0?i.map((v,_)=>w.jsx("div",{className:"pl-3 border-l-2 border-brand-green",children:w.jsxs("p",{className:"text-sm text-gray-200 italic",children:['"',v,'"']})},_)):w.jsx("div",{className:"pl-3 border-l-2 border-brand-light",children:w.jsx("p",{className:"text-sm text-gray-400 italic",children:"Digite suas tarefas no chat para gerar o cronograma inicial e insights..."})})})]})]})},DT=[dt.TODO,dt.DOING,dt.TESTING,dt.DEPLOY_DEV,dt.DEPLOY_PROD],UT=({tasks:t,onTaskMove:e,onEditTask:i,onDeleteTask:s})=>{const a=(g,p)=>{g.dataTransfer.setData("taskId",p),g.dataTransfer.effectAllowed="move"},l=g=>{g.preventDefault()},c=(g,p)=>{g.preventDefault();const v=g.dataTransfer.getData("taskId");v&&e(v,p)},h=g=>{switch(g){case dt.TODO:return"border-brand-light";case dt.DOING:return"border-blue-400";case dt.TESTING:return"border-yellow-500";case dt.DEPLOY_DEV:return"border-indigo-400";case dt.DEPLOY_PROD:return"border-brand-green";default:return"border-brand-light"}};return w.jsx("div",{className:"flex-1 overflow-x-auto",children:w.jsx("div",{className:"flex gap-4 min-w-[1200px] h-full pb-4",children:DT.map(g=>w.jsxs("div",{className:"flex-1 bg-brand-surface/50 rounded-lg flex flex-col min-w-[220px] border border-brand-light/50",onDragOver:l,onDrop:p=>c(p,g),children:[w.jsxs("div",{className:`p-4 border-t-2 ${h(g)} bg-brand-surface rounded-t-lg flex justify-between items-center sticky top-0 z-10`,children:[w.jsx("h4",{className:"font-bold text-gray-100 text-sm uppercase tracking-wider",children:g}),w.jsx("span",{className:"text-xs bg-brand-base text-brand-green px-2 py-0.5 rounded-full border border-brand-light",children:t.filter(p=>p.column===g).length})]}),w.jsxs("div",{className:"p-3 flex-1 space-y-3 overflow-y-auto",children:[t.filter(p=>p.column===g).map(p=>w.jsxs("div",{draggable:!0,onDragStart:v=>a(v,p.id),className:"bg-brand-light/20 p-4 rounded border border-brand-light hover:border-brand-green cursor-move hover:shadow-md transition-all group",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("span",{className:"text-[10px] font-mono text-brand-green bg-brand-green/10 px-1.5 py-0.5 rounded",children:p.code}),w.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>i==null?void 0:i(p),className:"text-gray-400 hover:text-brand-green p-1 rounded hover:bg-brand-green/10",title:"Editar Tarefa",children:w.jsx(Lc,{size:14})}),w.jsx("button",{onClick:()=>s==null?void 0:s(p.id),className:"text-gray-400 hover:text-red-400 p-1 rounded hover:bg-red-500/10",title:"Excluir Tarefa",children:w.jsx(qc,{size:14})})]})]}),w.jsx("p",{className:"text-gray-100 text-sm font-medium leading-snug mb-2",children:p.title}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-semibold",children:p.category.split(" ")[0]})})]},p.id)),t.filter(p=>p.column===g).length===0&&w.jsx("div",{className:"h-full flex items-center justify-center border-2 border-dashed border-brand-light/30 rounded opacity-50",children:w.jsx("span",{className:"text-xs text-gray-500",children:"Vazio"})})]})]},g))})})},kT=({timeline:t,tasks:e,insights:i})=>{const a=["UX/UI","Backend","Frontend","Geral"].map(_=>{const S=e.filter(x=>x.squad===_||!x.squad&&_==="Geral"),E=S.length,A=S.filter(x=>x.column===dt.DEPLOY_PROD).length,R=E===0?0:Math.round(A/E*100);return{squad:_,total:E,done:A,progress:R}}),l=e.length,c=e.filter(_=>_.column===dt.DEPLOY_PROD).length,h=l===0?0:Math.round(c/l*100);let g=0;t&&(g=Math.min(100,Math.round(t.currentWeek/t.totalWeeks*100)));const p=h-g,v=p<-10;return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-brand-surface p-6 rounded-xl border border-brand-light shadow-lg",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[w.jsx(NT,{size:18,className:"text-brand-green"})," Sade por Squad"]}),w.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Granularidade"})]}),w.jsx("div",{className:"space-y-5",children:a.map(_=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-end mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-200",children:_.squad}),w.jsxs("span",{className:"text-[10px] text-gray-500 bg-brand-base px-1.5 py-0.5 rounded border border-brand-light",children:[_.done,"/",_.total," tasks"]})]}),w.jsxs("span",{className:`text-sm font-bold ${_.progress>=80?"text-brand-green":_.progress>=40?"text-blue-400":"text-gray-400"}`,children:[_.progress,"%"]})]}),w.jsx("div",{className:"w-full bg-brand-base h-2 rounded-full overflow-hidden border border-brand-light/20",children:w.jsx("div",{className:`h-full transition-all duration-700 ease-out ${_.squad==="UX/UI"?"bg-pink-500":_.squad==="Backend"?"bg-blue-400":_.squad==="Frontend"?"bg-yellow-500":"bg-brand-green"}`,style:{width:`${_.progress}%`}})})]},_.squad))})]}),w.jsxs("div",{className:"bg-brand-surface p-6 rounded-xl border border-brand-light shadow-lg relative overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[w.jsx(LS,{size:18,className:"text-brand-green"})," Indicador de Drift"]}),w.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-bold uppercase transition-colors ${p>=0?"bg-brand-green/10 text-brand-green":v?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:[p>=0?w.jsx(AT,{size:12}):w.jsx(bT,{size:12}),p>0?"Adiantado":p<0?"Atrasado":"No Prazo"]})]}),w.jsx("div",{className:"space-y-8 py-4",children:w.jsxs("div",{className:"relative pt-4",children:[w.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-3 font-mono",children:[w.jsx("span",{children:"INCIO"}),w.jsxs("span",{children:["DATA ATUAL (W",t==null?void 0:t.currentWeek,")"]}),w.jsx("span",{children:"FIM"})]}),w.jsxs("div",{className:"w-full bg-brand-base h-4 rounded-full border border-brand-light/30 relative",children:[w.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${p>=0?"bg-brand-green":v?"bg-red-500":"bg-yellow-500"}`,style:{width:`${h}%`}}),w.jsx("div",{className:"absolute top-[-8px] h-[32px] w-[2px] bg-white/40 shadow-[0_0_8px_rgba(255,255,255,0.5)] z-10 transition-all duration-500",style:{left:`${g}%`},children:w.jsxs("div",{className:"absolute top-[-18px] left-1/2 -translate-x-1/2 text-[9px] font-bold text-white bg-brand-light/80 px-1 rounded whitespace-nowrap",children:["ESPERADO: ",g,"%"]})})]}),w.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-brand-base/50 p-3 rounded-lg border border-brand-light/20",children:[w.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Status Real"}),w.jsxs("p",{className:"text-xl font-black text-white",children:[h,"%"]})]}),w.jsxs("div",{className:"bg-brand-base/50 p-3 rounded-lg border border-brand-light/20",children:[w.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold mb-1",children:"Desvio (Drift)"}),w.jsxs("p",{className:`text-xl font-black ${p>=0?"text-brand-green":"text-red-400"}`,children:[p>0?"+":"",p,"%"]})]})]})]})})]})]}),w.jsxs("div",{className:`p-6 rounded-xl border transition-all duration-500 ${v?"bg-red-900/10 border-red-500/30":"bg-brand-surface border-brand-light shadow-lg"}`,children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[w.jsx(ST,{size:18,className:v?"text-red-500":"text-brand-green"}),"Plano de Mitigao & Insights IA"]}),v&&w.jsxs("div",{className:"flex items-center gap-2 text-red-500 animate-pulse",children:[w.jsx(yT,{size:16}),w.jsx("span",{className:"text-xs font-black uppercase",children:"Crtico: Projeto em Atraso"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.map((_,S)=>w.jsxs("div",{className:`p-4 rounded-lg flex gap-3 ${v?"bg-red-500/5 border border-red-500/10":"bg-brand-base/30 border border-brand-light/20"}`,children:[w.jsx("div",{className:`shrink-0 w-1.5 h-full rounded-full ${v?"bg-red-500":"bg-brand-green"}`}),w.jsx("p",{className:"text-sm text-gray-300 italic leading-relaxed",children:_})]},S)),i.length===0&&w.jsx("p",{className:"text-sm text-gray-500 italic px-4",children:"Aguardando novos dados para anlise profunda..."})]})]})]})},OT=({messages:t,onSendMessage:e,isLoading:i,isCollapsed:s,onToggleCollapse:a})=>{const[l,c]=Ke.useState(""),h=Ke.useRef(null);Ke.useEffect(()=>{var p;(p=h.current)==null||p.scrollIntoView({behavior:"smooth"})},[t,i]);const g=p=>{p.preventDefault(),!(!l.trim()||i)&&(e(l),c(""))};return s?null:w.jsxs("div",{className:"flex flex-col h-full bg-brand-surface border-l border-brand-light w-[350px] shadow-2xl relative",children:[w.jsxs("div",{className:"p-4 border-b border-brand-light flex items-center justify-between bg-brand-surface z-10",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(By,{className:"text-brand-green",size:18}),w.jsx("h3",{className:"font-bold text-white",children:"Agente SAAD"})]}),w.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",title:"Recolher Chat",children:w.jsx(uT,{size:20})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[w.jsxs("div",{className:"bg-brand-light/40 p-3 rounded-lg border border-brand-light text-sm text-gray-300",children:["Ol! Eu sou sua IA de gesto. ",w.jsx("br",{}),"Cole suas Regras de Negcio (RN) e prazos para eu criar o cronograma e o Kanban."]}),t.map(p=>w.jsxs("div",{className:`flex gap-3 ${p.role==="user"?"flex-row-reverse":""}`,children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${p.role==="ai"?"bg-brand-base text-brand-green border border-brand-green/30":"bg-brand-light text-gray-300"}`,children:p.role==="ai"?w.jsx(km,{size:16}):w.jsx(RT,{size:16})}),w.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 text-sm ${p.role==="user"?"bg-brand-green text-brand-base font-medium rounded-br-none":"bg-brand-light/50 border border-brand-light text-gray-200 rounded-bl-none"}`,children:[w.jsx("p",{className:"whitespace-pre-wrap",children:p.content}),w.jsx("span",{className:`text-[10px] mt-1 block ${p.role==="user"?"text-brand-base/70":"text-gray-500"}`,children:p.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},p.id)),i&&w.jsxs("div",{className:"flex gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-base text-brand-green border border-brand-green/30 flex items-center justify-center shrink-0",children:w.jsx(km,{size:16})}),w.jsxs("div",{className:"bg-brand-light/50 border border-brand-light rounded-2xl rounded-bl-none px-4 py-3 flex items-center gap-1",children:[w.jsx("div",{className:"w-2 h-2 bg-brand-green rounded-full animate-bounce"}),w.jsx("div",{className:"w-2 h-2 bg-brand-green rounded-full animate-bounce delay-75"}),w.jsx("div",{className:"w-2 h-2 bg-brand-green rounded-full animate-bounce delay-150"})]})]}),w.jsx("div",{ref:h})]}),w.jsx("div",{className:"p-4 bg-brand-surface border-t border-brand-light",children:w.jsxs("form",{onSubmit:g,className:"relative",children:[w.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"Descreva tarefas ou cole RNs...",className:"w-full bg-brand-base border border-brand-light text-white rounded-xl py-3 pl-4 pr-12 focus:outline-none focus:ring-2 focus:ring-brand-green focus:border-transparent text-sm placeholder-gray-500"}),w.jsx("button",{type:"submit",disabled:i||!l.trim(),className:"absolute right-2 top-2 bg-brand-green hover:bg-brand-green-hover text-brand-base font-bold p-1.5 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w.jsx(pT,{size:16})})]})})]})};var PT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LT,qT;function GT(){return{geminiUrl:LT,vertexUrl:qT}}function HT(t,e,i,s){var a,l;if(!(t!=null&&t.baseUrl)){const c=GT();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{}function W(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(i))for(let p=0;p<g.length;p++){const v=g[p];f(v,e.slice(l+1),i[p])}else for(const p of g)f(p,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];f(g[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const a=e[s];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(s+1),i)):i}else return i}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function BT(t,e){for(const[i,s]of Object.entries(e)){const a=i.split("."),l=s.split("."),c=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&l.length>h)for(let g=h;g<l.length;g++){const p=l[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Gc(t,a,l,0,c)}}function Gc(t,e,i,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Gc(g,e,i,s+1,a)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,v]of Object.entries(g)){const _=[];for(const S of i.slice(s))S==="*"?_.push(p):_.push(S);f(c,_,v)}for(const p of h)delete c[p]}}else{const c=t;l in c&&Gc(c[l],e,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const s=d(t,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function zT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],FT(c)),e}function $T(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],JT(c)),e}function FT(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>YT(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function JT(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>KT(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=d(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function YT(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],eE(i)),e}function KT(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],tE(i)),e}function jT(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function XT(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function QT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],WT(c)),e}function WT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Vy(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],ZT(c)),e}function ZT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function eE(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const s=d(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],dd(s));const a=d(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function tE(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=d(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],dd(s));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lm;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lm||(Lm={}));var qm;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qm||(qm={}));var Gm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gm||(Gm={}));var Je;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Je||(Je={}));var Hm;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hm||(Hm={}));var Bm;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Bm||(Bm={}));var Vm;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Vm||(Vm={}));var zm;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zm||(zm={}));var $m;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})($m||($m={}));var Fm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fm||(Fm={}));var Jm;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Jm||(Jm={}));var Ym;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Ym||(Ym={}));var Km;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Km||(Km={}));var jm;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jm||(jm={}));var Xm;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Xm||(Xm={}));var Qm;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Qm||(Qm={}));var Wm;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Wm||(Wm={}));var Zm;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zm||(Zm={}));var eg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eg||(eg={}));var tg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(tg||(tg={}));var ng;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ng||(ng={}));var Ha;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ha||(Ha={}));var ig;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ig||(ig={}));var og;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(og||(og={}));var sg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sg||(sg={}));var Hc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hc||(Hc={}));var rg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rg||(rg={}));var ag;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ag||(ag={}));var Bc;(function(t){t.COLLECTION="COLLECTION"})(Bc||(Bc={}));var lg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lg||(lg={}));var ug;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ug||(ug={}));var cg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cg||(cg={}));var dg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dg||(dg={}));var fg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fg||(fg={}));var hg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hg||(hg={}));var pg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pg||(pg={}));var mg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mg||(mg={}));var gg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gg||(gg={}));var yg;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(yg||(yg={}));var vg;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(vg||(vg={}));var _g;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(_g||(_g={}));var Sg;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Sg||(Sg={}));var Tg;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(Tg||(Tg={}));var Eg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Eg||(Eg={}));var bg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(bg||(bg={}));var wg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(wg||(wg={}));var Ag;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ag||(Ag={}));var Cg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Cg||(Cg={}));var Rg;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Rg||(Rg={}));var xg;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(xg||(xg={}));var Ng;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ng||(Ng={}));var Ig;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ig||(Ig={}));var Mg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Mg||(Mg={}));var Dg;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Dg||(Dg={}));var Ug;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ug||(Ug={}));var kg;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(kg||(kg={}));var Ho;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ho||(Ho={}));class Vc{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Js{get text(){var e,i,s,a,l,c,h,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const S of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,A]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(A!==null||A!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,s,a,l,c,h,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,s,a,l,c,h,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,s,a,l,c,h,g,p;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,s,a,l,c,h,g,p;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Og{}class Pg{}class nE{}class iE{}class oE{}class sE{}class Lg{}class qg{}class Gg{}class rE{}class Ba{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Ba;let a;const l=e;return i?a=$T(l):a=zT(l),Object.assign(s,a),s}}class Hg{}class Bg{}class Vg{}class zg{}class aE{}class lE{}class uE{}class fd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new fd,l=QT(e);return Object.assign(s,l),s}}class cE{}class dE{}class fE{}class hE{}class $g{}class pE{get text(){var e,i,s;let a="",l=!1;const c=[];for(const h of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,a+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,i,s;let a="";const l=[];for(const c of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class mE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class hd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new hd,l=Vy(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function zy(t,e){const i=xe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function $y(t){return Array.isArray(t)?t.map(e=>Va(e)):[Va(t)]}function Va(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Fy(t){const e=Va(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jy(t){const e=Va(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Fg(e)):[Fg(t)]}function zc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jg(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Yg(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Et(t){if(t==null)throw new Error("ContentUnion is required");return zc(t)?t:{role:"user",parts:Yy(t)}}function pd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=Et(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=Et(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Et(i)):[Et(e)]}function rn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jg(t)||Yg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(t)]}const e=[],i=[],s=zc(t[0]);for(const a of t){const l=zc(a);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(Jg(a)||Yg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||e.push({role:"user",parts:Yy(i)}),e}function gE(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Je).includes(i[0].toUpperCase())?i[0].toUpperCase():Je.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Je).includes(s.toUpperCase())?s.toUpperCase():Je.TYPE_UNSPECIFIED})}}function zo(t){const e={},i=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&gE(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Je).includes(h.toUpperCase())?h.toUpperCase():Je.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=zo(h);else if(s.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(zo(p))}e[c]=g}else if(a.includes(c)){const g={};for(const[p,v]of Object.entries(h))g[p]=zo(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function md(t){return zo(t)}function gd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function yd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=zo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=zo(e.response));return t}function Yo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function yE(t,e,i,s=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Vn(t,e){if(typeof e!="string")throw new Error("name must be a string");return yE(t,e,"cachedContents")}function Ky(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yi(t){return dd(t)}function vE(t){return t!=null&&typeof t=="object"&&"name"in t}function _E(t){return t!=null&&typeof t=="object"&&"video"in t}function SE(t){return t!=null&&typeof t=="object"&&"uri"in t}function jy(t){var e;let i;if(vE(t)&&(i=t.name),!(SE(t)&&(i=t.uri,i===void 0))&&!(_E(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function Xy(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Qy(t){for(const e of["models","tunedModels","publisherModels"])if(TE(t,e))return t[e];return[]}function TE(t,e){return t!==null&&typeof t=="object"&&e in t}function EE(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function bE(t,e={}){const i=[],s=new Set;for(const a of t){const l=a.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=EE(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function Wy(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function wE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zy(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ko(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function ev(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(t){const e={},i=d(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>sb(c))),f(e,["inlinedResponses"],l)}const a=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function CE(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const a=d(t,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function RE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const s=d(t,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const a=d(t,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qa(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const a=d(t,["metadata","state"]);a!=null&&f(e,["state"],ev(a));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=d(t,["metadata","model"]);g!=null&&f(e,["model"],g);const p=d(t,["metadata","output"]);return p!=null&&f(e,["dest"],AE(Zy(p))),e}function $c(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=d(t,["state"]);a!=null&&f(e,["state"],ev(a));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(e,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(e,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const v=d(t,["model"]);v!=null&&f(e,["model"],v);const _=d(t,["inputConfig"]);_!=null&&f(e,["src"],xE(_));const S=d(t,["outputConfig"]);S!=null&&f(e,["dest"],CE(Zy(S)));const E=d(t,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function xE(t){const e={},i=d(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const s=d(t,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const a=d(t,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function NE(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&f(i,["fileName"],s);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ob(t,c))),f(i,["requests","requests"],l)}return i}function IE(t){const e={},i=d(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const s=d(t,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const a=d(t,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ME(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function DE(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function UE(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function kE(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const s=d(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],OE(s));const a=d(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const p=d(t,["logprobsResult"]);p!=null&&f(e,["logprobsResult"],p);const v=d(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(e,["safetyRatings"],S)}const _=d(t,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function OE(t){const e={},i=d(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function tv(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>fb(l))),f(e,["parts"],a)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function PE(t,e){const i={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function LE(t,e){const i={},s=d(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=d(t,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],RE(wE(a))),i}function Kg(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["_url","model"],xe(t,s));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],NE(t,Wy(t,a)));const l=d(e,["config"]);return l!=null&&PE(l,i),i}function qE(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["model"],xe(t,s));const a=d(e,["src"]);a!=null&&f(i,["inputConfig"],IE(Wy(t,a)));const l=d(e,["config"]);return l!=null&&LE(l,i),i}function GE(t,e){const i={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),i}function HE(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["_url","model"],xe(t,s));const a=d(e,["src"]);a!=null&&f(i,["batch","inputConfig"],YE(t,a));const l=d(e,["config"]);return l!=null&&GE(l,i),i}function BE(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function VE(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function zE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function $E(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function FE(t,e){const i={},s=d(e,["contents"]);if(s!=null){let l=pd(t,s);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(f(i,["_self"],JE(a,i)),BT(i,{"requests[].*":"requests[].request.*"})),i}function JE(t,e){const i={},s=d(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=d(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function YE(t,e){const i={},s=d(e,["fileName"]);s!=null&&f(i,["file_name"],s);const a=d(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],FE(t,a)),i}function KE(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function jE(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XE(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=d(t,["mode"]);if(s!=null&&f(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function QE(t,e,i){const s={},a=d(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],tv(Et(a)));const l=d(e,["temperature"]);l!=null&&f(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(s,["topP"],c);const h=d(e,["topK"]);h!=null&&f(s,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(s,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&f(s,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=d(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const S=d(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const E=d(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const A=d(e,["frequencyPenalty"]);A!=null&&f(s,["frequencyPenalty"],A);const R=d(e,["seed"]);R!=null&&f(s,["seed"],R);const x=d(e,["responseMimeType"]);x!=null&&f(s,["responseMimeType"],x);const D=d(e,["responseSchema"]);D!=null&&f(s,["responseSchema"],md(D));const q=d(e,["responseJsonSchema"]);if(q!=null&&f(s,["responseJsonSchema"],q),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(e,["safetySettings"]);if(i!==void 0&&U!=null){let ze=U;Array.isArray(ze)&&(ze=ze.map(De=>hb(De))),f(i,["safetySettings"],ze)}const V=d(e,["tools"]);if(i!==void 0&&V!=null){let ze=Yo(V);Array.isArray(ze)&&(ze=ze.map(De=>mb(Jo(De)))),f(i,["tools"],ze)}const G=d(e,["toolConfig"]);if(i!==void 0&&G!=null&&f(i,["toolConfig"],pb(G)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],Vn(t,K));const J=d(e,["responseModalities"]);J!=null&&f(s,["responseModalities"],J);const ne=d(e,["mediaResolution"]);ne!=null&&f(s,["mediaResolution"],ne);const X=d(e,["speechConfig"]);if(X!=null&&f(s,["speechConfig"],gd(X)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=d(e,["thinkingConfig"]);re!=null&&f(s,["thinkingConfig"],re);const ye=d(e,["imageConfig"]);ye!=null&&f(s,["imageConfig"],ib(ye));const se=d(e,["enableEnhancedCivicAnswers"]);if(se!=null&&f(s,["enableEnhancedCivicAnswers"],se),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function WE(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(p=>kE(p))),f(e,["candidates"],g)}const a=d(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function ZE(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function eb(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Ko(t,s)),i}function tb(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function nb(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function ib(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=d(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ob(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["request","model"],xe(t,s));const a=d(e,["contents"]);if(a!=null){let h=rn(a);Array.isArray(h)&&(h=h.map(g=>tv(g))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],QE(t,c,d(i,["request"],{}))),i}function sb(t){const e={},i=d(t,["response"]);i!=null&&f(e,["response"],WE(i));const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["error"]);return a!=null&&f(e,["error"],a),e}function rb(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function ab(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function lb(t){const e={},i=d(t,["config"]);return i!=null&&rb(i,e),e}function ub(t){const e={},i=d(t,["config"]);return i!=null&&ab(i,e),e}function cb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>qa(c))),f(e,["batchJobs"],l)}return e}function db(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>$c(c))),f(e,["batchJobs"],l)}return e}function fb(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],KE(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],jE(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],ME(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function hb(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function pb(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=d(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],XE(s)),e}function mb(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=d(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],tb(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],nb(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Hn||(Hn={}));class $i{constructor(e,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,a)}init(e,i,s){var a,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gb extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Hn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Kg(this.apiClient,e),s=i._url,a=W("{model}:batchGenerateContent",s),h=i.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}p.push(_)}return h.requests=p,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${a}`;else if(c)s.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,e);return h=W("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>$c(v))}else{const p=Kg(this.apiClient,e);return h=W("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>qa(v))}}async createEmbeddingsInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HE(this.apiClient,e);return l=W("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>qa(g))}}async get(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=eb(this.apiClient,e);return h=W("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>$c(v))}else{const p=ZE(this.apiClient,e);return h=W("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>qa(v))}}async cancel(e){var i,s,a,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=UE(this.apiClient,e);c=W("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=DE(this.apiClient,e);c=W("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=ub(e);return h=W("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=db(v),S=new $g;return Object.assign(S,_),S})}else{const p=lb(e);return h=W("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=cb(v),S=new $g;return Object.assign(S,_),S})}}async delete(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=VE(this.apiClient,e);return h=W("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>$E(v))}else{const p=BE(this.apiClient,e);return h=W("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>zE(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yb(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function jg(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Hb(l))),f(e,["parts"],a)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function vb(t,e){const i={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=rn(c);Array.isArray(v)&&(v=v.map(_=>jg(_))),f(e,["contents"],v)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],jg(Et(h)));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>Vb(_))),f(e,["tools"],v)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&f(e,["toolConfig"],Bb(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function _b(t,e){const i={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=d(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let _=rn(c);Array.isArray(_)&&(_=_.map(S=>S)),f(e,["contents"],_)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Et(h));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>zb(S))),f(e,["tools"],_)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&f(e,["toolConfig"],p);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function Sb(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["model"],zy(t,s));const a=d(e,["config"]);return a!=null&&vb(a,i),i}function Tb(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["model"],zy(t,s));const a=d(e,["config"]);return a!=null&&_b(a,i),i}function Eb(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Vn(t,s)),i}function bb(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Vn(t,s)),i}function wb(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Ab(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Cb(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Rb(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xb(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=d(t,["mode"]);if(s!=null&&f(e,["mode"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nb(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const a=d(t,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ib(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Vn(t,s)),i}function Mb(t,e){const i={},s=d(e,["name"]);return s!=null&&f(i,["_url","name"],Vn(t,s)),i}function Db(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Ub(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function kb(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Ob(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Pb(t){const e={},i=d(t,["config"]);return i!=null&&kb(i,e),e}function Lb(t){const e={},i=d(t,["config"]);return i!=null&&Ob(i,e),e}function qb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function Gb(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function Hb(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],Cb(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],Rb(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],yb(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Bb(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=d(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],xb(s)),e}function Vb(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=d(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Db(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],Ub(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function zb(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=d(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>Nb(S))),f(e,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const p=d(t,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function $b(t,e){const i={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function Fb(t,e){const i={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=d(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function Jb(t,e){const i={},s=d(e,["name"]);s!=null&&f(i,["_url","name"],Vn(t,s));const a=d(e,["config"]);return a!=null&&$b(a,i),i}function Yb(t,e){const i={},s=d(e,["name"]);s!=null&&f(i,["_url","name"],Vn(t,s));const a=d(e,["config"]);return a!=null&&Fb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kb extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Hn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Tb(this.apiClient,e);return h=W("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=Sb(this.apiClient,e);return h=W("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Mb(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=Ib(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=bb(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Ab(v),S=new Vg;return Object.assign(S,_),S})}else{const p=Eb(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=wb(v),S=new Vg;return Object.assign(S,_),S})}}async update(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Yb(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=Jb(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Lb(e);return h=W("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Gb(v),S=new zg;return Object.assign(S,_),S})}else{const p=Pb(e);return h=W("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=qb(v),S=new zg;return Object.assign(S,_),S})}}}function za(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i}function Xg(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function pn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(A){return Promise.resolve(A).then(E,_)}}function h(E,A){s[E]&&(a[E]=function(R){return new Promise(function(x,D){l.push([E,R,x,D])>1||g(E,R)})},A&&(a[E]=A(a[E])))}function g(E,A){try{p(s[E](A))}catch(R){S(l[0][3],R)}}function p(E){E.value instanceof fe?Promise.resolve(E.value.v).then(v,_):S(l[0][2],E)}function v(E){g("next",E)}function _(E){g("throw",E)}function S(E,A){E(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function mn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Xg=="function"?Xg(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=t[l]&&function(c){return new Promise(function(h,g){c=t[l](c),a(h,g,c.done,c.value)})}}function a(l,c,h,g){Promise.resolve(g).then(function(p){l({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:nv(i)}function nv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Xb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qg(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let l=!0;for(;s<i&&t[s].role==="model";)a.push(t[s]),l&&!nv(t[s])&&(l=!1),s++;l?e.push(...a):e.pop()}return e}class Qb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Wb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wb{constructor(e,i,s,a={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),Xb(l)}async sendMessage(e){var i;await this.sendPromise;const s=Et(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const g=await a,p=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(_))!==null&&h!==void 0?h:[]);const E=p?[p]:[];this.recordHistory(s,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const s=Et(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,s)}getHistory(e=!1){const i=e?Qg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return pn(this,arguments,function*(){var a,l,c,h,g,p;const v=[];try{for(var _=!0,S=mn(e),E;E=yield fe(S.next()),a=E.done,!a;_=!0){h=E.value,_=!1;const A=h;if(jb(A)){const R=(p=(g=A.candidates)===null||g===void 0?void 0:g[0])===null||p===void 0?void 0:p.content;R!==void 0&&v.push(R)}yield yield fe(A)}}catch(A){l={error:A}}finally{try{!_&&!a&&(c=S.return)&&(yield fe(c.call(S)))}finally{if(l)throw l.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let a=[];i.length>0&&i.every(l=>l.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Qg(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(t){const e={},i=d(t,["file"]);return i!=null&&f(e,["file"],i),e}function ew(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function tw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],jy(i)),e}function nw(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function iw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],jy(i)),e}function ow(t){const e={},i=d(t,["uris"]);return i!=null&&f(e,["uris"],i),e}function sw(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function rw(t){const e={},i=d(t,["config"]);return i!=null&&sw(i,e),e}function aw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}function lw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),f(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uw extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Hn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=rw(e);return l=W("files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=aw(g),v=new cE;return Object.assign(v,p),v})}}async createInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zb(e);return l=W("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=ew(g),v=new dE;return Object.assign(v,p),v})}}async get(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iw(e);return l=W("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tw(e);return l=W("files/{file}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=nw(g),v=new fE;return Object.assign(v,p),v})}}async registerFilesInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ow(e);return l=W("files:register",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=lw(g),v=new hE;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ga(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function cw(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Cw(l))),f(e,["parts"],a)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function dw(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function fw(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hw(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const a=d(t,["parameters"]);a!=null&&f(e,["parameters"],a);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function pw(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=d(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=d(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(t,["logprobs"]);g!=null&&f(e,["logprobs"],g);const p=d(t,["maxOutputTokens"]);p!=null&&f(e,["maxOutputTokens"],p);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=d(t,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const S=d(t,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const E=d(t,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const A=d(t,["responseModalities"]);A!=null&&f(e,["responseModalities"],A);const R=d(t,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const x=d(t,["routingConfig"]);x!=null&&f(e,["routingConfig"],x);const D=d(t,["seed"]);D!=null&&f(e,["seed"],D);const q=d(t,["speechConfig"]);q!=null&&f(e,["speechConfig"],q);const U=d(t,["stopSequences"]);U!=null&&f(e,["stopSequences"],U);const V=d(t,["temperature"]);V!=null&&f(e,["temperature"],V);const G=d(t,["thinkingConfig"]);G!=null&&f(e,["thinkingConfig"],G);const K=d(t,["topK"]);K!=null&&f(e,["topK"],K);const J=d(t,["topP"]);if(J!=null&&f(e,["topP"],J),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mw(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function gw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function yw(t,e){const i={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],yd(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],cw(Et(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let K=Yo(R);Array.isArray(K)&&(K=K.map(J=>xw(Jo(J)))),f(e,["setup","tools"],K)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],Rw(x));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&f(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);if(e!==void 0&&G!=null&&f(e,["setup","proactivity"],G),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function vw(t,e){const i={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],pw(s));const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],yd(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],Et(A));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let J=Yo(R);Array.isArray(J)&&(J=J.map(ne=>Nw(Jo(ne)))),f(e,["setup","tools"],J)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],x);const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&f(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);e!==void 0&&G!=null&&f(e,["setup","proactivity"],G);const K=d(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&f(e,["setup","explicitVadSignal"],K),i}function _w(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["setup","model"],xe(t,s));const a=d(e,["config"]);return a!=null&&f(i,["config"],yw(a,i)),i}function Sw(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["setup","model"],xe(t,s));const a=d(e,["config"]);return a!=null&&f(i,["config"],vw(a,i)),i}function Tw(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Ew(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["weightedPrompts"],s)}return e}function bw(t){const e={},i=d(t,["media"]);if(i!=null){let p=$y(i);Array.isArray(p)&&(p=p.map(v=>Ga(v))),f(e,["mediaChunks"],p)}const s=d(t,["audio"]);s!=null&&f(e,["audio"],Ga(Jy(s)));const a=d(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(t,["video"]);l!=null&&f(e,["video"],Ga(Fy(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function ww(t){const e={},i=d(t,["media"]);if(i!=null){let p=$y(i);Array.isArray(p)&&(p=p.map(v=>v)),f(e,["mediaChunks"],p)}const s=d(t,["audio"]);s!=null&&f(e,["audio"],Jy(s));const a=d(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const l=d(t,["video"]);l!=null&&f(e,["video"],Fy(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function Aw(t){const e={},i=d(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const s=d(t,["serverContent"]);s!=null&&f(e,["serverContent"],s);const a=d(t,["toolCall"]);a!=null&&f(e,["toolCall"],a);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],Iw(c));const h=d(t,["goAway"]);h!=null&&f(e,["goAway"],h);const g=d(t,["sessionResumptionUpdate"]);g!=null&&f(e,["sessionResumptionUpdate"],g);const p=d(t,["voiceActivityDetectionSignal"]);p!=null&&f(e,["voiceActivityDetectionSignal"],p);const v=d(t,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],Mw(v)),e}function Cw(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],dw(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],fw(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],Ga(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Rw(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xw(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=d(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],mw(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],gw(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function Nw(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=d(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=d(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>hw(S))),f(e,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const p=d(t,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Iw(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const s=d(t,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const a=d(t,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=d(t,["promptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["promptTokensDetails"],E)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["cacheTokensDetails"],E)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["responseTokensDetails"],E)}const _=d(t,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>A)),f(e,["toolUsePromptTokensDetails"],E)}const S=d(t,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function Mw(t){const e={},i=d(t,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dw(t,e){const i={},s=d(t,["data"]);if(s!=null&&f(i,["data"],s),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(t,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function Uw(t,e){const i={},s=d(t,["content"]);s!=null&&f(i,["content"],s);const a=d(t,["citationMetadata"]);a!=null&&f(i,["citationMetadata"],kw(a));const l=d(t,["tokenCount"]);l!=null&&f(i,["tokenCount"],l);const c=d(t,["finishReason"]);c!=null&&f(i,["finishReason"],c);const h=d(t,["avgLogprobs"]);h!=null&&f(i,["avgLogprobs"],h);const g=d(t,["groundingMetadata"]);g!=null&&f(i,["groundingMetadata"],g);const p=d(t,["index"]);p!=null&&f(i,["index"],p);const v=d(t,["logprobsResult"]);v!=null&&f(i,["logprobsResult"],v);const _=d(t,["safetyRatings"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(A=>A)),f(i,["safetyRatings"],E)}const S=d(t,["urlContextMetadata"]);return S!=null&&f(i,["urlContextMetadata"],S),i}function kw(t,e){const i={},s=d(t,["citationSources"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["citations"],a)}return i}function Ow(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let c=rn(l);Array.isArray(c)&&(c=c.map(h=>h)),f(s,["contents"],c)}return s}function Pw(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["tokensInfo"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(i,["tokensInfo"],l)}return i}function Lw(t,e){const i={},s=d(t,["values"]);s!=null&&f(i,["values"],s);const a=d(t,["statistics"]);return a!=null&&f(i,["statistics"],qw(a)),i}function qw(t,e){const i={},s=d(t,["truncated"]);s!=null&&f(i,["truncated"],s);const a=d(t,["token_count"]);return a!=null&&f(i,["tokenCount"],a),i}function ja(t,e){const i={},s=d(t,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>YA(c))),f(i,["parts"],l)}const a=d(t,["role"]);return a!=null&&f(i,["role"],a),i}function Gw(t,e){const i={},s=d(t,["controlType"]);s!=null&&f(i,["controlType"],s);const a=d(t,["enableControlImageComputation"]);return a!=null&&f(i,["computeControl"],a),i}function Hw(t,e){const i={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function Bw(t,e,i){const s={},a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],Et(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>rv(g))),f(e,["tools"],h)}const c=d(t,["generationConfig"]);return e!==void 0&&c!=null&&f(e,["generationConfig"],DA(c)),s}function Vw(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let h=rn(l);Array.isArray(h)&&(h=h.map(g=>ja(g))),f(s,["contents"],h)}const c=d(e,["config"]);return c!=null&&Hw(c),s}function zw(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let h=rn(l);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["contents"],h)}const c=d(e,["config"]);return c!=null&&Bw(c,s),s}function $w(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["totalTokens"]);a!=null&&f(i,["totalTokens"],a);const l=d(t,["cachedContentTokenCount"]);return l!=null&&f(i,["cachedContentTokenCount"],l),i}function Fw(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["totalTokens"]);return a!=null&&f(i,["totalTokens"],a),i}function Jw(t,e,i){const s={},a=d(e,["model"]);return a!=null&&f(s,["_url","name"],xe(t,a)),s}function Yw(t,e,i){const s={},a=d(e,["model"]);return a!=null&&f(s,["_url","name"],xe(t,a)),s}function Kw(t,e){const i={},s=d(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function jw(t,e){const i={},s=d(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function Xw(t,e,i){const s={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=d(t,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const h=d(t,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const v=d(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const _=d(t,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=d(t,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const R=d(t,["outputMimeType"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","mimeType"],R);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x);const D=d(t,["addWatermark"]);e!==void 0&&D!=null&&f(e,["parameters","addWatermark"],D);const q=d(t,["labels"]);e!==void 0&&q!=null&&f(e,["labels"],q);const U=d(t,["editMode"]);e!==void 0&&U!=null&&f(e,["parameters","editMode"],U);const V=d(t,["baseSteps"]);return e!==void 0&&V!=null&&f(e,["parameters","editConfig","baseSteps"],V),s}function Qw(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["prompt"]);l!=null&&f(s,["instances[0]","prompt"],l);const c=d(e,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(p=>ZA(p))),f(s,["instances[0]","referenceImages"],g)}const h=d(e,["config"]);return h!=null&&Xw(h,s),s}function Ww(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Xa(c))),f(i,["generatedImages"],l)}return i}function Zw(t,e,i){const s={},a=d(t,["taskType"]);e!==void 0&&a!=null&&f(e,["requests[]","taskType"],a);const l=d(t,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const c=d(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function eA(t,e,i){const s={},a=d(t,["taskType"]);e!==void 0&&a!=null&&f(e,["instances[]","task_type"],a);const l=d(t,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const c=d(t,["outputDimensionality"]);e!==void 0&&c!=null&&f(e,["parameters","outputDimensionality"],c);const h=d(t,["mimeType"]);e!==void 0&&h!=null&&f(e,["instances[]","mimeType"],h);const g=d(t,["autoTruncate"]);return e!==void 0&&g!=null&&f(e,["parameters","autoTruncate"],g),s}function tA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let g=pd(t,l);Array.isArray(g)&&(g=g.map(p=>p)),f(s,["requests[]","content"],g)}const c=d(e,["config"]);c!=null&&Zw(c,s);const h=d(e,["model"]);return h!==void 0&&f(s,["requests[]","model"],xe(t,h)),s}function nA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let h=pd(t,l);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["instances[]","content"],h)}const c=d(e,["config"]);return c!=null&&eA(c,s),s}function iA(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),f(i,["embeddings"],c)}const l=d(t,["metadata"]);return l!=null&&f(i,["metadata"],l),i}function oA(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Lw(h))),f(i,["embeddings"],c)}const l=d(t,["metadata"]);return l!=null&&f(i,["metadata"],l),i}function sA(t,e){const i={},s=d(t,["endpoint"]);s!=null&&f(i,["name"],s);const a=d(t,["deployedModelId"]);return a!=null&&f(i,["deployedModelId"],a),i}function rA(t,e){const i={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["fileUri"]);s!=null&&f(i,["fileUri"],s);const a=d(t,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function aA(t,e){const i={},s=d(t,["id"]);s!=null&&f(i,["id"],s);const a=d(t,["args"]);a!=null&&f(i,["args"],a);const l=d(t,["name"]);if(l!=null&&f(i,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function lA(t,e){const i={},s=d(t,["allowedFunctionNames"]);s!=null&&f(i,["allowedFunctionNames"],s);const a=d(t,["mode"]);if(a!=null&&f(i,["mode"],a),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function uA(t,e){const i={},s=d(t,["description"]);s!=null&&f(i,["description"],s);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["parameters"]);l!=null&&f(i,["parameters"],l);const c=d(t,["parametersJsonSchema"]);c!=null&&f(i,["parametersJsonSchema"],c);const h=d(t,["response"]);h!=null&&f(i,["response"],h);const g=d(t,["responseJsonSchema"]);if(g!=null&&f(i,["responseJsonSchema"],g),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function cA(t,e,i,s){const a={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&f(i,["systemInstruction"],ja(Et(l)));const c=d(e,["temperature"]);c!=null&&f(a,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(a,["topP"],h);const g=d(e,["topK"]);g!=null&&f(a,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&f(a,["candidateCount"],p);const v=d(e,["maxOutputTokens"]);v!=null&&f(a,["maxOutputTokens"],v);const _=d(e,["stopSequences"]);_!=null&&f(a,["stopSequences"],_);const S=d(e,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&f(a,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const R=d(e,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const x=d(e,["seed"]);x!=null&&f(a,["seed"],x);const D=d(e,["responseMimeType"]);D!=null&&f(a,["responseMimeType"],D);const q=d(e,["responseSchema"]);q!=null&&f(a,["responseSchema"],md(q));const U=d(e,["responseJsonSchema"]);if(U!=null&&f(a,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=d(e,["safetySettings"]);if(i!==void 0&&V!=null){let De=V;Array.isArray(De)&&(De=De.map(Ze=>eC(Ze))),f(i,["safetySettings"],De)}const G=d(e,["tools"]);if(i!==void 0&&G!=null){let De=Yo(G);Array.isArray(De)&&(De=De.map(Ze=>aC(Jo(Ze)))),f(i,["tools"],De)}const K=d(e,["toolConfig"]);if(i!==void 0&&K!=null&&f(i,["toolConfig"],rC(K)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=d(e,["cachedContent"]);i!==void 0&&J!=null&&f(i,["cachedContent"],Vn(t,J));const ne=d(e,["responseModalities"]);ne!=null&&f(a,["responseModalities"],ne);const X=d(e,["mediaResolution"]);X!=null&&f(a,["mediaResolution"],X);const re=d(e,["speechConfig"]);if(re!=null&&f(a,["speechConfig"],gd(re)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=d(e,["thinkingConfig"]);ye!=null&&f(a,["thinkingConfig"],ye);const se=d(e,["imageConfig"]);se!=null&&f(a,["imageConfig"],LA(se));const ze=d(e,["enableEnhancedCivicAnswers"]);if(ze!=null&&f(a,["enableEnhancedCivicAnswers"],ze),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function dA(t,e,i,s){const a={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&f(i,["systemInstruction"],Et(l));const c=d(e,["temperature"]);c!=null&&f(a,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(a,["topP"],h);const g=d(e,["topK"]);g!=null&&f(a,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&f(a,["candidateCount"],p);const v=d(e,["maxOutputTokens"]);v!=null&&f(a,["maxOutputTokens"],v);const _=d(e,["stopSequences"]);_!=null&&f(a,["stopSequences"],_);const S=d(e,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const E=d(e,["logprobs"]);E!=null&&f(a,["logprobs"],E);const A=d(e,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const R=d(e,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const x=d(e,["seed"]);x!=null&&f(a,["seed"],x);const D=d(e,["responseMimeType"]);D!=null&&f(a,["responseMimeType"],D);const q=d(e,["responseSchema"]);q!=null&&f(a,["responseSchema"],md(q));const U=d(e,["responseJsonSchema"]);U!=null&&f(a,["responseJsonSchema"],U);const V=d(e,["routingConfig"]);V!=null&&f(a,["routingConfig"],V);const G=d(e,["modelSelectionConfig"]);G!=null&&f(a,["modelConfig"],G);const K=d(e,["safetySettings"]);if(i!==void 0&&K!=null){let te=K;Array.isArray(te)&&(te=te.map(be=>be)),f(i,["safetySettings"],te)}const J=d(e,["tools"]);if(i!==void 0&&J!=null){let te=Yo(J);Array.isArray(te)&&(te=te.map(be=>rv(Jo(be)))),f(i,["tools"],te)}const ne=d(e,["toolConfig"]);i!==void 0&&ne!=null&&f(i,["toolConfig"],ne);const X=d(e,["labels"]);i!==void 0&&X!=null&&f(i,["labels"],X);const re=d(e,["cachedContent"]);i!==void 0&&re!=null&&f(i,["cachedContent"],Vn(t,re));const ye=d(e,["responseModalities"]);ye!=null&&f(a,["responseModalities"],ye);const se=d(e,["mediaResolution"]);se!=null&&f(a,["mediaResolution"],se);const ze=d(e,["speechConfig"]);ze!=null&&f(a,["speechConfig"],gd(ze));const De=d(e,["audioTimestamp"]);De!=null&&f(a,["audioTimestamp"],De);const Ze=d(e,["thinkingConfig"]);Ze!=null&&f(a,["thinkingConfig"],Ze);const H=d(e,["imageConfig"]);if(H!=null&&f(a,["imageConfig"],qA(H)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const j=d(e,["modelArmorConfig"]);return i!==void 0&&j!=null&&f(i,["modelArmorConfig"],j),a}function Wg(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let h=rn(l);Array.isArray(h)&&(h=h.map(g=>ja(g))),f(s,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(s,["generationConfig"],cA(t,c,s)),s}function Zg(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["contents"]);if(l!=null){let h=rn(l);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(s,["generationConfig"],dA(t,c,s)),s}function ey(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>Uw(v))),f(i,["candidates"],p)}const l=d(t,["modelVersion"]);l!=null&&f(i,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(i,["promptFeedback"],c);const h=d(t,["responseId"]);h!=null&&f(i,["responseId"],h);const g=d(t,["usageMetadata"]);return g!=null&&f(i,["usageMetadata"],g),i}function ty(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(_=>_)),f(i,["candidates"],v)}const l=d(t,["createTime"]);l!=null&&f(i,["createTime"],l);const c=d(t,["modelVersion"]);c!=null&&f(i,["modelVersion"],c);const h=d(t,["promptFeedback"]);h!=null&&f(i,["promptFeedback"],h);const g=d(t,["responseId"]);g!=null&&f(i,["responseId"],g);const p=d(t,["usageMetadata"]);return p!=null&&f(i,["usageMetadata"],p),i}function fA(t,e,i){const s={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["guidanceScale"]);if(e!==void 0&&c!=null&&f(e,["parameters","guidanceScale"],c),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const v=d(t,["includeRaiReason"]);e!==void 0&&v!=null&&f(e,["parameters","includeRaiReason"],v);const _=d(t,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const E=d(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(t,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function hA(t,e,i){const s={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=d(t,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const h=d(t,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const v=d(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const _=d(t,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=d(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const A=d(t,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const R=d(t,["outputMimeType"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","mimeType"],R);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x);const D=d(t,["addWatermark"]);e!==void 0&&D!=null&&f(e,["parameters","addWatermark"],D);const q=d(t,["labels"]);e!==void 0&&q!=null&&f(e,["labels"],q);const U=d(t,["imageSize"]);e!==void 0&&U!=null&&f(e,["parameters","sampleImageSize"],U);const V=d(t,["enhancePrompt"]);return e!==void 0&&V!=null&&f(e,["parameters","enhancePrompt"],V),s}function pA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["prompt"]);l!=null&&f(s,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&fA(c,s),s}function mA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["prompt"]);l!=null&&f(s,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&hA(c,s),s}function gA(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>xA(h))),f(i,["generatedImages"],c)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&f(i,["positivePromptSafetyAttributes"],ov(l)),i}function yA(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Xa(h))),f(i,["generatedImages"],c)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&f(i,["positivePromptSafetyAttributes"],sv(l)),i}function vA(t,e,i){const s={},a=d(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=d(t,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const g=d(t,["personGeneration"]);if(e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&f(e,["parameters","negativePrompt"],p);const v=d(t,["enhancePrompt"]);if(e!==void 0&&v!=null&&f(e,["parameters","enhancePrompt"],v),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=d(t,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],Qa(_));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(A=>SC(A))),f(e,["instances[0]","referenceImages"],E)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function _A(t,e,i){const s={},a=d(t,["numberOfVideos"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["fps"]);e!==void 0&&c!=null&&f(e,["parameters","fps"],c);const h=d(t,["durationSeconds"]);e!==void 0&&h!=null&&f(e,["parameters","durationSeconds"],h);const g=d(t,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const v=d(t,["resolution"]);e!==void 0&&v!=null&&f(e,["parameters","resolution"],v);const _=d(t,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const E=d(t,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const A=d(t,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const R=d(t,["generateAudio"]);e!==void 0&&R!=null&&f(e,["parameters","generateAudio"],R);const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&f(e,["instances[0]","lastFrame"],gn(x));const D=d(t,["referenceImages"]);if(e!==void 0&&D!=null){let V=D;Array.isArray(V)&&(V=V.map(G=>TC(G))),f(e,["instances[0]","referenceImages"],V)}const q=d(t,["mask"]);e!==void 0&&q!=null&&f(e,["instances[0]","mask"],_C(q));const U=d(t,["compressionQuality"]);return e!==void 0&&U!=null&&f(e,["parameters","compressionQuality"],U),s}function SA(t,e){const i={},s=d(t,["name"]);s!=null&&f(i,["name"],s);const a=d(t,["metadata"]);a!=null&&f(i,["metadata"],a);const l=d(t,["done"]);l!=null&&f(i,["done"],l);const c=d(t,["error"]);c!=null&&f(i,["error"],c);const h=d(t,["response","generateVideoResponse"]);return h!=null&&f(i,["response"],wA(h)),i}function TA(t,e){const i={},s=d(t,["name"]);s!=null&&f(i,["name"],s);const a=d(t,["metadata"]);a!=null&&f(i,["metadata"],a);const l=d(t,["done"]);l!=null&&f(i,["done"],l);const c=d(t,["error"]);c!=null&&f(i,["error"],c);const h=d(t,["response"]);return h!=null&&f(i,["response"],AA(h)),i}function EA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["prompt"]);l!=null&&f(s,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(s,["instances[0]","image"],Qa(c));const h=d(e,["video"]);h!=null&&f(s,["instances[0]","video"],av(h));const g=d(e,["source"]);g!=null&&CA(g,s);const p=d(e,["config"]);return p!=null&&vA(p,s),s}function bA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["prompt"]);l!=null&&f(s,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(s,["instances[0]","image"],gn(c));const h=d(e,["video"]);h!=null&&f(s,["instances[0]","video"],lv(h));const g=d(e,["source"]);g!=null&&RA(g,s);const p=d(e,["config"]);return p!=null&&_A(p,s),s}function wA(t,e){const i={},s=d(t,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>IA(h))),f(i,["generatedVideos"],c)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(i,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&f(i,["raiMediaFilteredReasons"],l),i}function AA(t,e){const i={},s=d(t,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(h=>MA(h))),f(i,["generatedVideos"],c)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(i,["raiMediaFilteredCount"],a);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&f(i,["raiMediaFilteredReasons"],l),i}function CA(t,e,i){const s={},a=d(t,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Qa(l));const c=d(t,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],av(c)),s}function RA(t,e,i){const s={},a=d(t,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],gn(l));const c=d(t,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],lv(c)),s}function xA(t,e){const i={},s=d(t,["_self"]);s!=null&&f(i,["image"],GA(s));const a=d(t,["raiFilteredReason"]);a!=null&&f(i,["raiFilteredReason"],a);const l=d(t,["_self"]);return l!=null&&f(i,["safetyAttributes"],ov(l)),i}function Xa(t,e){const i={},s=d(t,["_self"]);s!=null&&f(i,["image"],iv(s));const a=d(t,["raiFilteredReason"]);a!=null&&f(i,["raiFilteredReason"],a);const l=d(t,["_self"]);l!=null&&f(i,["safetyAttributes"],sv(l));const c=d(t,["prompt"]);return c!=null&&f(i,["enhancedPrompt"],c),i}function NA(t,e){const i={},s=d(t,["_self"]);s!=null&&f(i,["mask"],iv(s));const a=d(t,["labels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(i,["labels"],l)}return i}function IA(t,e){const i={},s=d(t,["video"]);return s!=null&&f(i,["video"],yC(s)),i}function MA(t,e){const i={},s=d(t,["_self"]);return s!=null&&f(i,["video"],vC(s)),i}function DA(t,e){const i={},s=d(t,["modelSelectionConfig"]);s!=null&&f(i,["modelConfig"],s);const a=d(t,["responseJsonSchema"]);a!=null&&f(i,["responseJsonSchema"],a);const l=d(t,["audioTimestamp"]);l!=null&&f(i,["audioTimestamp"],l);const c=d(t,["candidateCount"]);c!=null&&f(i,["candidateCount"],c);const h=d(t,["enableAffectiveDialog"]);h!=null&&f(i,["enableAffectiveDialog"],h);const g=d(t,["frequencyPenalty"]);g!=null&&f(i,["frequencyPenalty"],g);const p=d(t,["logprobs"]);p!=null&&f(i,["logprobs"],p);const v=d(t,["maxOutputTokens"]);v!=null&&f(i,["maxOutputTokens"],v);const _=d(t,["mediaResolution"]);_!=null&&f(i,["mediaResolution"],_);const S=d(t,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const E=d(t,["responseLogprobs"]);E!=null&&f(i,["responseLogprobs"],E);const A=d(t,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const R=d(t,["responseModalities"]);R!=null&&f(i,["responseModalities"],R);const x=d(t,["responseSchema"]);x!=null&&f(i,["responseSchema"],x);const D=d(t,["routingConfig"]);D!=null&&f(i,["routingConfig"],D);const q=d(t,["seed"]);q!=null&&f(i,["seed"],q);const U=d(t,["speechConfig"]);U!=null&&f(i,["speechConfig"],U);const V=d(t,["stopSequences"]);V!=null&&f(i,["stopSequences"],V);const G=d(t,["temperature"]);G!=null&&f(i,["temperature"],G);const K=d(t,["thinkingConfig"]);K!=null&&f(i,["thinkingConfig"],K);const J=d(t,["topK"]);J!=null&&f(i,["topK"],J);const ne=d(t,["topP"]);if(ne!=null&&f(i,["topP"],ne),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function UA(t,e,i){const s={},a=d(e,["model"]);return a!=null&&f(s,["_url","name"],xe(t,a)),s}function kA(t,e,i){const s={},a=d(e,["model"]);return a!=null&&f(s,["_url","name"],xe(t,a)),s}function OA(t,e){const i={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(t,["enableWidget"]);return s!=null&&f(i,["enableWidget"],s),i}function PA(t,e){const i={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(t,["timeRangeFilter"]);return s!=null&&f(i,["timeRangeFilter"],s),i}function LA(t,e){const i={},s=d(t,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const a=d(t,["imageSize"]);if(a!=null&&f(i,["imageSize"],a),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function qA(t,e){const i={},s=d(t,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const a=d(t,["imageSize"]);a!=null&&f(i,["imageSize"],a);const l=d(t,["personGeneration"]);l!=null&&f(i,["personGeneration"],l);const c=d(t,["outputMimeType"]);c!=null&&f(i,["imageOutputOptions","mimeType"],c);const h=d(t,["outputCompressionQuality"]);return h!=null&&f(i,["imageOutputOptions","compressionQuality"],h),i}function GA(t,e){const i={},s=d(t,["bytesBase64Encoded"]);s!=null&&f(i,["imageBytes"],yi(s));const a=d(t,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function iv(t,e){const i={},s=d(t,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const a=d(t,["bytesBase64Encoded"]);a!=null&&f(i,["imageBytes"],yi(a));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function Qa(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(t,["imageBytes"]);s!=null&&f(i,["bytesBase64Encoded"],yi(s));const a=d(t,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function gn(t,e){const i={},s=d(t,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const a=d(t,["imageBytes"]);a!=null&&f(i,["bytesBase64Encoded"],yi(a));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function HA(t,e,i,s){const a={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&f(i,["_query","pageSize"],l);const c=d(e,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=d(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=d(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],Xy(t,g)),a}function BA(t,e,i,s){const a={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&f(i,["_query","pageSize"],l);const c=d(e,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=d(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=d(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],Xy(t,g)),a}function VA(t,e,i){const s={},a=d(e,["config"]);return a!=null&&HA(t,a,s),s}function zA(t,e,i){const s={},a=d(e,["config"]);return a!=null&&BA(t,a,s),s}function $A(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["_self"]);if(l!=null){let c=Qy(l);Array.isArray(c)&&(c=c.map(h=>Fc(h))),f(i,["models"],c)}return i}function FA(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["_self"]);if(l!=null){let c=Qy(l);Array.isArray(c)&&(c=c.map(h=>Jc(h))),f(i,["models"],c)}return i}function JA(t,e){const i={},s=d(t,["maskMode"]);s!=null&&f(i,["maskMode"],s);const a=d(t,["segmentationClasses"]);a!=null&&f(i,["maskClasses"],a);const l=d(t,["maskDilation"]);return l!=null&&f(i,["dilation"],l),i}function Fc(t,e){const i={},s=d(t,["name"]);s!=null&&f(i,["name"],s);const a=d(t,["displayName"]);a!=null&&f(i,["displayName"],a);const l=d(t,["description"]);l!=null&&f(i,["description"],l);const c=d(t,["version"]);c!=null&&f(i,["version"],c);const h=d(t,["_self"]);h!=null&&f(i,["tunedModelInfo"],lC(h));const g=d(t,["inputTokenLimit"]);g!=null&&f(i,["inputTokenLimit"],g);const p=d(t,["outputTokenLimit"]);p!=null&&f(i,["outputTokenLimit"],p);const v=d(t,["supportedGenerationMethods"]);v!=null&&f(i,["supportedActions"],v);const _=d(t,["temperature"]);_!=null&&f(i,["temperature"],_);const S=d(t,["maxTemperature"]);S!=null&&f(i,["maxTemperature"],S);const E=d(t,["topP"]);E!=null&&f(i,["topP"],E);const A=d(t,["topK"]);A!=null&&f(i,["topK"],A);const R=d(t,["thinking"]);return R!=null&&f(i,["thinking"],R),i}function Jc(t,e){const i={},s=d(t,["name"]);s!=null&&f(i,["name"],s);const a=d(t,["displayName"]);a!=null&&f(i,["displayName"],a);const l=d(t,["description"]);l!=null&&f(i,["description"],l);const c=d(t,["versionId"]);c!=null&&f(i,["version"],c);const h=d(t,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>sA(E))),f(i,["endpoints"],S)}const g=d(t,["labels"]);g!=null&&f(i,["labels"],g);const p=d(t,["_self"]);p!=null&&f(i,["tunedModelInfo"],uC(p));const v=d(t,["defaultCheckpointId"]);v!=null&&f(i,["defaultCheckpointId"],v);const _=d(t,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>E)),f(i,["checkpoints"],S)}return i}function YA(t,e){const i={},s=d(t,["mediaResolution"]);s!=null&&f(i,["mediaResolution"],s);const a=d(t,["codeExecutionResult"]);a!=null&&f(i,["codeExecutionResult"],a);const l=d(t,["executableCode"]);l!=null&&f(i,["executableCode"],l);const c=d(t,["fileData"]);c!=null&&f(i,["fileData"],rA(c));const h=d(t,["functionCall"]);h!=null&&f(i,["functionCall"],aA(h));const g=d(t,["functionResponse"]);g!=null&&f(i,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&f(i,["inlineData"],Dw(p));const v=d(t,["text"]);v!=null&&f(i,["text"],v);const _=d(t,["thought"]);_!=null&&f(i,["thought"],_);const S=d(t,["thoughtSignature"]);S!=null&&f(i,["thoughtSignature"],S);const E=d(t,["videoMetadata"]);return E!=null&&f(i,["videoMetadata"],E),i}function KA(t,e){const i={},s=d(t,["productImage"]);return s!=null&&f(i,["image"],gn(s)),i}function jA(t,e,i){const s={},a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const l=d(t,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const c=d(t,["outputGcsUri"]);e!==void 0&&c!=null&&f(e,["parameters","storageUri"],c);const h=d(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const v=d(t,["addWatermark"]);e!==void 0&&v!=null&&f(e,["parameters","addWatermark"],v);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const E=d(t,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const A=d(t,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),s}function XA(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["source"]);l!=null&&WA(l,s);const c=d(e,["config"]);return c!=null&&jA(c,s),s}function QA(t,e){const i={},s=d(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>Xa(l))),f(i,["generatedImages"],a)}return i}function WA(t,e,i){const s={},a=d(t,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const l=d(t,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],gn(l));const c=d(t,["productImages"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>KA(g))),f(e,["instances[0]","productImages"],h)}return s}function ZA(t,e){const i={},s=d(t,["referenceImage"]);s!=null&&f(i,["referenceImage"],gn(s));const a=d(t,["referenceId"]);a!=null&&f(i,["referenceId"],a);const l=d(t,["referenceType"]);l!=null&&f(i,["referenceType"],l);const c=d(t,["maskImageConfig"]);c!=null&&f(i,["maskImageConfig"],JA(c));const h=d(t,["controlImageConfig"]);h!=null&&f(i,["controlImageConfig"],Gw(h));const g=d(t,["styleImageConfig"]);g!=null&&f(i,["styleImageConfig"],g);const p=d(t,["subjectImageConfig"]);return p!=null&&f(i,["subjectImageConfig"],p),i}function ov(t,e){const i={},s=d(t,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const a=d(t,["safetyAttributes","scores"]);a!=null&&f(i,["scores"],a);const l=d(t,["contentType"]);return l!=null&&f(i,["contentType"],l),i}function sv(t,e){const i={},s=d(t,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const a=d(t,["safetyAttributes","scores"]);a!=null&&f(i,["scores"],a);const l=d(t,["contentType"]);return l!=null&&f(i,["contentType"],l),i}function eC(t,e){const i={},s=d(t,["category"]);if(s!=null&&f(i,["category"],s),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(t,["threshold"]);return a!=null&&f(i,["threshold"],a),i}function tC(t,e){const i={},s=d(t,["image"]);return s!=null&&f(i,["image"],gn(s)),i}function nC(t,e,i){const s={},a=d(t,["mode"]);e!==void 0&&a!=null&&f(e,["parameters","mode"],a);const l=d(t,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const c=d(t,["confidenceThreshold"]);e!==void 0&&c!=null&&f(e,["parameters","confidenceThreshold"],c);const h=d(t,["maskDilation"]);e!==void 0&&h!=null&&f(e,["parameters","maskDilation"],h);const g=d(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&f(e,["parameters","binaryColorThreshold"],g);const p=d(t,["labels"]);return e!==void 0&&p!=null&&f(e,["labels"],p),s}function iC(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["source"]);l!=null&&sC(l,s);const c=d(e,["config"]);return c!=null&&nC(c,s),s}function oC(t,e){const i={},s=d(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>NA(l))),f(i,["generatedMasks"],a)}return i}function sC(t,e,i){const s={},a=d(t,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],gn(l));const c=d(t,["scribbleImage"]);return e!==void 0&&c!=null&&f(e,["instances[0]","scribble"],tC(c)),s}function rC(t,e){const i={},s=d(t,["retrievalConfig"]);s!=null&&f(i,["retrievalConfig"],s);const a=d(t,["functionCallingConfig"]);return a!=null&&f(i,["functionCallingConfig"],lA(a)),i}function aC(t,e){const i={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["computerUse"]);s!=null&&f(i,["computerUse"],s);const a=d(t,["fileSearch"]);a!=null&&f(i,["fileSearch"],a);const l=d(t,["codeExecution"]);if(l!=null&&f(i,["codeExecution"],l),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=d(t,["functionDeclarations"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>S)),f(i,["functionDeclarations"],_)}const h=d(t,["googleMaps"]);h!=null&&f(i,["googleMaps"],OA(h));const g=d(t,["googleSearch"]);g!=null&&f(i,["googleSearch"],PA(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(i,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(i,["urlContext"],v),i}function rv(t,e){const i={},s=d(t,["retrieval"]);s!=null&&f(i,["retrieval"],s);const a=d(t,["computerUse"]);if(a!=null&&f(i,["computerUse"],a),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=d(t,["codeExecution"]);l!=null&&f(i,["codeExecution"],l);const c=d(t,["enterpriseWebSearch"]);c!=null&&f(i,["enterpriseWebSearch"],c);const h=d(t,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>uA(E))),f(i,["functionDeclarations"],S)}const g=d(t,["googleMaps"]);g!=null&&f(i,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&f(i,["googleSearch"],p);const v=d(t,["googleSearchRetrieval"]);v!=null&&f(i,["googleSearchRetrieval"],v);const _=d(t,["urlContext"]);return _!=null&&f(i,["urlContext"],_),i}function lC(t,e){const i={},s=d(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=d(t,["createTime"]);a!=null&&f(i,["createTime"],a);const l=d(t,["updateTime"]);return l!=null&&f(i,["updateTime"],l),i}function uC(t,e){const i={},s=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(i,["baseModel"],s);const a=d(t,["createTime"]);a!=null&&f(i,["createTime"],a);const l=d(t,["updateTime"]);return l!=null&&f(i,["updateTime"],l),i}function cC(t,e,i){const s={},a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=d(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),s}function dC(t,e,i){const s={},a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=d(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),s}function fC(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","name"],xe(t,a));const l=d(e,["config"]);return l!=null&&cC(l,s),s}function hC(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["config"]);return l!=null&&dC(l,s),s}function pC(t,e,i){const s={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const l=d(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);const v=d(t,["enhanceInputImage"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],v);const _=d(t,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=d(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=d(t,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const A=d(t,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),s}function mC(t,e,i){const s={},a=d(e,["model"]);a!=null&&f(s,["_url","model"],xe(t,a));const l=d(e,["image"]);l!=null&&f(s,["instances[0]","image"],gn(l));const c=d(e,["upscaleFactor"]);c!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],c);const h=d(e,["config"]);return h!=null&&pC(h,s),s}function gC(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Xa(c))),f(i,["generatedImages"],l)}return i}function yC(t,e){const i={},s=d(t,["uri"]);s!=null&&f(i,["uri"],s);const a=d(t,["encodedVideo"]);a!=null&&f(i,["videoBytes"],yi(a));const l=d(t,["encoding"]);return l!=null&&f(i,["mimeType"],l),i}function vC(t,e){const i={},s=d(t,["gcsUri"]);s!=null&&f(i,["uri"],s);const a=d(t,["bytesBase64Encoded"]);a!=null&&f(i,["videoBytes"],yi(a));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function _C(t,e){const i={},s=d(t,["image"]);s!=null&&f(i,["_self"],gn(s));const a=d(t,["maskMode"]);return a!=null&&f(i,["maskMode"],a),i}function SC(t,e){const i={},s=d(t,["image"]);s!=null&&f(i,["image"],Qa(s));const a=d(t,["referenceType"]);return a!=null&&f(i,["referenceType"],a),i}function TC(t,e){const i={},s=d(t,["image"]);s!=null&&f(i,["image"],gn(s));const a=d(t,["referenceType"]);return a!=null&&f(i,["referenceType"],a),i}function av(t,e){const i={},s=d(t,["uri"]);s!=null&&f(i,["uri"],s);const a=d(t,["videoBytes"]);a!=null&&f(i,["encodedVideo"],yi(a));const l=d(t,["mimeType"]);return l!=null&&f(i,["encoding"],l),i}function lv(t,e){const i={},s=d(t,["uri"]);s!=null&&f(i,["gcsUri"],s);const a=d(t,["videoBytes"]);a!=null&&f(i,["bytesBase64Encoded"],yi(a));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EC(t,e){const i={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),i}function bC(t){const e={},i=d(t,["config"]);return i!=null&&EC(i,e),e}function wC(t,e){const i={},s=d(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function AC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=d(t,["config"]);return s!=null&&wC(s,e),e}function CC(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function RC(t,e){const i={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const a=d(t,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function xC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=d(t,["done"]);a!=null&&f(e,["done"],a);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],IC(c)),e}function NC(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=d(t,["fileName"]);s!=null&&f(e,["fileName"],s);const a=d(t,["config"]);return a!=null&&RC(a,e),e}function IC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const a=d(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function MC(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function DC(t){const e={},i=d(t,["config"]);return i!=null&&MC(i,e),e}function UC(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function uv(t,e){const i={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function kC(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=d(t,["config"]);return s!=null&&uv(s,e),e}function OC(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PC="Content-Type",LC="X-Server-Timeout",qC="User-Agent",Yc="x-goog-api-client",GC="1.40.0",HC=`google-genai-sdk/${GC}`,BC="v1beta1",VC="v1beta";class zC{constructor(e){var i,s,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:BC}else{if(!this.clientOptions.apiKey)throw new Zs({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:VC,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Bc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))a.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(i))typeof l=="object"?s[a]=Object.assign(Object.assign({},s[a]),l):l!==void 0&&(s[a]=l);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,a){if(i&&i.timeout||a){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&$C(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await ny(a),new Vc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await ny(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return pn(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:v}=yield fe(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=l.decode(v,{stream:!0});try{const A=JSON.parse(_);if("error"in A){const R=JSON.parse(JSON.stringify(A.error)),x=R.status,D=R.code,q=`got status: ${x}. ${JSON.stringify(A)}`;if(D>=400&&D<600)throw new Zs({message:q,status:D})}}catch(A){if(A.name==="ApiError")throw A}c+=_;let S=-1,E=0;for(;;){S=-1,E=0;for(const x of g){const D=c.indexOf(x);D!==-1&&(S===-1||D<S)&&(S=D,E=x.length)}if(S===-1)break;const A=c.substring(0,S);c=c.substring(S+E);const R=A.trim();if(R.startsWith(h)){const x=R.substring(h.length).trim();try{const D=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new Vc(D))}catch(D){throw new Error(`exception parsing stream chunk ${x}. ${D}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=HC+" "+this.clientOptions.userAgentExtra;return e[qC]=i,e[Yc]=i,e[PC]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))s.append(a,l);e.timeout&&e.timeout>0&&s.append(LC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const h=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},p=this.getFileName(e),v=W("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,p,g,i==null?void 0:i.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,s){var a;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),g=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),_={};s!=null&&uv(s,_);const S=await this.fetchUploadUrl(p,h,g,v,_,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,a,l,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ny(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new Zs({message:a,status:i}):new Error(a)}}function $C(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const h=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const a=s(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC="mcp_used/unknown";let JC=!1;function cv(t){for(const e of t)if(YC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return JC}function dv(t){var e;const i=(e=t[Yc])!==null&&e!==void 0?e:"";t[Yc]=(i+` ${FC}`).trimStart()}function YC(t){return t!==null&&typeof t=="object"&&t instanceof vd}function KC(t){return pn(this,arguments,function*(i,s=100){let a,l=0;for(;l<s;){const c=yield fe(i.listTools({cursor:a}));for(const h of c.tools)yield yield fe(h),l++;if(!c.nextCursor)break;a=c.nextCursor}})}class vd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new vd(e,i)}async initialize(){var e,i,s,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(i=void 0,mn(KC(v))),p;p=await g.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const _=a;c.push(_);const S=_.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=v}}catch(_){i={error:_}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),bE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:s.name,arguments:s.args},void 0,l);i.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jC(t,e,i){const s=new mE;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),e(s)}class XC{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=ZC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(U=>{p=U}),_=e.callbacks,S=function(){p({})},E=this.apiClient,A={onopen:S,onmessage:U=>{jC(E,_.onmessage,U)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(U){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(U){}},R=this.webSocketFactory.create(g,WC(c),A);R.connect(),await v;const q={setup:{model:xe(this.apiClient,e.model)}};return R.send(JSON.stringify(q)),new QC(R,this.apiClient)}}class QC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Ew(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Tw(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Ho.PLAY)}pause(){this.sendPlaybackControl(Ho.PAUSE)}stop(){this.sendPlaybackControl(Ho.STOP)}resetContext(){this.sendPlaybackControl(Ho.RESET_CONTEXT)}close(){this.conn.close()}}function WC(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function ZC(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tR(t,e,i){const s=new pE;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const l=JSON.parse(a);if(t.isVertexAI()){const c=Aw(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class nR{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new XC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,a,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&cv(e.config.tools)&&dv(_);const S=rR(_);if(this.apiClient.isVertexAI()){const X=this.apiClient.getProject(),re=this.apiClient.getLocation(),ye=this.apiClient.getApiKey(),se=!!X&&!!re||!!ye;this.apiClient.getCustomBaseUrl()&&!se?v=g:(v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const X=this.apiClient.getApiKey();let re="BidiGenerateContent",ye="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",ye="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${re}?${ye}=${X}`}let E=()=>{};const A=new Promise(X=>{E=X}),R=e.callbacks,x=function(){var X;(X=R==null?void 0:R.onopen)===null||X===void 0||X.call(R),E({})},D=this.apiClient,q={onopen:x,onmessage:X=>{tR(D,R.onmessage,X)},onerror:(i=R==null?void 0:R.onerror)!==null&&i!==void 0?i:function(X){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(X){}},U=this.webSocketFactory.create(v,sR(S),q);U.connect(),await A;let V=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const X=this.apiClient.getProject(),re=this.apiClient.getLocation();X&&re&&(V=`projects/${X}/locations/${re}/`+V)}let G={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ha.AUDIO]}:e.config.responseModalities=[Ha.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],J=[];for(const X of K)if(this.isCallableTool(X)){const re=X;J.push(await re.tool())}else J.push(X);J.length>0&&(e.config.tools=J);const ne={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=Sw(this.apiClient,ne):G=_w(this.apiClient,ne),delete G.config,U.send(JSON.stringify(G)),new oR(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const iR={turnComplete:!0};class oR{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=rn(i.turns),e.isVertexAI()||(s=s.map(a=>ja(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(eR)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},iR),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:ww(e)}:i={realtimeInput:bw(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function sR(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function rR(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iy=10;function oy(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if($o(c)){a=!0;break}if(!a)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function $o(t){return"callTool"in t&&typeof t.callTool=="function"}function aR(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>$o(a)))!==null&&s!==void 0?s:!1}function sy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if($o(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(a)}),i}function ry(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lR extends Bn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,a,l,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!aR(i)||oy(i.config))return await this.generateContentInternal(g);const p=sy(i);if(p.length>0){const R=p.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let v,_;const S=rn(g.contents),E=(l=(a=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:iy;let A=0;for(;A<E&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,x=[];for(const D of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if($o(D)){const U=await D.callTool(v.functionCalls);x.push(...U)}A++,_={role:"user",parts:x},g.contents=rn(g.contents),g.contents.push(R),g.contents.push(_),ry(g.config)&&(S.push(R),S.push(_))}return ry(g.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async i=>{var s,a,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),oy(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const g=sy(i);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let l;const c=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async i=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new $i(Hn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,l,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,a;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>$o(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&cv(e.config.tools)){const g=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),dv(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var i,s,a;const l=new Map;for(const c of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if($o(c)){const h=c,g=await h.tool();for(const p of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,h)}}return l}async processAfcStream(e){var i,s,a;const l=(a=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:iy;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,_){return pn(this,arguments,function*(){for(var S,E,A,R,x,D;h<l;){c&&(h++,c=!1);const G=yield fe(p.processParamsMaybeAddMcpUsage(_)),K=yield fe(p.generateContentStreamInternal(G)),J=[],ne=[];try{for(var q=!0,U=(E=void 0,mn(K)),V;V=yield fe(U.next()),S=V.done,!S;q=!0){R=V.value,q=!1;const X=R;if(yield yield fe(X),X.candidates&&(!((x=X.candidates[0])===null||x===void 0)&&x.content)){ne.push(X.candidates[0].content);for(const re of(D=X.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(h<l&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(re.functionCall.name)){const ye=yield fe(v.get(re.functionCall.name).callTool([re.functionCall]));J.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(X){E={error:X}}finally{try{!q&&!S&&(A=U.return)&&(yield fe(A.call(U)))}finally{if(E)throw E.error}}if(J.length>0){c=!0;const X=new Js;X.candidates=[{content:{role:"user",parts:J}}],yield yield fe(X);const re=[];re.push(...ne),re.push({role:"user",parts:J});const ye=rn(_.contents).concat(re);_.contents=ye}else break}})})(this,g,e)}async generateContentInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Zg(this.apiClient,e);return h=W("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=ty(v),S=new Js;return Object.assign(S,_),S})}else{const p=Wg(this.apiClient,e);return h=W("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=ey(v),S=new Js;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Zg(this.apiClient,e);return h=W("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(_){return pn(this,arguments,function*(){var S,E,A,R;try{for(var x=!0,D=mn(_),q;q=yield fe(D.next()),S=q.done,!S;x=!0){R=q.value,x=!1;const U=R,V=ty(yield fe(U.json()),e);V.sdkHttpResponse={headers:U.headers};const G=new Js;Object.assign(G,V),yield yield fe(G)}}catch(U){E={error:U}}finally{try{!x&&!S&&(A=D.return)&&(yield fe(A.call(D)))}finally{if(E)throw E.error}}})})}else{const p=Wg(this.apiClient,e);return h=W("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return pn(this,arguments,function*(){var S,E,A,R;try{for(var x=!0,D=mn(_),q;q=yield fe(D.next()),S=q.done,!S;x=!0){R=q.value,x=!1;const U=R,V=ey(yield fe(U.json()),e);V.sdkHttpResponse={headers:U.headers};const G=new Js;Object.assign(G,V),yield yield fe(G)}}catch(U){E={error:U}}finally{try{!x&&!S&&(A=D.return)&&(yield fe(A.call(D)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=nA(this.apiClient,e);return h=W("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=oA(v),S=new Og;return Object.assign(S,_),S})}else{const p=tA(this.apiClient,e);return h=W("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=iA(v),S=new Og;return Object.assign(S,_),S})}}async generateImagesInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=mA(this.apiClient,e);return h=W("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=yA(v),S=new Pg;return Object.assign(S,_),S})}else{const p=pA(this.apiClient,e);return h=W("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=gA(v),S=new Pg;return Object.assign(S,_),S})}}async editImageInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Qw(this.apiClient,e);return l=W("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=Ww(g),v=new nE;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=mC(this.apiClient,e);return l=W("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=gC(g),v=new iE;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=XA(this.apiClient,e);return l=W("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=QA(g),v=new oE;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=iC(this.apiClient,e);return l=W("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=oC(g),v=new sE;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=kA(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Jc(v))}else{const p=UA(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Fc(v))}}async listInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=zA(this.apiClient,e);return h=W("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=FA(v),S=new Lg;return Object.assign(S,_),S})}else{const p=VA(this.apiClient,e);return h=W("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=$A(v),S=new Lg;return Object.assign(S,_),S})}}async update(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=hC(this.apiClient,e);return h=W("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Jc(v))}else{const p=fC(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Fc(v))}}async delete(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Yw(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=jw(v),S=new qg;return Object.assign(S,_),S})}else{const p=Jw(this.apiClient,e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Kw(v),S=new qg;return Object.assign(S,_),S})}}async countTokens(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=zw(this.apiClient,e);return h=W("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Fw(v),S=new Gg;return Object.assign(S,_),S})}else{const p=Vw(this.apiClient,e);return h=W("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=$w(v),S=new Gg;return Object.assign(S,_),S})}}async computeTokens(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Ow(this.apiClient,e);return l=W("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=Pw(g),v=new rE;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=bA(this.apiClient,e);return h=W("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const _=TA(v),S=new Ba;return Object.assign(S,_),S})}else{const p=EA(this.apiClient,e);return h=W("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const _=SA(v),S=new Ba;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR extends Bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=XT(e);return h=W("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const p=jT(e);return h=W("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=VT(e);return l=W("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function dR(t){const e={},i=d(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>SR(l))),f(e,["parts"],a)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function fR(t,e,i){const s={},a=d(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],_R(t,h));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),s}function hR(t,e){const i={},s=d(e,["config"]);return s!=null&&f(i,["config"],fR(t,s,i)),i}function pR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function mR(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const a=d(t,["name"]);if(a!=null&&f(e,["name"],a),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function yR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function vR(t,e){const i={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=d(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=d(t,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],yd(_));const S=d(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const E=d(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],dR(Et(A)));const R=d(t,["tools"]);if(e!==void 0&&R!=null){let K=Yo(R);Array.isArray(K)&&(K=K.map(J=>ER(Jo(J)))),f(e,["setup","tools"],K)}const x=d(t,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],TR(x));const D=d(t,["inputAudioTranscription"]);e!==void 0&&D!=null&&f(e,["setup","inputAudioTranscription"],D);const q=d(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const V=d(t,["contextWindowCompression"]);e!==void 0&&V!=null&&f(e,["setup","contextWindowCompression"],V);const G=d(t,["proactivity"]);if(e!==void 0&&G!=null&&f(e,["setup","proactivity"],G),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function _R(t,e){const i={},s=d(e,["model"]);s!=null&&f(i,["setup","model"],xe(t,s));const a=d(e,["config"]);return a!=null&&f(i,["config"],vR(a,i)),i}function SR(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=d(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],pR(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],mR(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],cR(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const _=d(t,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=d(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function TR(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ER(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=d(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=d(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],gR(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],yR(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bR(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(l=>`${i}.${l}`);e.push(...a)}else e.push(i)}return e.join(",")}function wR(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const l=bR(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];l&&g.push(l),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class AR extends Bn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=hR(this.apiClient,e);l=W("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=wR(h,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CR(t,e){const i={},s=d(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function RR(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=d(t,["config"]);return s!=null&&CR(s,e),e}function xR(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function NR(t,e){const i={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=d(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function IR(t){const e={},i=d(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const s=d(t,["config"]);return s!=null&&NR(s,e),e}function MR(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=d(t,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DR extends Bn{constructor(e){super(),this.apiClient=e,this.list=async i=>new $i(Hn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xR(e);return l=W("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=RR(e);a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=IR(e);return l=W("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=MR(g),v=new aE;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UR extends Bn{constructor(e,i=new DR(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new $i(Hn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bC(e);return l=W("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CC(e);return l=W("{name}",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=AC(e);a=W("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DC(e);return l=W("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=UC(g),v=new lE;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kC(e);return l=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=OC(g),v=new uE;return Object.assign(v,p),v})}}async importFile(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=NC(e);return l=W("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const p=xC(g),v=new fd;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return fv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const kR=()=>fv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kc(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const jc=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class an extends Error{}class Rt extends an{constructor(e,i,s,a){super(`${Rt.makeMessage(e,i,s)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,s,a){if(!e||!a)return new Wa({message:s,cause:jc(i)});const l=i;return e===400?new pv(e,l,s,a):e===401?new mv(e,l,s,a):e===403?new gv(e,l,s,a):e===404?new yv(e,l,s,a):e===409?new vv(e,l,s,a):e===422?new _v(e,l,s,a):e===429?new Sv(e,l,s,a):e>=500?new Tv(e,l,s,a):new Rt(e,l,s,a)}}class Xc extends Rt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Wa extends Rt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class hv extends Wa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class pv extends Rt{}class mv extends Rt{}class gv extends Rt{}class yv extends Rt{}class vv extends Rt{}class _v extends Rt{}class Sv extends Rt{}class Tv extends Rt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OR=/^[a-z][a-z0-9+.-]*:/i,PR=t=>OR.test(t);let Qc=t=>(Qc=Array.isArray,Qc(t));const LR=Qc;let qR=LR;const ay=qR;function GR(t){if(!t)return!0;for(const e in t)return!1;return!0}function HR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const BR=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new an(`${t} must be an integer`);if(e<0)throw new an(`${t} must be a positive integer`);return e},VR=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Po="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $R(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const FR=()=>{var t,e,i,s,a;const l=$R();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":uy(Deno.build.os),"X-Stainless-Arch":ly(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":uy((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":ly((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=JR();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JR(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:e,version:`${a}.${l}.${c}`}}}return null}const ly=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",uy=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ca;const YR=()=>Ca??(Ca=FR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ev(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function jR(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ev({start(){},async pull(i){const{done:s,value:a}=await e.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function bv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XR(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QR=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rc(t,e,i){return wv(),new File(t,e??"unknown_file",i)}function WR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ZR=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Av=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ex=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Av(t),tx=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function nx(t,e,i){if(wv(),t=await t,ex(t))return t instanceof File?t:Rc([await t.arrayBuffer()],t.name);if(tx(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Rc(await Wc(a),e,i)}const s=await Wc(t);if(e||(e=WR(t)),!(i!=null&&i.type)){const a=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Rc(s,e,i)}async function Wc(t){var e,i,s,a,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Av(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(ZR(t))try{for(var h=!0,g=mn(t),p;p=await g.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const v=a;c.push(...await Wc(v))}}catch(v){i={error:v}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${ix(t)}`)}return c}function ix(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cv{constructor(e){this._client=e}}Cv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cy=Object.freeze(Object.create(null)),ox=(t=Rv)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const l=[],c=i.reduce((v,_,S)=>{var E,A,R;/[?#]/.test(_)&&(a=!0);const x=s[S];let D=(a?encodeURIComponent:t)(""+x);return S!==s.length&&(x==null||typeof x=="object"&&x.toString===((R=Object.getPrototypeOf((A=Object.getPrototypeOf((E=x.hasOwnProperty)!==null&&E!==void 0?E:cy))!==null&&A!==void 0?A:cy))===null||R===void 0?void 0:R.toString))&&(D=x+"",l.push({start:v.length+_.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),v+_+(S===s.length?"":D)},""),h=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=g.exec(h))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((v,_)=>v.start-_.start),l.length>0){let v=0;const _=l.reduce((S,E)=>{const A=" ".repeat(E.start-v),R="^".repeat(E.length);return v=E.start+E.length,S+A+R},"");throw new an(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${c}
${_}`)}return c}),Ra=ox(Rv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xv extends Cv{create(e,i){var s;const{api_version:a=this._client.apiVersion}=e,l=za(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new an("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new an("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ra`/${a}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Ra`/${a}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Ra`/${a}/interactions/${e}/cancel`,s)}get(e,i={},s){var a;const l=i??{},{api_version:c=this._client.apiVersion}=l,h=za(l,["api_version"]);return this._client.get(Ra`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}xv._key=Object.freeze(["interactions"]);class Nv extends xv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sx(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let s=0;for(const a of t)i.set(a,s),s+=a.length;return i}let xa;function _d(t){let e;return(xa??(e=new globalThis.TextEncoder,xa=e.encode.bind(e)))(t)}let Na;function dy(t){let e;return(Na??(e=new globalThis.TextDecoder,Na=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?_d(e):e;this.buffer=sx([this.buffer,i]);const s=[];let a;for(;(a=rx(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(dy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=dy(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Za.NEWLINE_CHARS=new Set([`
`,"\r"]);Za.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rx(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function ax(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $a={off:0,error:200,warn:300,info:400,debug:500},fy=(t,e,i)=>{if(t){if(HR($a,t))return t;Ct(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($a))}`)}};function js(){}function Ia(t,e,i){return!e||$a[t]>$a[i]?js:e[t].bind(e)}const lx={error:js,warn:js,info:js,debug:js};let hy=new WeakMap;function Ct(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return lx;const a=hy.get(i);if(a&&a[0]===s)return a[1];const l={error:Ia("error",i,s),warn:Ia("warn",i,s),info:Ia("info",i,s),debug:Ia("debug",i,s)};return hy.set(i,[s,l]),l}const Gi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bo{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let a=!1;const l=s?Ct(s):console;function c(){return pn(this,arguments,function*(){var g,p,v,_;if(a)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var E=!0,A=mn(ux(e,i)),R;R=yield fe(A.next()),g=R.done,!g;E=!0){_=R.value,E=!1;const x=_;if(!S)if(x.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield fe(JSON.parse(x.data))}catch(D){throw l.error("Could not parse message into JSON:",x.data),l.error("From chunk:",x.raw),D}}}catch(x){p={error:x}}finally{try{!E&&!g&&(v=A.return)&&(yield fe(v.call(A)))}finally{if(p)throw p.error}}S=!0}catch(x){if(Kc(x))return yield fe(void 0);throw x}finally{S||i.abort()}})}return new Bo(c,i,s)}static fromReadableStream(e,i,s){let a=!1;function l(){return pn(this,arguments,function*(){var g,p,v,_;const S=new Za,E=bv(e);try{for(var A=!0,R=mn(E),x;x=yield fe(R.next()),g=x.done,!g;A=!0){_=x.value,A=!1;const D=_;for(const q of S.decode(D))yield yield fe(q)}}catch(D){p={error:D}}finally{try{!A&&!g&&(v=R.return)&&(yield fe(v.call(R)))}finally{if(p)throw p.error}}for(const D of S.flush())yield yield fe(D)})}function c(){return pn(this,arguments,function*(){var g,p,v,_;if(a)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var E=!0,A=mn(l()),R;R=yield fe(A.next()),g=R.done,!g;E=!0){_=R.value,E=!1;const x=_;S||x&&(yield yield fe(JSON.parse(x)))}}catch(x){p={error:x}}finally{try{!E&&!g&&(v=A.return)&&(yield fe(v.call(A)))}finally{if(p)throw p.error}}S=!0}catch(x){if(Kc(x))return yield fe(void 0);throw x}finally{S||i.abort()}})}return new Bo(c,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),a=l=>({next:()=>{if(l.length===0){const c=s.next();e.push(c),i.push(c)}return l.shift()}});return[new Bo(()=>a(e),this.controller,this.client),new Bo(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Ev({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:l}=await i.next();if(l)return s.close();const c=_d(JSON.stringify(a)+`
`);s.enqueue(c)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function ux(t,e){return pn(this,arguments,function*(){var s,a,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new an("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new an("Attempted to iterate over a response with no body");const h=new dx,g=new Za,p=bv(t.body);try{for(var v=!0,_=mn(cx(p)),S;S=yield fe(_.next()),s=S.done,!s;v=!0){c=S.value,v=!1;const E=c;for(const A of g.decode(E)){const R=h.decode(A);R&&(yield yield fe(R))}}}catch(E){a={error:E}}finally{try{!v&&!s&&(l=_.return)&&(yield fe(l.call(_)))}finally{if(a)throw a.error}}for(const E of g.flush()){const A=h.decode(E);A&&(yield yield fe(A))}})}function cx(t){return pn(this,arguments,function*(){var i,s,a,l;let c=new Uint8Array;try{for(var h=!0,g=mn(t),p;p=yield fe(g.next()),i=p.done,!i;h=!0){l=p.value,h=!1;const v=l;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?_d(v):v;let S=new Uint8Array(c.length+_.length);S.set(c),S.set(_,c.length),c=S;let E;for(;(E=ax(c))!==-1;)yield yield fe(c.slice(0,E)),c=c.slice(E)}}catch(v){s={error:v}}finally{try{!h&&!i&&(a=g.return)&&(yield fe(a.call(g)))}finally{if(s)throw s.error}}c.length>0&&(yield yield fe(c))})}class dx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,a]=fx(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function fx(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hx(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:l}=e,c=await(async()=>{var h;if(e.options.stream)return Ct(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Bo.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),p=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return Ct(t).debug(`[${s}] response parsed`,Gi({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sd extends Promise{constructor(e,i,s=hx){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Sd(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iv=Symbol("brand.privateNullableHeaders");function*px(t){if(!t)return;if(Iv in t){const{values:s,nulls:a}=t;yield*s.entries();for(const l of a)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():ay(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=ay(s[1])?s[1]:[s[1]];let c=!1;for(const h of l)h!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,h])}}const Ys=t=>{const e=new Headers,i=new Set;for(const s of t){const a=new Set;for(const[l,c]of px(s)){const h=l.toLowerCase();a.has(h)||(e.delete(l),a.add(h)),c===null?(e.delete(l),i.add(h)):(e.append(l,c),i.delete(h))}}return{[Iv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xc=t=>{var e,i,s,a,l,c;if(typeof globalThis.process<"u")return(s=(i=(e=PT)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mv;class el{constructor(e){var i,s,a,l,c,h,g,{baseURL:p=xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=xc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:_="v1beta"}=e,S=za(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:_},S),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:el.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const A="warn";this.logLevel=A,this.logLevel=(c=(l=fy(E.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:fy(xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=E.fetchOptions,this.maxRetries=(h=E.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=E.fetch)!==null&&g!==void 0?g:KR(),this.encoder=QR,this._options=E,this.apiKey=v,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Ys([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Ys([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ys([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new an(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Po}`}defaultIdempotencyKey(){return`stainless-node-retry-${kR()}`}makeStatusError(e,i,s,a){return Rt.generate(e,i,s,a)}buildURL(e,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,l=PR(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return GR(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new Sd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var a,l,c;const h=await e,g=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:p,url:v,timeout:_}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(p,{url:v,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,A=Date.now();if(Ct(this).debug(`[${S}] sending request`,Gi({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:p.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new Xc;const R=new AbortController,x=await this.fetchWithTimeout(v,p,_,R).catch(jc),D=Date.now();if(x instanceof globalThis.Error){const U=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new Xc;const V=Kc(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(i)return Ct(this).info(`[${S}] connection ${V?"timed out":"failed"} - ${U}`),Ct(this).debug(`[${S}] connection ${V?"timed out":"failed"} (${U})`,Gi({retryOfRequestLogID:s,url:v,durationMs:D-A,message:x.message})),this.retryRequest(h,i,s??S);throw Ct(this).info(`[${S}] connection ${V?"timed out":"failed"} - error; no more retries left`),Ct(this).debug(`[${S}] connection ${V?"timed out":"failed"} (error; no more retries left)`,Gi({retryOfRequestLogID:s,url:v,durationMs:D-A,message:x.message})),V?new hv:new Wa({cause:x})}const q=`[${S}${E}] ${p.method} ${v} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${D-A}ms`;if(!x.ok){const U=await this.shouldRetry(x);if(i&&U){const X=`retrying, ${i} attempts remaining`;return await XR(x.body),Ct(this).info(`${q} - ${X}`),Ct(this).debug(`[${S}] response error (${X})`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:D-A})),this.retryRequest(h,i,s??S,x.headers)}const V=U?"error; no more retries left":"error; not retryable";Ct(this).info(`${q} - ${V}`);const G=await x.text().catch(X=>jc(X).message),K=VR(G),J=K?void 0:G;throw Ct(this).debug(`[${S}] response error (${V})`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,message:J,durationMs:Date.now()-A})),this.makeStatusError(x.status,K,J,x.headers)}return Ct(this).info(q),Ct(this).debug(`[${S}] response start`,Gi({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:D-A})),{response:x,options:h,controller:R,requestLogID:S,retryOfRequestLogID:s,startTime:A}}async fetchWithTimeout(e,i,s,a){const l=i||{},{signal:c,method:h}=l,g=za(l,["signal","method"]),p=a.abort.bind(a);c&&c.addEventListener("abort",p,{once:!0});const v=setTimeout(p,s),_=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},_?{duplex:"half"}:{}),{method:"GET"}),g);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(v)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,a){var l;let c;const h=a==null?void 0:a.get("retry-after-ms");if(h){const p=parseFloat(h);Number.isNaN(p)||(c=p)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const p=parseFloat(g);Number.isNaN(p)?c=Date.parse(g)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await zR(c),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,a,l;const c=Object.assign({},e),{method:h,path:g,query:p,defaultBaseURL:v}=c,_=this.buildURL(g,p,v);"timeout"in c&&BR("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:_,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:a}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=Ys([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),YR()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Ys([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jR(e)}:this.encoder({body:e,headers:s})}}el.DEFAULT_TIMEOUT=6e4;class ft extends el{constructor(){super(...arguments),this.interactions=new Nv(this)}}Mv=ft;ft.GeminiNextGenAPIClient=Mv;ft.GeminiNextGenAPIClientError=an;ft.APIError=Rt;ft.APIConnectionError=Wa;ft.APIConnectionTimeoutError=hv;ft.APIUserAbortError=Xc;ft.NotFoundError=yv;ft.ConflictError=vv;ft.RateLimitError=Sv;ft.BadRequestError=pv;ft.AuthenticationError=mv;ft.InternalServerError=Tv;ft.PermissionDeniedError=gv;ft.UnprocessableEntityError=_v;ft.toFile=nx;ft.Interactions=Nv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(t,e){const i={},s=d(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function gx(t,e){const i={},s=d(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function yx(t,e){const i={},s=d(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function vx(t,e){const i={},s=d(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function _x(t,e,i){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(d(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(d(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=d(t,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=d(t,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(d(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(d(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(d(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(d(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function Sx(t,e,i){const s={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const G=d(t,["validationDataset"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec"],Nc(G))}else if(a==="PREFERENCE_TUNING"){const G=d(t,["validationDataset"]);e!==void 0&&G!=null&&f(e,["preferenceOptimizationSpec"],Nc(G))}else if(a==="DISTILLATION"){const G=d(t,["validationDataset"]);e!==void 0&&G!=null&&f(e,["distillationSpec"],Nc(G))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=d(t,["epochCount"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(h==="PREFERENCE_TUNING"){const G=d(t,["epochCount"]);e!==void 0&&G!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(h==="DISTILLATION"){const G=d(t,["epochCount"]);e!==void 0&&G!=null&&f(e,["distillationSpec","hyperParameters","epochCount"],G)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=d(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(g==="PREFERENCE_TUNING"){const G=d(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(g==="DISTILLATION"){const G=d(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&f(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const G=d(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(p==="PREFERENCE_TUNING"){const G=d(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(p==="DISTILLATION"){const G=d(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&f(e,["distillationSpec","exportLastCheckpointOnly"],G)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const G=d(t,["adapterSize"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(v==="PREFERENCE_TUNING"){const G=d(t,["adapterSize"]);e!==void 0&&G!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(v==="DISTILLATION"){const G=d(t,["adapterSize"]);e!==void 0&&G!=null&&f(e,["distillationSpec","hyperParameters","adapterSize"],G)}let _=d(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const G=d(t,["tuningMode"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","tuningMode"],G)}const S=d(t,["customBaseModel"]);e!==void 0&&S!=null&&f(e,["customBaseModel"],S);let E=d(i,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const G=d(t,["batchSize"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let A=d(i,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const G=d(t,["learningRate"]);e!==void 0&&G!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const R=d(t,["labels"]);e!==void 0&&R!=null&&f(e,["labels"],R);const x=d(t,["beta"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],x);const D=d(t,["baseTeacherModel"]);e!==void 0&&D!=null&&f(e,["distillationSpec","baseTeacherModel"],D);const q=d(t,["tunedTeacherModelSource"]);e!==void 0&&q!=null&&f(e,["distillationSpec","tunedTeacherModelSource"],q);const U=d(t,["sftLossWeightMultiplier"]);e!==void 0&&U!=null&&f(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],U);const V=d(t,["outputUri"]);return e!==void 0&&V!=null&&f(e,["outputUri"],V),s}function Tx(t,e){const i={},s=d(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=d(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(t,["trainingDataset"]);l!=null&&Dx(l);const c=d(t,["config"]);return c!=null&&_x(c,i),i}function Ex(t,e){const i={},s=d(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=d(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const l=d(t,["trainingDataset"]);l!=null&&Ux(l,i,e);const c=d(t,["config"]);return c!=null&&Sx(c,i,e),i}function bx(t,e){const i={},s=d(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function wx(t,e){const i={},s=d(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function Ax(t,e,i){const s={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),s}function Cx(t,e,i){const s={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),s}function Rx(t,e){const i={},s=d(t,["config"]);return s!=null&&Ax(s,i),i}function xx(t,e){const i={},s=d(t,["config"]);return s!=null&&Cx(s,i),i}function Nx(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Dv(h))),f(i,["tuningJobs"],c)}return i}function Ix(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Zc(h))),f(i,["tuningJobs"],c)}return i}function Mx(t,e){const i={},s=d(t,["name"]);s!=null&&f(i,["model"],s);const a=d(t,["name"]);return a!=null&&f(i,["endpoint"],a),i}function Dx(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),f(i,["examples","examples"],a)}return i}function Ux(t,e,i){const s={};let a=d(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(a==="DISTILLATION"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["distillationSpec","promptDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(l==="DISTILLATION"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["distillationSpec","promptDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Dv(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["state"]);l!=null&&f(i,["state"],Ky(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=d(t,["description"]);v!=null&&f(i,["description"],v);const _=d(t,["baseModel"]);_!=null&&f(i,["baseModel"],_);const S=d(t,["_self"]);return S!=null&&f(i,["tunedModel"],Mx(S)),i}function Zc(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["state"]);l!=null&&f(i,["state"],Ky(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=d(t,["error"]);v!=null&&f(i,["error"],v);const _=d(t,["description"]);_!=null&&f(i,["description"],_);const S=d(t,["baseModel"]);S!=null&&f(i,["baseModel"],S);const E=d(t,["tunedModel"]);E!=null&&f(i,["tunedModel"],E);const A=d(t,["preTunedModel"]);A!=null&&f(i,["preTunedModel"],A);const R=d(t,["supervisedTuningSpec"]);R!=null&&f(i,["supervisedTuningSpec"],R);const x=d(t,["preferenceOptimizationSpec"]);x!=null&&f(i,["preferenceOptimizationSpec"],x);const D=d(t,["distillationSpec"]);D!=null&&f(i,["distillationSpec"],D);const q=d(t,["tuningDataStats"]);q!=null&&f(i,["tuningDataStats"],q);const U=d(t,["encryptionSpec"]);U!=null&&f(i,["encryptionSpec"],U);const V=d(t,["partnerModelTuningSpec"]);V!=null&&f(i,["partnerModelTuningSpec"],V);const G=d(t,["customBaseModel"]);G!=null&&f(i,["customBaseModel"],G);const K=d(t,["experiment"]);K!=null&&f(i,["experiment"],K);const J=d(t,["labels"]);J!=null&&f(i,["labels"],J);const ne=d(t,["outputUri"]);ne!=null&&f(i,["outputUri"],ne);const X=d(t,["pipelineJob"]);X!=null&&f(i,["pipelineJob"],X);const re=d(t,["serviceAccount"]);re!=null&&f(i,["serviceAccount"],re);const ye=d(t,["tunedModelDisplayName"]);ye!=null&&f(i,["tunedModelDisplayName"],ye);const se=d(t,["veoTuningSpec"]);return se!=null&&f(i,["veoTuningSpec"],se),i}function kx(t,e){const i={},s=d(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=d(t,["name"]);a!=null&&f(i,["name"],a);const l=d(t,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(t,["done"]);c!=null&&f(i,["done"],c);const h=d(t,["error"]);return h!=null&&f(i,["error"],h),i}function Nc(t,e){const i={},s=d(t,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const a=d(t,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ox extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $i(Hn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Hc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=wx(e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Zc(v))}else{const p=bx(e);return h=W("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Dv(v))}}async listInternal(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=xx(e);return h=W("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Ix(v),S=new Hg;return Object.assign(S,_),S})}else{const p=Rx(e);return h=W("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=Nx(v),S=new Hg;return Object.assign(S,_),S})}}async cancel(e){var i,s,a,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=gx(e);return h=W("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=vx(v),S=new Bg;return Object.assign(S,_),S})}else{const p=mx(e);return h=W("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const _=yx(v),S=new Bg;return Object.assign(S,_),S})}}async tuneInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI()){const h=Ex(e,e);return l=W("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>Zc(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Tx(e);return l=W("tunedModels",h._url),c=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>kx(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Px{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Lx=1024*1024*8,qx=3,Gx=1e3,Hx=2,Fa="x-goog-upload-status";async function Bx(t,e,i){var s;const a=await Uv(t,e,i),l=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function Vx(t,e,i){var s;const a=await Uv(t,e,i),l=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Vy(l),h=new hd;return Object.assign(h,c),h}async function Uv(t,e,i){var s,a;let l=0,c=0,h=new Vc(new Response),g="upload";for(l=t.size;c<l;){const p=Math.min(Lx,l-c),v=t.slice(c,c+p);c+p>=l&&(g+=", finalize");let _=0,S=Gx;for(;_<qx&&(h=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Fa]));)_++,await $x(S),S=S*Hx;if(c+=p,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[Fa])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function zx(t){return{size:t.size,type:t.type}}function $x(t){return new Promise(e=>setTimeout(e,t))}class Fx{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Bx(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Vx(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jx{create(e,i,s){return new Yx(e,i,s)}}class Yx{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py="x-goog-api-key";class Kx{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(py)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(py,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx="gl-node/";class Xx{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new ft({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=HT(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new Kx(this.apiKey);this.apiClient=new zC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:jx+"web",uploader:new Fx,downloader:new Px}),this.models=new lR(this.apiClient),this.live=new nR(this.apiClient,a,new Jx),this.batches=new gb(this.apiClient),this.chats=new Qb(this.models,this.apiClient),this.caches=new Kb(this.apiClient),this.files=new uw(this.apiClient),this.operations=new uR(this.apiClient),this.authTokens=new AR(this.apiClient),this.tunings=new Ox(this.apiClient),this.fileSearchStores=new UR(this.apiClient)}}const Qx="AIzaSyBW8KFVVKZo8Dy9BJifsshq7gtAVU6noFo",Wx=new Xx({apiKey:Qx}),Zx="gemini-2.5-flash",eN=async(t,e,i)=>{const s=e.map(l=>`${l.role.toUpperCase()}: ${l.content}`).join(`
`),a=`
    Voc  um especialista em Gesto de Projetos com IA chamado "Agente SAAD".
    Data Atual: ${i}

    **OBJETIVO**: Gerenciar um quadro de projetos baseado na Entrada do Usurio e no Histrico do Chat.

    **REGRAS CRTICAS**:
    1. **Cronograma Primeiro**: Voc NO PODE criar tarefas at que um cronograma (Durao, Prazo ou Datas de Incio/Fim) seja estabelecido.
      Os cards de tarefas (tasks) DEVEM conter o texto COMPLETO da Regra de Negcio fornecida, sem resumir, sem parafrasear e sem encurtar. 
      - O campo "title" deve ser o nome ou identificador da regra (ex: "RN - 001.1 Tipo de Cadastro").
      - O campo "description" deve conter a regra na NTEGRA como descrita pelo usurio.
      
      Exemplo:
      Se o usurio disser: "RN - 001.1 Tipo de Cadastro: Na Etapa 1 (Bsico), o usurio deve selecionar a categoria do produto. Ao selecionar 'Combo', o sistema deve habilitar a aba 'Itens e Preos'."
      O JSON deve ser: {"code": "RN - 001.1", "title": "Tipo de Cadastro", "description": "Na Etapa 1 (Bsico), o usurio deve selecionar a categoria do produto. Ao selecionar 'Combo', o sistema deve habilitar a aba 'Itens e Preos'.", "category": "Cadastro"}

      REGRAS ADICIONAIS:
      - NUNCA use reticncias (...) ou cortes.
      - Se a regra for longa, capture TUDO.
      - Se o usurio passar datas, extraia para o objeto "timeline".
       - Se o usurio fornecer Regras de Negcio (RNs) mas NENHUM cronograma for encontrado no histrico ou na entrada atual:
         - **Ao**: Pergunte ao usurio sobre o cronograma (data de incio, durao ou prazo final).
         - **Sada**: Retorne um array 'newTasks' vazio.
    
    2. **Criao de Tarefas**:
       - Uma vez que o cronograma  conhecido (ou se fornecido na mensagem atual junto com RNs), voc deve gerar tarefas a partir das Regras de Negcio (RNs).
       - **Fonte**: Procure por RNs na *entrada atual*. Se a entrada atual for apenas uma atualizao de cronograma (ex: "4 semanas"), olhe para o *Histrico do Chat* para encontrar as RNs fornecidas anteriormente e gere as tarefas a partir delas agora.
       - **Extrao Estrita**: 
        - Regras Gerais de Negcio
          RN - 001 Definio do Tipo de Produto
        RN - 001.1 Tipo de Cadastro: Na Etapa 1 (Bsico), o usurio deve selecionar a categoria do produto. Ao selecionar "Combo", o sistema deve habilitar a aba "Itens e Preos".
        RN - 001.2 Natureza do Combo: Dentro da aba "Itens e Preos", o usurio poder misturar dois tipos de entrada: Itens Fixos (produto simples) e Etapas de Montagem (produtos com montagem).]
        As informaes sero enviadas como no exemplo acima no chat, a IA deve entender que RN - 001  o ttulo e RN - 001.1 e RN 001.2 so as tarefas que sero criadas com o exato texto da regra, por exemplo, a tarefa criada vai ser: RN - 001.1 Tipo de Cadastro: Na Etapa 1 (Bsico), o usurio deve selecionar a categoria do produto. Ao selecionar "Combo", o sistema deve habilitar a aba "Itens e Preos".
         - Copie o 'cdigo' (ex: "RN - 001.1"), 'ttulo' e 'descrio' **EXATAMENTE** como aparecem no texto. No resuma.
         - Formato: "RN - 001 Ttulo" -> Code: "RN - 001", Title: "Ttulo", Category: "RN - 001 Ttulo".
         - Formato: "RN - 001.1 Subtarefa" -> Code: "RN - 001.1", Title: "Subtarefa", Category: "RN - 001 Ttulo" (infira a categoria pai se possvel, caso contrrio use o prprio cdigo).
         - O usurio solicitou explicitamente: "As tarefas devem ter o mesmo nome da RN, com cdigos e descries idnticas."

    3. **Clculo do Cronograma e Squads**:
       - Calcule 'totalWeeks' (total de semanas), 'currentWeek' (semana atual), 'startDate' (data de incio), 'endDate' (data final).
       - **Squads**: Cada tarefa DEVE ser atribuda a um squad: 'UX/UI', 'Backend', 'Frontend' ou 'Geral'.
       - Lgica: Se apenas a durao (ex: "4 semanas") for dada, assuma Data de Incio = Hoje.
       - Se 'prazo final' for dado, conte para trs.
       - 'currentWeek' = (Hoje - Data de Incio) em semanas + 1.

    4. **Resposta**:
       - Fornea uma resposta natural e til ('reply') ao usurio explicando o que voc fez (ex: "Defini o cronograma para 4 semanas e criei 5 tarefas a partir das RNs fornecidas anteriormente.").
       - Gere 2 insights estratgicos ('insights') em portugus se existirem tarefas.

    **Contexto de Entrada**:
    Histrico do Chat:
    ${s}
    
    Entrada Atual do Usurio:
    ${t}
    
    Retorne estritamente JSON correspondendo ao esquema.
  `;try{const c=(await Wx.models.generateContent({model:Zx,contents:[{role:"user",parts:[{text:a}]}],config:{responseMimeType:"application/json",responseSchema:{type:Je.OBJECT,properties:{reply:{type:Je.STRING,description:"Sua resposta conversacional para o usurio em Portugus."},newTasks:{type:Je.ARRAY,items:{type:Je.OBJECT,properties:{code:{type:Je.STRING},title:{type:Je.STRING},category:{type:Je.STRING},description:{type:Je.STRING},squad:{type:Je.STRING,enum:["UX/UI","Backend","Frontend","Geral"],description:"Atribua a tarefa ao squad mais relevante."}},required:["code","title","category","squad"]}},timeline:{type:Je.OBJECT,properties:{startDate:{type:Je.STRING,description:"ISO Date String"},endDate:{type:Je.STRING,description:"ISO Date String"},totalWeeks:{type:Je.INTEGER},currentWeek:{type:Je.INTEGER},progressMessage:{type:Je.STRING}}},insights:{type:Je.ARRAY,items:{type:Je.STRING}}}}}})).text;if(!c)throw new Error("Sem resposta da IA");const h=JSON.parse(c);return{tasks:(h.newTasks||[]).map(p=>({id:crypto.randomUUID(),code:p.code,title:p.title,category:p.category,description:p.description||"",column:dt.TODO,squad:p.squad||"Geral"})),timeline:h.timeline,insights:h.insights||[],reply:h.reply||"Processado."}}catch(l){return console.error("Erro na anlise da IA:",l),{tasks:[],insights:[],timeline:void 0,reply:"Desculpe, ocorreu um erro ao processar sua solicitao. Tente novamente."}}};function tl(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i}function tN(t,e,i,s){function a(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{p(s.next(v))}catch(_){c(_)}}function g(v){try{p(s.throw(v))}catch(_){c(_)}}function p(v){v.done?l(v.value):a(v.value).then(h,g)}p((s=s.apply(t,e||[])).next())})}const nN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Td extends Error{constructor(e,i="FunctionsError",s){super(e),this.name=i,this.context=s}}class iN extends Td{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class my extends Td{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gy extends Td{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ed;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ed||(ed={}));class oN{constructor(e,{headers:i={},customFetch:s,region:a=ed.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=nN(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return tN(this,arguments,void 0,function*(i,s={}){var a;let l,c;try{const{headers:h,method:g,body:p,signal:v,timeout:_}=s;let S={},{region:E}=s;E||(E=this.region);const A=new URL(`${this.url}/${i}`);E&&E!=="any"&&(S["x-region"]=E,A.searchParams.set("forceFunctionRegion",E));let R;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",R=p):typeof p=="string"?(S["Content-Type"]="text/plain",R=p):typeof FormData<"u"&&p instanceof FormData?R=p:(S["Content-Type"]="application/json",R=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?R=JSON.stringify(p):R=p;let x=v;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),v?(x=c.signal,v.addEventListener("abort",()=>c.abort())):x=c.signal);const D=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),h),body:R,signal:x}).catch(G=>{throw new iN(G)}),q=D.headers.get("x-relay-error");if(q&&q==="true")throw new my(D);if(!D.ok)throw new gy(D);let U=((a=D.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),V;return U==="application/json"?V=yield D.json():U==="application/octet-stream"||U==="application/pdf"?V=yield D.blob():U==="text/event-stream"?V=D:U==="multipart/form-data"?V=yield D.formData():V=yield D.text(),{data:V,error:null,response:D}}catch(h){return{data:null,error:h,response:h instanceof gy||h instanceof my?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var sN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},rN=class{constructor(t){var e,i,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(i=t.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(s=t.urlLengthLimit)!==null&&s!==void 0?s:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,g=null,p=l.status,v=l.statusText;if(l.ok){var _,S;if(i.method!=="HEAD"){var E;const D=await l.text();D===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?h=D:h=JSON.parse(D))}const R=(_=i.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),x=(S=l.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");R&&x&&x.length>1&&(g=parseInt(x[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const R=await l.text();try{c=JSON.parse(R),Array.isArray(c)&&l.status===404&&(h=[],c=null,p=200,v="OK")}catch{l.status===404&&R===""?(p=204,v="No Content"):c={message:R}}if(c&&i.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&i.shouldThrowOnError)throw new sN(c)}return{error:c,data:h,count:g,status:p,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let h="",g="",p="";const v=l==null?void 0:l.cause;if(v){var _,S,E,A;const D=(_=v==null?void 0:v.message)!==null&&_!==void 0?_:"",q=(S=v==null?void 0:v.code)!==null&&S!==void 0?S:"";h=`${(E=l==null?void 0:l.name)!==null&&E!==void 0?E:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(A=v==null?void 0:v.name)!==null&&A!==void 0?A:"Error"}: ${D}`,q&&(h+=` (${q})`),v!=null&&v.stack&&(h+=`
${v.stack}`)}else{var R;h=(R=l==null?void 0:l.stack)!==null&&R!==void 0?R:""}const x=this.url.toString().length;return(l==null?void 0:l.name)==="AbortError"||(l==null?void 0:l.code)==="ABORT_ERR"?(p="",g="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((v==null?void 0:v.name)==="HeadersOverflowError"||(v==null?void 0:v.code)==="UND_ERR_HEADERS_OVERFLOW")&&(p="",g="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(g+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:g,code:p},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},aN=class extends rN{select(t){let e=!1;const i=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:s=i}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,i?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${g}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const yy=new RegExp("[,()]");var Lo=class extends aN{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(s=>typeof s=="string"&&yy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}notIn(t,e){const i=Array.from(new Set(e)).map(s=>typeof s=="string"&&yy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}},lN=class{constructor(t,{headers:e={},schema:i,fetch:s,urlLengthLimit:a=8e3}){this.url=t,this.headers=new Headers(e),this.schema=i,this.fetch=s,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:i=!1,count:s}=e??{},a=i?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join(""),{url:h,headers:g}=this.cloneRequestState();return h.searchParams.set("select",c),s&&g.append("Prefer",`count=${s}`),new Lo({method:a,url:h,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:i=!0}={}){var s;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(h.length>0){const g=[...new Set(h)].map(p=>`"${p}"`);l.searchParams.set("columns",g.join(","))}}return new Lo({method:a,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:s,defaultToNull:a=!0}={}){var l;const c="POST",{url:h,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),s&&g.append("Prefer",`count=${s}`),a||g.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(p.length>0){const v=[...new Set(p)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new Lo({method:c,url:h,headers:g,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var i;const s="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new Lo({method:s,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const i="DELETE",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Lo({method:i,url:s,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function er(t){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(t)}function uN(t,e){if(er(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(er(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cN(t){var e=uN(t,"string");return er(e)=="symbol"?e:e+""}function dN(t,e,i){return(e=cN(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function Ma(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vy(Object(i),!0).forEach(function(s){dN(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vy(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}var fN=class kv{constructor(e,{headers:i={},schema:s,fetch:a,timeout:l,urlLengthLimit:c=8e3}={}){this.url=e,this.headers=new Headers(i),this.schemaName=s,this.urlLengthLimit=c;const h=a??globalThis.fetch;l!==void 0&&l>0?this.fetch=(g,p)=>{const v=new AbortController,_=setTimeout(()=>v.abort(),l),S=p==null?void 0:p.signal;if(S){if(S.aborted)return clearTimeout(_),h(g,p);const E=()=>{clearTimeout(_),v.abort()};return S.addEventListener("abort",E,{once:!0}),h(g,Ma(Ma({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(_),S.removeEventListener("abort",E)})}return h(g,Ma(Ma({},p),{},{signal:v.signal})).finally(()=>clearTimeout(_))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new kv(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,i={},{head:s=!1,get:a=!1,count:l}={}){var c;let h;const g=new URL(`${this.url}/rpc/${e}`);let p;const v=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(v)),_=s&&Object.values(i).some(v);_?(h="POST",p=i):s||a?(h=s?"HEAD":"GET",Object.entries(i).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{g.searchParams.append(E,A)})):(h="POST",p=i);const S=new Headers(this.headers);return _?S.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&S.set("Prefer",`count=${l}`),new Lo({method:h,url:g,headers:S,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class hN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const a=s.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const s=this.getWebSocketConstructor();return new s(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pN="2.95.3",mN=`realtime-js/${pN}`,gN="1.0.0",Ov="2.0.0",_y=Ov,td=1e4,yN=1e3,vN=100;var mi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mi||(mi={}));var lt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(lt||(lt={}));var hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hn||(hn={}));var nd;(function(t){t.websocket="websocket"})(nd||(nd={}));var Bi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Bi||(Bi={}));class _N{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,s;const a=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var i,s;const a=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,s){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+p.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(E),R=0;A.setUint8(R++,this.KINDS.userBroadcastPush),A.setUint8(R++,g.length),A.setUint8(R++,h.length),A.setUint8(R++,c.length),A.setUint8(R++,p.length),A.setUint8(R++,_.length),A.setUint8(R++,i),Array.from(g,D=>A.setUint8(R++,D.charCodeAt(0))),Array.from(h,D=>A.setUint8(R++,D.charCodeAt(0))),Array.from(c,D=>A.setUint8(R++,D.charCodeAt(0))),Array.from(p,D=>A.setUint8(R++,D.charCodeAt(0))),Array.from(_,D=>A.setUint8(R++,D.charCodeAt(0)));var x=new Uint8Array(E.byteLength+s.byteLength);return x.set(new Uint8Array(E),0),x.set(new Uint8Array(s),E.byteLength),x.buffer}decode(e,i){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return i(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,l,c,h,g]=s;return i({join_ref:a,ref:l,topic:c,event:h,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),s=i.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodeUserBroadcast(e,i,s){const a=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=s.decode(e.slice(g,g+a));g=g+a;const v=s.decode(e.slice(g,g+l));g=g+l;const _=s.decode(e.slice(g,g+c));g=g+c;const S=e.slice(g,e.byteLength),E=h===this.JSON_ENCODING?JSON.parse(s.decode(S)):S,A={type:this.BROADCAST_EVENT,event:v,payload:E};return c>0&&(A.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>i.includes(s)))}}class Pv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const Sy=(t,e,i={})=>{var s;const a=(s=i.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=SN(c,t,e,a),l),{}):{}},SN=(t,e,i,s)=>{const a=e.find(h=>h.name===t),l=a==null?void 0:a.type,c=i[t];return l&&!s.includes(l)?Lv(l,c):id(c)},Lv=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return wN(e,i)}switch(t){case Ve.bool:return TN(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return EN(e);case Ve.json:case Ve.jsonb:return bN(e);case Ve.timestamp:return AN(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return id(e);default:return id(e)}},id=t=>t,TN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},EN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},wN=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,s=t[i];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Lv(e,h))}return t},AN=t=>typeof t=="string"?t.replace(" ","T"):t,qv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ic{constructor(e,i,s={},a=td){this.channel=e,this.event=i,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var s;return this._hasReceived(e)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ty;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ty||(Ty={}));class Qs{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,a,l,c),this.pendingDiffs.forEach(g=>{this.state=Qs.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qs.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,s,a){const l=this.cloneDeep(e),c=this.transformState(i),h={},g={};return this.map(l,(p,v)=>{c[p]||(g[p]=v)}),this.map(c,(p,v)=>{const _=l[p];if(_){const S=v.map(x=>x.presence_ref),E=_.map(x=>x.presence_ref),A=v.filter(x=>E.indexOf(x.presence_ref)<0),R=_.filter(x=>S.indexOf(x.presence_ref)<0);A.length>0&&(h[p]=A),R.length>0&&(g[p]=R)}else h[p]=v}),this.syncDiff(l,{joins:h,leaves:g},s,a)}static syncDiff(e,i,s,a){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(h,g)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(g),v.length>0){const _=e[h].map(E=>E.presence_ref),S=v.filter(E=>_.indexOf(E.presence_ref)<0);e[h].unshift(...S)}s(h,v,g)}),this.map(c,(h,g)=>{let p=e[h];if(!p)return;const v=g.map(_=>_.presence_ref);p=p.filter(_=>v.indexOf(_.presence_ref)<0),e[h]=p,a(h,p,g),p.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(s=>i(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,s)=>{const a=e[s];return"metas"in a?i[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[s]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ey;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ey||(Ey={}));var Ws;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ws||(Ws={}));var Gn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class Vo{constructor(e,i={config:{}},s){var a,l;if(this.topic=e,this.params=i,this.socket=s,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ic(this,hn.join,this.params,this.timeout),this.rejoinTimer=new Pv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Qs(this),this.broadcastEndpointURL=qv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,p=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},S={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(Gn.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(Gn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e==null||e(Gn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,x=(A=R==null?void 0:R.length)!==null&&A!==void 0?A:0,D=[];for(let q=0;q<x;q++){const U=R[q],{filter:{event:V,schema:G,table:K,filter:J}}=U,ne=E&&E[q];if(ne&&ne.event===V&&Vo.isFilterValueEqual(ne.schema,G)&&Vo.isFilterValueEqual(ne.table,K)&&Vo.isFilterValueEqual(ne.filter,J))D.push(Object.assign(Object.assign({},U),{id:ne.id}));else{this.unsubscribe(),this.state=lt.errored,e==null||e(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,e&&e(Gn.SUBSCRIBED);return}}).receive("error",E=>{this.state=lt.errored,e==null||e(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,s){return this.state===lt.joined&&e===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,s)}async httpSend(e,i,s={}){var a;if(i==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Ic(this,hn.leave,{},e),s.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,i,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(l),c}_push(e,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ic(this,e,i,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vN){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,s){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,s){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:p,join:v}=hn;if(s&&[h,g,p,v].indexOf(c)>=0&&s!==this._joinRef())return;let S=this._onMessage(c,i,s);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var A,R,x;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((x=(R=E.filter)===null||R===void 0?void 0:R.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===c}).map(E=>E.callback(S,s)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var A,R,x,D,q,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const V=E.id,G=(A=E.filter)===null||A===void 0?void 0:A.event;return V&&((R=i.ids)===null||R===void 0?void 0:R.includes(V))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((x=i.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const V=(q=(D=E==null?void 0:E.filter)===null||D===void 0?void 0:D.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return V==="*"||V===((U=i==null?void 0:i.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:R,table:x,commit_timestamp:D,type:q,errors:U}=A;S=Object.assign(Object.assign({},{schema:R,table:x,commit_timestamp:D,eventType:q,new:{},old:{},errors:U}),this._getPayloadRecords(A))}E.callback(S,s)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,s){const a=e.toLocaleLowerCase(),l={type:a,filter:i,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,i){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&Vo.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(e[s]!==i[s])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hn.close,{},e)}_onError(e){this._on(hn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Sy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Sy(e.columns,e.old_record)),i}}const Mc=()=>{},Da={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CN=[1e3,2e3,5e3,1e4],RN=1e4,xN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NN{constructor(e,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=td,this.transport=null,this.heartbeatIntervalMs=Da.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mc,this.ref=0,this.reconnectTimer=null,this.vsn=_y,this.logger=Mc,this.conn=null,this.sendBuffer=[],this.serializer=new _N,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((s=i==null?void 0:i.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${nd.websocket}`,this.httpEndpoint=qv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return i==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,s){this.logger(e,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case mi.connecting:return Bi.Connecting;case mi.open:return Bi.Open;case mi.closing:return Bi.Closing;default:return Bi.Closed}}isConnected(){return this.connectionState()===Bi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new Vo(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:s,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${s} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yN,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Da.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:a,payload:l,ref:c}=i,h=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${s} ${a} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(a,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===mi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mi.open||this.conn.readyState===mi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(hn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${s}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const s=new Blob([xN],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,s=!1;if(e)i=e,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(a=>{const l={access_token:i,version:mN};i&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(hn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Pv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Da.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,s,a,l,c,h,g,p,v,_,S,E;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:td,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Da.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Mc,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:_y,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(A=>CN[A-1]||RN),this.vsn){case gN:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((A,R)=>R(JSON.stringify(A))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((A,R)=>R(JSON.parse(A)));break;case Ov:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var tr=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IN(t,e,i){const s=new URL(e,t);if(i)for(const[a,l]of Object.entries(i))l!==void 0&&s.searchParams.set(a,l);return s.toString()}async function MN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function DN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:a,body:l,headers:c}){const h=IN(t.baseUrl,s,a),g=await MN(t.auth),p=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),v=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),S=_&&v?JSON.parse(v):v;if(!p.ok){const E=_?S:void 0,A=E==null?void 0:E.error;throw new tr((A==null?void 0:A.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:E})}return{status:p.status,headers:p.headers,data:S}}}}function Ua(t){return t.join("")}var UN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ua(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ua(t.namespace)}`}),!0}catch(e){if(e instanceof tr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof tr&&i.status===409)return;throw i}}};function Io(t){return t.join("")}var kN=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Io(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof tr&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof tr&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},ON=class{constructor(t){var s;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=DN({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new UN(this.client,e),this.tableOps=new kN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},nl=class extends Error{constructor(t,e="storage",i,s){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function il(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ka=class extends nl{constructor(t,e,i,s="storage"){super(t,s,e,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gv=class extends nl{constructor(t,e,i="storage"){super(t,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const PN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),LN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},od=t=>{if(Array.isArray(t))return t.map(i=>od(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,s])=>{const a=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=od(s)}),e},qN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}function GN(t,e){if(nr(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(nr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HN(t){var e=GN(t,"string");return nr(e)=="symbol"?e:e+""}function BN(t,e,i){return(e=HN(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function by(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function de(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?by(Object(i),!0).forEach(function(s){BN(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):by(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}const wy=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},VN=async(t,e,i,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const a=t,l=a.status||500;if(typeof a.json=="function")a.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";e(new ka(wy(c),l,h,s))}).catch(()=>{if(s==="vectors"){const c=l+"";e(new ka(a.statusText||`HTTP ${l} error`,l,c,s))}else{const c=l+"";e(new ka(a.statusText||`HTTP ${l} error`,l,c,s))}});else{const c=l+"";e(new ka(a.statusText||`HTTP ${l} error`,l,c,s))}}else e(new Gv(wy(t),t,s))},zN=(t,e,i,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!s?de(de({},a),i):(LN(s)?(a.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),de(de({},a),i))};async function Ks(t,e,i,s,a,l,c){return new Promise((h,g)=>{t(i,zN(e,s,a,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;if(c==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>h(p)).catch(p=>VN(p,g,s,c))})}function Hv(t="storage"){return{get:async(e,i,s,a)=>Ks(e,"GET",i,s,a,void 0,t),post:async(e,i,s,a,l)=>Ks(e,"POST",i,a,l,s,t),put:async(e,i,s,a,l)=>Ks(e,"PUT",i,a,l,s,t),head:async(e,i,s,a)=>Ks(e,"HEAD",i,de(de({},s),{},{noResolveJson:!0}),a,void 0,t),remove:async(e,i,s,a,l)=>Ks(e,"DELETE",i,a,l,s,t)}}const $N=Hv("storage"),{get:ir,post:fn,put:sd,head:FN,remove:Ed}=$N,Yt=Hv("vectors");var jo=class{constructor(t,e={},i,s="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=PN(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(il(i))return{data:null,error:i};throw i}}},JN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(il(e))return{data:null,error:e};throw e}}};let Bv;Bv=Symbol.toStringTag;var YN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Bv]="BlobDownloadBuilder",this.promise=null}asStream(){return new JN(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(il(e))return{data:null,error:e};throw e}}};const KN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ay={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jN=class extends jo{constructor(t,e={},i,s){super(t,e,s,"storage"),this.bucketId=i}async uploadOrUpdate(t,e,i,s){var a=this;return a.handleOperation(async()=>{let l;const c=de(de({},Ay),s);let h=de(de({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",a.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(g))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),s!=null&&s.headers&&(h=de(de({},h),s.headers));const p=a._removeEmptyFolders(e),v=a._getFinalPath(p),_=await(t=="PUT"?sd:fn)(a.fetch,`${a.url}/object/${v}`,l,de({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:p,id:_.Id,fullPath:_.Key}})}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,s){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${c}`);return h.searchParams.set("token",e),a.handleOperation(async()=>{let g;const p=de({upsert:Ay.upsert},s),v=de(de({},a.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:l,fullPath:(await sd(a.fetch,h.toString(),g,{headers:v})).Key}})}async createSignedUploadUrl(t,e){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(t);const a=de({},i.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await fn(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(i.url+l.url),h=c.searchParams.get("token");if(!h)throw new nl("No token returned by API");return{signedUrl:c.toString(),path:t,token:h}})}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var s=this;return s.handleOperation(async()=>await fn(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:s.headers}))}async copy(t,e,i){var s=this;return s.handleOperation(async()=>({path:(await fn(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(t,e,i){var s=this;return s.handleOperation(async()=>{let a=s._getFinalPath(t),l=await fn(s.fetch,`${s.url}/object/sign/${a}`,de({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:s.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${l.signedURL}${c}`)}})}async createSignedUrls(t,e,i){var s=this;return s.handleOperation(async()=>{const a=await fn(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${l}`):null}))})}download(t,e,i){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(t),h=()=>ir(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0},i);return new YN(h,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);return e.handleOperation(async()=>od(await ir(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})))}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await FN(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(il(s)&&s instanceof Gv){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const i=this._getFinalPath(t),s=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&s.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&s.push(c);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${h}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Ed(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,i){var s=this;return s.handleOperation(async()=>{const a=de(de(de({},KN),e),{},{prefix:t||""});return await fn(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},i)})}async listV2(t,e){var i=this;return i.handleOperation(async()=>{const s=de({},t);return await fn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const XN="2.95.3",ar={"X-Client-Info":`storage-js/${XN}`};var QN=class extends jo{constructor(t,e={},i,s){const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),c=de(de({},ar),e);super(l,c,i,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const i=e.listBucketOptionsToQueryString(t);return await ir(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ir(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var i=this;return i.handleOperation(async()=>await fn(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}))}async updateBucket(t,e){var i=this;return i.handleOperation(async()=>await sd(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await fn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ed(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},WN=class extends jo{constructor(t,e={},i){const s=t.replace(/\/$/,""),a=de(de({},ar),e);super(s,a,i,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await fn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const i=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&i.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&i.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&i.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&i.set("sortOrder",t.sortOrder),t!=null&&t.search&&i.set("search",t.search);const s=i.toString(),a=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await ir(e.fetch,a,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ed(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!qN(t))throw new nl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new ON({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}}}})}},ZN=class extends jo{constructor(t,e={},i){const s=t.replace(/\/$/,""),a=de(de({},ar),{},{"Content-Type":"application/json"},e);super(s,a,i,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var i=this;return i.handleOperation(async()=>await Yt.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var i=this;return i.handleOperation(async()=>await Yt.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{})}},eI=class extends jo{constructor(t,e={},i){const s=t.replace(/\/$/,""),a=de(de({},ar),{},{"Content-Type":"application/json"},e);super(s,a,i,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},tI=class extends jo{constructor(t,e={},i){const s=t.replace(/\/$/,""),a=de(de({},ar),{},{"Content-Type":"application/json"},e);super(s,a,i,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Yt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},nI=class extends tI{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new iI(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},iI=class extends ZN{constructor(t,e,i,s){super(t,e,s),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new oI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},oI=class extends eI{constructor(t,e,i,s,a){super(t,e,a),this.vectorBucketName=i,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,de(de({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},sI=class extends QN{constructor(t,e={},i,s){super(t,e,i,s)}from(t){return new jN(this.url,this.headers,t,this.fetch)}get vectors(){return new nI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WN(this.url+"/iceberg",this.headers,this.fetch)}};const Vv="2.95.3",qo=30*1e3,rd=3,Dc=rd*qo,rI="http://localhost:9999",aI="supabase.auth.token",lI={"X-Client-Info":`gotrue-js/${Vv}`},ad="X-Supabase-Api-Version",zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cI=600*1e3;class or extends Error{constructor(e,i,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dI extends or{constructor(e,i,s){super(e,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function fI(t){return oe(t)&&t.name==="AuthApiError"}class Vi extends or{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class zn extends or{constructor(e,i,s,a){super(e,s,a),this.name=i,this.status=s}}class Jt extends zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uc(t){return oe(t)&&t.name==="AuthSessionMissingError"}class Mo extends zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oa extends zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pa extends zn{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hI(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cy extends zn{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pI extends zn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ld extends zn{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function kc(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Ry extends zn{constructor(e,i,s){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class ud extends zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xy=` 	
\r=`.split(""),mI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xy.length;e+=1)t[xy[e].charCodeAt(0)]=-2;for(let e=0;e<Ja.length;e+=1)t[Ja[e].charCodeAt(0)]=e;return t})();function Ny(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(Ja[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(Ja[s]),e.queuedBits-=6}}function $v(t,e,i){const s=mI[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iy(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{vI(c,s,i)};for(let c=0;c<t.length;c+=1)$v(t.charCodeAt(c),a,l);return e.join("")}function gI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yI(t,e){for(let i=0;i<t.length;i+=1){let s=t.charCodeAt(i);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}gI(s,e)}}function vI(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Fo(t){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)$v(t.charCodeAt(a),i,s);return new Uint8Array(e)}function _I(t){const e=[];return yI(t,i=>e.push(i)),new Uint8Array(e)}function zi(t){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>Ny(a,i,s)),Ny(null,i,s),e.join("")}function SI(t){return Math.round(Date.now()/1e3)+t}function TI(){return Symbol("auth-callback")}const St=()=>typeof window<"u"&&typeof document<"u",Li={tested:!1,writable:!1},Fv=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Li.tested)return Li.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Li.tested=!0,Li.writable=!0}catch{Li.tested=!0,Li.writable=!1}return Li.writable};function EI(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return i.searchParams.forEach((s,a)=>{e[a]=s}),e}const Jv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Go=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},qi=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},_t=async(t,e)=>{await t.removeItem(e)};class ol{constructor(){this.promise=new ol.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}ol.promiseConstructor=Promise;function La(t){const e=t.split(".");if(e.length!==3)throw new ud("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!uI.test(e[s]))throw new ud("JWT not in base64url format");return{header:JSON.parse(Iy(e[0])),payload:JSON.parse(Iy(e[1])),signature:Fo(e[2]),raw:{header:e[0],payload:e[1]}}}async function wI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AI(t,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function CI(t){return("0"+t.toString(16)).substr(-2)}function RI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let a="";for(let l=0;l<56;l++)a+=i.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,CI).join("")}async function xI(t){const i=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function NI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await xI(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(t,e,i=!1){const s=RI();let a=s;i&&(a+="/PASSWORD_RECOVERY"),await Go(t,`${e}-code-verifier`,a);const l=await NI(s);return[l,s===l?"plain":"s256"]}const II=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MI(t){const e=t.headers.get(ad);if(!e||!e.match(II))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function UI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uo(t){if(!kI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oc(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OI(t,e){return new Proxy(t,{get:(i,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,s,a)}})}function My(t){return JSON.parse(JSON.stringify(t))}const Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PI=[502,503,504];async function Dy(t){var e;if(!bI(t))throw new ld(Hi(t),0);if(PI.includes(t.status))throw new ld(Hi(t),t.status);let i;try{i=await t.json()}catch(l){throw new Vi(Hi(l),l)}let s;const a=MI(t);if(a&&a.getTime()>=zv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Ry(Hi(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Jt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ry(Hi(i),t.status,i.weak_password.reasons);throw new dI(Hi(i),t.status||500,s)}const LI=(t,e,i,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),i))};async function ce(t,e,i,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[ad]||(l[ad]=zv["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await qI(t,e,i+h,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function qI(t,e,i,s,a,l){const c=LI(e,s,a,l);let h;try{h=await t(i,Object.assign({},c))}catch(g){throw console.error(g),new ld(Hi(g),0)}if(h.ok||await Dy(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(g){await Dy(g)}}function dn(t){var e;let i=null;BI(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=SI(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:s},error:null}}function Uy(t){const e=dn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function GI(t){return{data:t,error:null}}function HI(t){const{action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l}=t,c=tl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:l},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function ky(t){return t}function BI(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pc=["global","local","others"];class VI{constructor({url:e="",headers:i={},fetch:s}){this.url=e,this.headers=i,this.fetch=Jv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Pc[0]){if(Pc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,i={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:gi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:i}=e,s=tl(e,["options"]),a=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:HI,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(oe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gi})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,s,a,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ky});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(A.split(";")[1].split("=")[1]);p[`${x}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Uo(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gi})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Uo(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:gi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,i=!1){Uo(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:gi})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Uo(e.userId);try{const{data:i,error:s}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:s}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Uo(e.userId),Uo(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,s,a,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},v=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ky});if(v.error)throw v.error;const _=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const R=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(A.split(";")[1].split("=")[1]);p[`${x}Page`]=R}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}}function Oy(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const ko={debug:!!(globalThis&&Fv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zI extends Yv{}async function $I(t,e,i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await i()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ko.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function FI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kv(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function JI(t){return parseInt(t,16)}function YI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function KI(t){var e;const{chainId:i,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:g,resources:p,scheme:v,uri:_,version:S}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=Kv(t.address),A=v?`${v}://${s}`:s,R=t.statement?`${t.statement}
`:"",x=`${A} wants you to sign in with your Ethereum account:
${E}

${R}`;let D=`URI: ${_}
Version: ${S}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(D+=`
Expiration Time: ${a.toISOString()}`),h&&(D+=`
Not Before: ${h.toISOString()}`),g&&(D+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);q+=`
- ${U}`}D+=q}return`${x}
${D}`}class rt extends Error{constructor({message:e,code:i,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class Ya extends rt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function jI({error:t,options:e}){var i,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(jv(c)){if(l.rp.id!==c)return new rt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function XI({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(jv(s)){if(i.rpId!==s)return new rt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QI{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const WI=new QI;function ZI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:s}=t,a=tl(t,["challenge","user","excludeCredentials"]),l=Fo(e).buffer,c=Object.assign(Object.assign({},i),{id:Fo(i.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const p=s[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Fo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function e1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,s=tl(t,["challenge","allowCredentials"]),a=Fo(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Fo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function t1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:zi(new Uint8Array(t.response.attestationObject)),clientDataJSON:zi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:zi(new Uint8Array(a.authenticatorData)),clientDataJSON:zi(new Uint8Array(a.clientDataJSON)),signature:zi(new Uint8Array(a.signature)),userHandle:a.userHandle?zi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Py(){var t,e;return!!(St()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function i1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ya("Browser returned unexpected credential type",e)}:{data:null,error:new Ya("Empty credential response",e)}}catch(e){return{data:null,error:jI({error:e,options:t})}}}async function o1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ya("Browser returned unexpected credential type",e)}:{data:null,error:new Ya("Empty credential response",e)}}catch(e){return{data:null,error:XI({error:e,options:t})}}}const s1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ka(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(i(c))s[l]=c;else if(e(c)){const h=s[l];e(h)?s[l]=Ka(h,c):s[l]=Ka(c)}else s[l]=c}return s}function a1(t,e){return Ka(s1,t,e||{})}function l1(t,e){return Ka(r1,t,e||{})}class u1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:s,signal:a},l){var c;try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!h)return{data:null,error:g};const p=a??WI.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const _=s;if(_)v.name=`${v.id}:${_}`;else{const E=(await this.client.getUser()).data.user,A=((c=E==null?void 0:E.user_metadata)===null||c===void 0?void 0:c.name)||(E==null?void 0:E.email)||(E==null?void 0:E.id)||"User";v.name=`${v.id}:${A}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=a1(h.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:S}=await i1({publicKey:v,signal:p});return _?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const v=l1(h.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:S}=await o1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return _?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(h){return oe(h)?{data:null,error:h}:{data:null,error:new Vi("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new or("rpId is required for WebAuthn authentication")};try{if(!Py())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:s},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:s,credential_response:g.credential_response}})}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new Vi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!i)return{data:null,error:new or("rpId is required for WebAuthn registration")};try{if(!Py())return{data:null,error:new Vi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:a},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new Vi("Unexpected error in register",c)}}}}FI();const c1={url:rI,storageKey:aI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ly(t,e,i){return await i()}const Oo={};class sr{get jwks(){var e,i;return(i=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{cachedAt:e})}constructor(e){var i,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},c1),e);if(this.storageKey=l.storageKey,this.instanceID=(i=sr.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,sr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&St()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new VI({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Jv(l.fetch),this.lock=l.lock||Ly,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&St()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=$I:this.lock=Ly,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Fv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},s="none";if(St()&&(i=EI(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),St()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(i,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),hI(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return oe(i)?this._returnResult({error:i}):this._returnResult({error:new Vi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,s,a;try{const l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:dn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,s,a;try{let l;if("email"in e){const{email:v,password:_,options:S}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await Do(this.storage,this.storageKey)),l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:v,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:A},xform:dn})}else if("phone"in e){const{phone:v,password:_,options:S}=e;l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:dn})}else throw new Oa("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Uy})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Uy})}else throw new Oa("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const l=new Mo;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,s,a,l,c,h,g,p,v,_,S;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:R,wallet:x,statement:D,options:q}=e;let U;if(St())if(typeof x=="object")U=x;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")U=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=x}const V=new URL((i=q==null?void 0:q.url)!==null&&i!==void 0?i:window.location.href),G=await U.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!G||G.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Kv(G[0]);let J=(s=q==null?void 0:q.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!J){const X=await U.request({method:"eth_chainId"});J=JI(X)}const ne={domain:V.host,address:K,statement:D,uri:V.href,version:"1",chainId:J,nonce:(a=q==null?void 0:q.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=q==null?void 0:q.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=q==null?void 0:q.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=q==null?void 0:q.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=KI(ne),A=await U.request({method:"personal_sign",params:[YI(E),K]})}try{const{data:R,error:x}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:A},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:dn});if(x)throw x;if(!R||!R.session||!R.user){const D=new Mo;return this._returnResult({data:{user:null,session:null},error:D})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:x})}catch(R){if(oe(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var i,s,a,l,c,h,g,p,v,_,S,E;let A,R;if("message"in e)A=e.message,R=e.signature;else{const{chain:x,wallet:D,statement:q,options:U}=e;let V;if(St())if(typeof D=="object")V=D;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))V=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=D}const G=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in V&&V.signIn){const K=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),q?{statement:q}:null));let J;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")J=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)J=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)A=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),R=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${G.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(a=(s=U==null?void 0:U.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(v=U==null?void 0:U.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const K=await V.signMessage(new TextEncoder().encode(A),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=K}}try{const{data:x,error:D}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:zi(R)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:dn});if(D)throw D;if(!x||!x.session||!x.user){const q=new Mo;return this._returnResult({data:{user:null,session:null},error:q})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:D})}catch(x){if(oe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const i=await qi(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new pI;const{data:l,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:dn});if(await _t(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Mo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:s,token:a,access_token:l,nonce:c}=e,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:dn}),{data:g,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const v=new Mo;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,s,a,l,c;try{if("email"in e){const{email:h,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Do(this.storage,this.storageKey));const{error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:g}=e,{data:p,error:v}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new Oa("You must provide either an email or phone number.")}catch(h){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,s;try{let a,l;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:dn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,s,a,l,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Do(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:GI});return!((l=p.data)===null||l===void 0)&&l.url&&St()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new Jt;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:c}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:c,error:h}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Oa("You must provide either an email or phone number and a type")}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Dc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await qi(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Oc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=OI(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gi}):await this._useSession(async i=>{var s,a,l;const{data:c,error:h}=i;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:gi})})}catch(i){if(oe(i))return Uc(i)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new Jt;const c=a.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await Do(this.storage,this.storageKey));const{data:p,error:v}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:gi});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jt;const i=Date.now()/1e3;let s=i,a=!0,l=null;const{payload:c}=La(e.access_token);if(c.exp&&(s=c.exp,a=s<=i),a){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var s;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Jt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!St())throw new Pa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Cy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pa("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cy("No code detected.");const{data:q,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:g,token_type:p}=e;if(!l||!h||!c||!p)throw new Pa("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let S=v+_;g&&(S=parseInt(g));const E=S-v;E*1e3<=qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const A=S-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:R,error:x}=await this._getUser(l);if(x)throw x;const D={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:S,refresh_token:c,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:e.type},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l&&!Uc(l))return this._returnResult({error:l});const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(fI(h)&&(h.status===404||h.status===401||h.status===403)||Uc(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=TI(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async i=>{var s,a;try{const{data:{session:l},error:c}=i;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Do(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:s,error:a}=await this._useSession(async l=>{var c,h,g,p,v;const{data:_,error:S}=l;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return St()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(oe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var s;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:h,token:g,access_token:p,nonce:v}=e,_=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:dn}),{data:S,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Mo}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(a){if(await _t(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await AI(async a=>(a>0&&await wI(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dn})),(a,l)=>{const c=200*Math.pow(2,a);return l&&kc(l)&&Date.now()+c-s<qo})}catch(s){if(this._debug(i,"error",s),oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),St()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await qi(this.storage,this.storageKey);if(a&&this.userStorage){let c=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Go(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Oc()}else if(a&&!a.user&&!a.user){const c=await qi(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await _t(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,a)):a.user=Oc()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Dc;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Dc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),kc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var i,s;if(!e)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ol;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Jt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),oe(l)){const c={data:null,error:l};return kc(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Go(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const l=My(a);await Go(this.storage,this.storageKey,l)}else{const a=My(i);await Go(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qo}ms, refresh threshold is ${rd} ticks`),a<=rd&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,s){const a=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Do(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;return l?this._returnResult({data:null,error:l}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var s,a;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?t1(e.webauthn.credential_response):n1(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ZI(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:e1(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var i,s,a,l;if(e)try{const{payload:E}=La(e);let A=null;E.aal&&(A=E.aal);let R=A;const{data:{user:x},error:D}=await this.getUser(e);if(D)return this._returnResult({data:null,error:D});((s=(i=x==null?void 0:x.factors)===null||i===void 0?void 0:i.filter(V=>V.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(R="aal2");const U=E.amr||[];return{data:{currentLevel:A,nextLevel:R,currentAuthenticationMethods:U},error:null}}catch(E){if(oe(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:c},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=La(c.access_token);let p=null;g.aal&&(p=g.aal);let v=p;((l=(a=c.user.factors)===null||a===void 0?void 0:a.filter(E=>E.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const S=g.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;return a?this._returnResult({data:null,error:a}):s?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Jt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&St()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Jt});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&St()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;return s?this._returnResult({data:null,error:s}):i?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;return a?this._returnResult({data:null,error:a}):s?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let s=i.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+cI>a)return s;const{data:l,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,i={}){try{let s=e;if(!s){const{data:E,error:A}=await this.getSession();if(A||!E.session)return this._returnResult({data:null,error:A});s=E.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:g}}=La(s);i!=null&&i.allowExpired||DI(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:l,header:a,signature:c},error:null}}const v=UI(a.alg),_=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,_I(`${h}.${g}`)))throw new ud("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}}sr.nextInstanceID={};const d1=sr,f1="2.95.3";let Xs="";typeof Deno<"u"?Xs="deno":typeof document<"u"?Xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xs="react-native":Xs="node";const h1={"X-Client-Info":`supabase-js-${Xs}/${f1}`},p1={headers:h1},m1={schema:"public"},g1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y1={};function rr(t){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(t)}function v1(t,e){if(rr(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(rr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1(t){var e=v1(t,"string");return rr(e)=="symbol"?e:e+""}function S1(t,e,i){return(e=_1(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function We(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qy(Object(i),!0).forEach(function(s){S1(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qy(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}const T1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E1=()=>Headers,b1=(t,e,i)=>{const s=T1(i),a=E1();return async(l,c)=>{var h;const g=(h=await e())!==null&&h!==void 0?h:t;let p=new a(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),s(l,We(We({},c),{},{headers:p}))}};function w1(t){return t.endsWith("/")?t:t+"/"}function A1(t,e){var i,s;const{db:a,auth:l,realtime:c,global:h}=t,{db:g,auth:p,realtime:v,global:_}=e,S={db:We(We({},g),a),auth:We(We({},p),l),realtime:We(We({},v),c),storage:{},global:We(We(We({},_),h),{},{headers:We(We({},(i=_==null?void 0:_.headers)!==null&&i!==void 0?i:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?S.accessToken=t.accessToken:delete S.accessToken,S}function C1(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var R1=class extends d1{constructor(t){super(t)}},x1=class{constructor(t,e,i){var s,a;this.supabaseUrl=t,this.supabaseKey=e;const l=C1(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:m1,realtime:y1,auth:We(We({},g1),{},{storageKey:c}),global:p1},g=A1(i??{},h);if(this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=b1(e,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(We({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new fN(new URL("rest/v1",l).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new sI(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new oN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,i;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:l,flowType:c,lock:h,debug:g,throwOnError:p},v,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R1({url:this.authUrl.href,headers:We(We({},S),v),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,userStorage:a,flowType:c,lock:h,debug:g,throwOnError:p,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new NN(this.realtimeUrl.href,We(We({},t),{},{params:We(We({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const N1=(t,e,i)=>new x1(t,e,i);function I1(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const i=e.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}I1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M1="https://uxenkjqbujwaomuucylc.supabase.co",D1="sb_publishable_vabiTplmRlmAzApegXUd4A_wL6xP1aP",sn=N1(M1,D1),At={async getProjects(){const{data:t,error:e}=await sn.from("projects").select(`
        *,
        tasks (*),
        timelines (*),
        chat_messages (*)
      `).order("created_at",{ascending:!1});return e?(console.error("Error fetching projects:",e),[]):t.map(i=>{const s=Array.isArray(i.timelines)?i.timelines:i.timelines?[i.timelines]:[],a=s.length>0?s[0]:null;return{id:i.id,name:i.name,description:i.description||"",createdAt:new Date(i.created_at),status:i.status,insights:i.insights||[],tasks:(i.tasks||[]).map(l=>({id:l.id,code:l.code,title:l.title,category:l.category,description:l.description||"",column:l.column,squad:l.squad})),timeline:a?{startDate:a.start_date,endDate:a.end_date,totalWeeks:a.total_weeks,current_week:a.current_week,currentWeek:a.current_week||a.currentWeek,progressMessage:a.progress_message||""}:null,chatHistory:(i.chat_messages||[]).sort((l,c)=>new Date(l.timestamp).getTime()-new Date(c.timestamp).getTime()).map(l=>({id:l.id,role:l.role,content:l.content,timestamp:new Date(l.timestamp)}))}})},async createProject(t){const{data:e,error:i}=await sn.from("projects").insert({name:t.name,description:t.description,status:t.status||"active",insights:t.insights||[]}).select().single();return i?(console.error("Error creating project:",i),null):e.id},async deleteProject(t){const{error:e}=await sn.from("projects").delete().eq("id",t);return e?(console.error("Error deleting project:",e),!1):!0},async updateProjectStatus(t,e){const{error:i}=await sn.from("projects").update({status:e}).eq("id",t);return i?(console.error("Error updating project status:",i),!1):!0},async updateProject(t,e){const{error:i}=await sn.from("projects").update(e).eq("id",t);return i?(console.error("Error updating project:",i),!1):!0},async upsertTask(t,e){const{error:i}=await sn.from("tasks").upsert({id:e.id,project_id:t,code:e.code,title:e.title,category:e.category,description:e.description,column:e.column,squad:e.squad});return i?(console.error("Error upserting task:",i),!1):!0},async updateTask(t,e){const{error:i}=await sn.from("tasks").update({code:e.code,title:e.title,category:e.category,description:e.description,column:e.column,squad:e.squad}).eq("id",t);return i?(console.error("Error updating task:",i),!1):!0},async deleteTask(t){const{error:e}=await sn.from("tasks").delete().eq("id",t);return e?(console.error("Error deleting task:",e),!1):!0},async saveTasks(t,e){const i=e.map(a=>({id:a.id,project_id:t,code:a.code,title:a.title,category:a.category,description:a.description,column:a.column,squad:a.squad})),{error:s}=await sn.from("tasks").upsert(i);return s?(console.error("Error saving tasks:",s),!1):!0},async addChatMessage(t,e){const{error:i}=await sn.from("chat_messages").insert({id:e.id,project_id:t,role:e.role,content:e.content,timestamp:e.timestamp.toISOString()});return i?(console.error("Error adding chat message:",i),!1):!0},async updateTimeline(t,e){const{error:i}=await sn.from("timelines").upsert({project_id:t,start_date:e.startDate,end_date:e.endDate,total_weeks:e.totalWeeks,current_week:e.currentWeek,progress_message:e.progressMessage},{onConflict:"project_id"});return i?(console.error("Error updating timeline:",i),!1):!0},async updateProjectInsights(t,e){const{error:i}=await sn.from("projects").update({insights:e}).eq("id",t);return i?(console.error("Error updating project insights:",i),!1):!0}},U1=()=>{const[t,e]=Ke.useState("dashboard"),[i,s]=Ke.useState("list"),[a,l]=Ke.useState([]),[c,h]=Ke.useState(null),[g,p]=Ke.useState(!1),[v,_]=Ke.useState(!0),[S,E]=Ke.useState(!1),[A,R]=Ke.useState(!1),[x,D]=Ke.useState(!1),[q,U]=Ke.useState(!1),[V,G]=Ke.useState(""),[K,J]=Ke.useState(""),[ne,X]=Ke.useState(null),[re,ye]=Ke.useState(null);Ke.useEffect(()=>{(async()=>{_(!0);const Ie=await At.getProjects();l(Ie),_(!1)})()},[]);const se=a.find(Y=>Y.id===c),ze=Y=>{if(Y.length===0)return 0;const Ie=Y.filter(Le=>Le.column===dt.DEPLOY_PROD).length;return Math.round(Ie/Y.length*100)},De=Y=>{switch(Y){case"active":return"text-blue-400 bg-blue-400/10 border-blue-400/20";case"completed":return"text-brand-green bg-brand-green/10 border-brand-green/20";case"paused":return"text-yellow-500 bg-yellow-500/10 border-yellow-500/20";default:return"text-gray-400"}},Ze=Y=>{switch(Y){case"active":return"Em Andamento";case"completed":return"Concludo";case"paused":return"Pausado"}},H=async Y=>{if(Y.preventDefault(),!V.trim())return;const Le={id:crypto.randomUUID(),name:V,description:K,createdAt:new Date,status:"active",tasks:[],timeline:null,insights:[],chatHistory:[{id:crypto.randomUUID(),role:"ai",content:`Ol! Vamos comear o planejamento do projeto "${V}".Me informe as Regras de Negcio e o prazo.`,timestamp:new Date}]},ue=await At.createProject(Le);if(!ue){alert("Erro ao criar projeto no banco de dados.");return}const Me={...Le,id:ue};await At.addChatMessage(ue,Me.chatHistory[0]),l([Me,...a]),h(ue),s("details"),E(!1),G(""),J("")},j=Y=>{h(Y),s("details"),e("dashboard")},te=()=>{s("list"),h(null)},be=async(Y,Ie)=>{Y.stopPropagation(),confirm("Tem certeza que deseja excluir este projeto?")&&(await At.deleteProject(Ie)?(l(ue=>ue.filter(Me=>Me.id!==Ie)),c===Ie&&te()):alert("Erro ao excluir projeto."))},Ue=async(Y,Ie)=>{Y.stopPropagation();const Le=Ie.status==="completed"?"active":"completed";await At.updateProjectStatus(Ie.id,Le)?l(Me=>Me.map(bt=>bt.id===Ie.id?{...bt,status:Le}:bt)):alert("Erro ao atualizar status.")},I=async Y=>{if(Y.preventDefault(),!ne||!ne.name.trim())return;await At.updateProject(ne.id,{name:ne.name,description:ne.description})?(l(Le=>Le.map(ue=>ue.id===ne.id?{...ue,name:ne.name,description:ne.description}:ue)),R(!1),X(null)):alert("Erro ao atualizar projeto.")},F=Y=>{ye(Y),D(!0)},Q=async Y=>{if(Y.preventDefault(),!re||!c)return;await At.updateTask(re.id,re)?(l(Le=>Le.map(ue=>ue.id!==c?ue:{...ue,tasks:ue.tasks.map(Me=>Me.id===re.id?re:Me)})),D(!1),ye(null)):alert("Erro ao atualizar tarefa.")},ee=async Y=>{c&&confirm("Tem certeza que deseja excluir esta tarefa?")&&(await At.deleteTask(Y)?l(Le=>Le.map(ue=>ue.id!==c?ue:{...ue,tasks:ue.tasks.filter(Me=>Me.id!==Y)})):alert("Erro ao excluir tarefa."))},he=async(Y,Ie)=>{if(!c)return;l(ue=>ue.map(Me=>Me.id!==c?Me:{...Me,tasks:Me.tasks.map(bt=>bt.id===Y?{...bt,column:Ie}:bt)}));const Le=se==null?void 0:se.tasks.find(ue=>ue.id===Y);Le&&await At.upsertTask(c,{...Le,column:Ie})},ve=async Y=>{if(!se||!c)return;const Ie={id:crypto.randomUUID(),role:"user",content:Y,timestamp:new Date};await At.addChatMessage(c,Ie);const Le=[...se.chatHistory,Ie];l(ue=>ue.map(Me=>Me.id===c?{...Me,chatHistory:Le}:Me)),p(!0);try{const ue=await eN(Y,Le,new Date().toISOString().split("T")[0]),Me={id:crypto.randomUUID(),role:"ai",content:ue.reply,timestamp:new Date};await At.addChatMessage(c,Me),ue.tasks.length>0&&await At.saveTasks(c,ue.tasks),ue.timeline&&await At.updateTimeline(c,ue.timeline),ue.insights.length>0&&await At.updateProjectInsights(c,ue.insights),l(bt=>bt.map(xt=>{if(xt.id!==c)return xt;const lr=ue.tasks.length>0?[...xt.tasks,...ue.tasks]:xt.tasks,Xo=ue.timeline?ue.timeline:xt.timeline,Qo=ue.insights.length>0?ue.insights:xt.insights;return{...xt,tasks:lr,timeline:Xo,insights:Qo,chatHistory:[...Le,Me]}}))}catch{const Me={id:(Date.now()+1).toString(),role:"ai",content:"Desculpe, tive um problema ao processar isso. Tente novamente.",timestamp:new Date};await At.addChatMessage(c,Me),l(bt=>bt.map(xt=>xt.id===c?{...xt,chatHistory:[...xt.chatHistory,Me]}:xt))}finally{p(!1)}},Ae=Y=>{const Ie=ze(Y.tasks);return w.jsxs("div",{onClick:()=>j(Y.id),className:"group bg-brand-surface border border-brand-light rounded-xl p-6 cursor-pointer hover:border-brand-green/50 hover:shadow-lg hover:shadow-brand-green/5 transition-all relative overflow-hidden",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:`px-2 py-1 rounded text-xs font-bold border flex items-center gap-1 ${De(Y.status)}`,children:[Y.status==="active"&&w.jsx(jS,{size:12}),Y.status==="completed"&&w.jsx(wc,{size:12}),Y.status==="paused"&&w.jsx(YS,{size:12}),Ze(Y.status)]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:Le=>Ue(Le,Y),title:Y.status==="completed"?"Reabrir":"Concluir",className:"p-1.5 text-gray-500 hover:text-brand-green rounded-md hover:bg-brand-light/30 transition-colors z-10",children:w.jsx(wc,{size:16})}),w.jsx("button",{onClick:Le=>be(Le,Y.id),className:"p-1.5 text-gray-500 hover:text-red-400 rounded-md hover:bg-brand-light/30 transition-colors z-10",children:w.jsx(qc,{size:16})})]})]}),w.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-brand-green transition-colors",children:Y.name}),w.jsx("p",{className:"text-gray-400 text-sm mb-6 line-clamp-2 h-10",children:Y.description||"Sem descrio definida."}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[w.jsx("span",{children:"Progresso"}),w.jsxs("span",{children:[Ie,"%"]})]}),w.jsx("div",{className:"w-full bg-brand-base h-2 rounded-full border border-brand-light/30",children:w.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${Y.status==="completed"?"bg-brand-green":"bg-blue-500"}`,style:{width:`${Ie}%`}})})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-brand-light flex items-center justify-between text-xs text-gray-500",children:[w.jsxs("span",{className:"flex items-center gap-1",children:[w.jsx(QS,{size:12})," ",new Date(Y.createdAt).toLocaleDateString()]}),w.jsxs("span",{className:"bg-brand-light px-2 py-1 rounded text-gray-300",children:[Y.tasks.length," Tarefas"]})]})]},Y.id)},ht=()=>w.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Meus Projetos"}),w.jsx("p",{className:"text-gray-400",children:"Viso geral e monitoramento de progresso"})]}),w.jsxs("button",{onClick:()=>E(!0),className:"bg-brand-green hover:bg-brand-green-hover text-brand-base px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors shadow-lg shadow-brand-green/20",children:[w.jsx(Pm,{size:18})," Novo Projeto"]})]}),a.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] bg-brand-surface/30 rounded-xl border border-dashed border-brand-light",children:[w.jsx(Ac,{size:48,className:"text-brand-light mb-4"}),w.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhum projeto encontrado."}),w.jsx("button",{onClick:()=>E(!0),className:"text-brand-green font-bold hover:underline",children:"Criar meu primeiro projeto"})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(Ae)})]}),je=()=>{const Y=a.filter(Ie=>Ie.status==="completed");return w.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Entregas Concludas"}),w.jsx("p",{className:"text-gray-400",children:"Histrico de projetos finalizados"})]}),Y.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] bg-brand-surface/30 rounded-xl border border-dashed border-brand-light",children:[w.jsx(wc,{size:48,className:"text-brand-light mb-4"}),w.jsx("p",{className:"text-gray-400",children:"Nenhum projeto concludo ainda."})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(Ae)})]})},vi=()=>se?w.jsxs("div",{className:"max-w-[1600px] mx-auto h-full flex flex-col",children:[w.jsxs("div",{className:"mb-6 flex items-start justify-between border-b border-brand-light pb-4",children:[w.jsxs("div",{children:[w.jsxs("button",{onClick:te,className:"flex items-center gap-1 text-gray-400 hover:text-white mb-2 text-sm transition-colors",children:[w.jsx(GS,{size:14})," Voltar para Projetos"]}),w.jsxs("h2",{className:"text-3xl font-bold text-white mb-1 flex items-center gap-3",children:[se.name,w.jsx("span",{className:`text-xs px-2 py-0.5 rounded border ${De(se.status)}`,children:Ze(se.status)})]}),w.jsxs("p",{className:"text-gray-400",children:[se.description||"Sem descrio",se.timeline?`  Semana ${se.timeline.currentWeek} de ${se.timeline.totalWeeks}`:""]})]}),w.jsxs("div",{className:"flex items-center gap-3 text-right",children:[w.jsxs("button",{onClick:()=>s(i==="analysis"?"details":"analysis"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all text-sm font-medium ${i==="analysis"?"bg-brand-green text-brand-base border-brand-green shadow-lg shadow-brand-green/20":"bg-brand-green/10 text-brand-green border-brand-green/20 hover:bg-brand-green/20"}`,children:[w.jsx($S,{size:14})," ",i==="analysis"?"Ver Kanban":"ANALISAR"]}),w.jsxs("button",{onClick:()=>{X({id:se.id,name:se.name,description:se.description}),R(!0)},className:"flex items-center gap-2 px-3 py-1.5 bg-brand-light text-gray-300 border border-brand-light rounded-lg hover:text-white hover:border-brand-green/50 transition-all text-sm font-medium",children:[w.jsx(Lc,{size:14})," Editar Projeto"]}),w.jsxs("button",{onClick:Y=>be(Y,se.id),className:"flex items-center gap-2 px-3 py-1.5 bg-red-500/10 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/20 transition-all text-sm font-medium",children:[w.jsx(qc,{size:14})," Excluir Projeto"]}),w.jsxs("span",{className:"text-xs text-brand-green bg-brand-green/10 px-2 py-1 rounded border border-brand-green/20",children:[se.tasks.length," Tarefas Totais"]})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 pt-2 pb-8",children:i==="analysis"?w.jsx(kT,{timeline:se.timeline,tasks:se.tasks,insights:se.insights}):w.jsxs(w.Fragment,{children:[w.jsx(MT,{timeline:se.timeline,tasks:se.tasks,insights:se.insights}),w.jsx("div",{className:"mb-4 mt-8 flex items-center justify-between",children:w.jsx("h3",{className:"text-lg font-bold text-white",children:"Quadro Kanban"})}),w.jsx("div",{className:"min-h-[400px]",children:w.jsx(UT,{tasks:se.tasks,onTaskMove:he,onEditTask:F,onDeleteTask:ee})})]})})]}):null;return w.jsxs("div",{className:"flex h-screen bg-brand-base text-brand-text font-sans selection:bg-brand-green/30",children:[w.jsxs("aside",{className:"w-64 bg-brand-surface border-r border-brand-light flex flex-col hidden md:flex shrink-0",children:[w.jsx("div",{className:"p-6",children:w.jsxs("h1",{className:"text-2xl font-black text-white flex items-center gap-2",children:["SAD ",w.jsx("span",{className:"text-brand-green font-light text-sm",children:"Monitor"})]})}),w.jsxs("div",{className:"px-4 mb-6 space-y-2",children:[w.jsxs("button",{onClick:()=>{e("dashboard"),te()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t==="dashboard"?"bg-brand-green text-brand-base shadow-lg shadow-brand-green/20 font-bold":"text-gray-400 hover:bg-brand-light/30 hover:text-white"}`,children:[w.jsx(iT,{size:18}),"Painel Geral"]}),w.jsxs("button",{onClick:()=>{e("deliveries"),te()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t==="deliveries"?"bg-brand-green text-brand-base font-bold":"text-gray-400 hover:bg-brand-light/30 hover:text-white"}`,children:[w.jsx(Om,{size:18}),"Todas Entregas"]})]}),w.jsxs("div",{className:"flex-1 px-4 overflow-y-auto",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2 px-2",children:[w.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Acesso Rpido"}),w.jsx("button",{onClick:()=>E(!0),className:"text-brand-green hover:text-white transition-colors",title:"Novo Projeto",children:w.jsx(Pm,{size:16})})]}),w.jsx("div",{className:"space-y-1",children:a.filter(Y=>Y.status==="active").map(Y=>w.jsx("div",{onClick:()=>j(Y.id),className:`group flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer transition-all ${c===Y.id&&(i==="details"||i==="analysis")?"bg-brand-light border border-brand-green/30 text-white":"text-gray-400 hover:bg-brand-light/20 hover:text-gray-200"}`,children:w.jsxs("div",{className:"flex items-center gap-2 truncate",children:[c===Y.id?w.jsx(Ac,{size:16,className:"text-brand-green"}):w.jsx(eT,{size:16}),w.jsx("span",{className:"text-sm font-medium truncate max-w-[140px]",children:Y.name})]})},Y.id))})]}),w.jsx("div",{className:"p-6 border-t border-brand-light mt-auto",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-light flex items-center justify-center font-bold text-brand-green",children:"AD"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-white",children:"Admin User"}),w.jsx("p",{className:"text-xs text-gray-500",children:"admin@saad.com"})]})]})})]}),w.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[w.jsxs("div",{className:"md:hidden bg-brand-surface p-4 border-b border-brand-light flex justify-between items-center",children:[w.jsx("span",{className:"font-bold text-white",children:"SAAD Monitor"}),w.jsx(aT,{className:"text-gray-400"})]}),w.jsx("div",{className:"flex-1 overflow-auto p-8 relative",children:v?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[w.jsx("div",{className:"w-12 h-12 border-4 border-brand-green border-t-transparent rounded-full animate-spin mb-4"}),w.jsx("p",{className:"text-gray-400",children:"Carregando seus projetos..."})]}):w.jsxs(w.Fragment,{children:[t==="dashboard"&&i==="list"&&ht(),t==="deliveries"&&je(),(i==="details"||i==="analysis")&&se&&w.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[w.jsx("div",{className:`flex-1 overflow-y-auto transition-all duration-300 ${q?"mr-0":"mr-[350px]"}`,children:vi()}),w.jsx("div",{className:`absolute right-0 top-0 h-full transition-all duration-300 ease-in-out ${q?"w-0 opacity-0 invisible":"w-[350px] opacity-100 visible"}`,children:se&&w.jsx("aside",{className:"border-l border-brand-light h-full bg-brand-surface shadow-2xl z-20 shrink-0",children:w.jsx(OT,{messages:se.chatHistory,onSendMessage:ve,isLoading:g,isCollapsed:q,onToggleCollapse:()=>U(!q)})})}),q&&se&&w.jsx("button",{onClick:()=>U(!1),className:"absolute right-4 top-4 bg-brand-green text-brand-base p-2 rounded-full shadow-lg z-50 hover:scale-110 transition-transform",title:"Expandir Chat",children:w.jsx(By,{size:20})})]})]})})]}),S&&w.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-brand-surface border border-brand-light p-6 rounded-xl w-full max-w-md shadow-2xl relative",children:[w.jsx("button",{onClick:()=>E(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:w.jsx(Cc,{size:20})}),w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(Ac,{className:"text-brand-green"})," Novo Projeto"]}),w.jsxs("form",{onSubmit:H,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome do Projeto"}),w.jsx("input",{type:"text",value:V,onChange:Y=>G(Y.target.value),placeholder:"Ex: App de Delivery V2",className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none",autoFocus:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio Curta"}),w.jsx("input",{type:"text",value:K,onChange:Y=>J(Y.target.value),placeholder:"Ex: Refatorao do backend...",className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none"})]}),w.jsxs("div",{className:"flex justify-end pt-2",children:[w.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-gray-300 hover:text-white mr-2",children:"Cancelar"}),w.jsx("button",{type:"submit",disabled:!V.trim(),className:"px-4 py-2 bg-brand-green hover:bg-brand-green-hover text-brand-base font-bold rounded-lg transition-colors disabled:opacity-50",children:"Criar Projeto"})]})]})]})}),A&&ne&&w.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-brand-surface border border-brand-light p-6 rounded-xl w-full max-w-md shadow-2xl relative",children:[w.jsx("button",{onClick:()=>R(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:w.jsx(Cc,{size:20})}),w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(Lc,{className:"text-brand-green"})," Editar Projeto"]}),w.jsxs("form",{onSubmit:I,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome do Projeto"}),w.jsx("input",{type:"text",value:ne.name,onChange:Y=>X({...ne,name:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none",autoFocus:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio"}),w.jsx("textarea",{value:ne.description,onChange:Y=>X({...ne,description:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none h-24 resize-none"})]}),w.jsxs("div",{className:"flex justify-end pt-2",children:[w.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-300 hover:text-white mr-2",children:"Cancelar"}),w.jsx("button",{type:"submit",disabled:!ne.name.trim(),className:"px-4 py-2 bg-brand-green hover:bg-brand-green-hover text-brand-base font-bold rounded-lg transition-colors shadow-lg shadow-brand-green/20",children:"Salvar Alteraes"})]})]})]})}),x&&re&&w.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-brand-surface border border-brand-light p-6 rounded-xl w-full max-w-md shadow-2xl relative",children:[w.jsx("button",{onClick:()=>D(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:w.jsx(Cc,{size:20})}),w.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[w.jsx(Om,{className:"text-brand-green"})," Editar Tarefa"]}),w.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[w.jsxs("div",{className:"col-span-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cdigo"}),w.jsx("input",{type:"text",value:re.code,onChange:Y=>ye({...re,code:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none"})]}),w.jsxs("div",{className:"col-span-2",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ttulo"}),w.jsx("input",{type:"text",value:re.title,onChange:Y=>ye({...re,title:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none"})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Categoria"}),w.jsx("input",{type:"text",value:re.category,onChange:Y=>ye({...re,category:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Squad"}),w.jsxs("select",{value:re.squad||"Geral",onChange:Y=>ye({...re,squad:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none",children:[w.jsx("option",{value:"UX/UI",children:"UX/UI"}),w.jsx("option",{value:"Backend",children:"Backend"}),w.jsx("option",{value:"Frontend",children:"Frontend"}),w.jsx("option",{value:"Geral",children:"Geral"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Descrio"}),w.jsx("textarea",{value:re.description||"",onChange:Y=>ye({...re,description:Y.target.value}),className:"w-full bg-brand-base border border-brand-light rounded-lg p-2 text-white focus:ring-2 focus:ring-brand-green outline-none h-32 resize-none"})]}),w.jsxs("div",{className:"flex justify-end pt-2",children:[w.jsx("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-gray-300 hover:text-white mr-2",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-green hover:bg-brand-green-hover text-brand-base font-bold rounded-lg transition-colors shadow-lg shadow-brand-green/20",children:"Confirmar"})]})]})]})})]})},Xv=document.getElementById("root");if(!Xv)throw new Error("Could not find root element to mount to");const k1=IS.createRoot(Xv);k1.render(w.jsx(ES.StrictMode,{children:w.jsx(U1,{})}));
